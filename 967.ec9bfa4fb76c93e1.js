"use strict";var e8=Object.defineProperty,t8=Object.defineProperties,r8=Object.getOwnPropertyDescriptors,rc=Object.getOwnPropertySymbols,Nf=Object.prototype.hasOwnProperty,jf=Object.prototype.propertyIsEnumerable,Lf=(mt,bt,Ke)=>bt in mt?e8(mt,bt,{enumerable:!0,configurable:!0,writable:!0,value:Ke}):mt[bt]=Ke,Be=(mt,bt)=>{for(var Ke in bt||(bt={}))Nf.call(bt,Ke)&&Lf(mt,Ke,bt[Ke]);if(rc)for(var Ke of rc(bt))jf.call(bt,Ke)&&Lf(mt,Ke,bt[Ke]);return mt},na=(mt,bt)=>t8(mt,r8(bt)),pt=(mt,bt)=>{var Ke={};for(var yt in mt)Nf.call(mt,yt)&&bt.indexOf(yt)<0&&(Ke[yt]=mt[yt]);if(null!=mt&&rc)for(var yt of rc(mt))bt.indexOf(yt)<0&&jf.call(mt,yt)&&(Ke[yt]=mt[yt]);return Ke};(self.webpackChunksebastianwie_land=self.webpackChunksebastianwie_land||[]).push([[967],{8967:(mt,bt,Ke)=>{Ke.r(bt),Ke.d(bt,{ContactModule:()=>Xp});var yt=Ke(6019),cs=Ke(9192),p=Ke(3668),nr=Ke(2583),T1=Ke(8305),Gf=Ke(886),Zf=Ke(9985),Hf=Ke(8830),Wf=Ke(8889),$f=Ke(2937),Yf=Ke(2857),_r=Ke(4753);let I1=(()=>{class t{constructor(r,n){this._renderer=r,this._elementRef=n,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(r,n){this._renderer.setProperty(this._elementRef.nativeElement,r,n)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return t.\u0275fac=function(r){return new(r||t)(p.Y36(p.Qsj),p.Y36(p.SBq))},t.\u0275dir=p.lG2({type:t}),t})(),ri=(()=>{class t extends I1{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=p.n5z(t)))(n||t)}}(),t.\u0275dir=p.lG2({type:t,features:[p.qOj]}),t})();const wr=new p.OlP("NgValueAccessor"),Qf={provide:wr,useExisting:(0,p.Gpc)(()=>nc),multi:!0};let nc=(()=>{class t extends ri{writeValue(r){this.setProperty("checked",r)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=p.n5z(t)))(n||t)}}(),t.\u0275dir=p.lG2({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,n){1&r&&p.NdJ("change",function(a){return n.onChange(a.target.checked)})("blur",function(){return n.onTouched()})},features:[p._Bn([Qf]),p.qOj]}),t})();const Xf={provide:wr,useExisting:(0,p.Gpc)(()=>us),multi:!0},t3=new p.OlP("CompositionEventMode");let us=(()=>{class t extends I1{constructor(r,n,i){super(r,n),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=(0,yt.q)()?(0,yt.q)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return t.\u0275fac=function(r){return new(r||t)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(t3,8))},t.\u0275dir=p.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,n){1&r&&p.NdJ("input",function(a){return n._handleInput(a.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(a){return n._compositionEnd(a.target.value)})},features:[p._Bn([Xf]),p.qOj]}),t})();function wn(t){return null==t||0===t.length}function U1(t){return null!=t&&"number"==typeof t.length}const Mt=new p.OlP("NgValidators"),An=new p.OlP("NgAsyncValidators"),r3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ni{static min(e){return function(t){return e=>{if(wn(e.value)||wn(t))return null;const r=parseFloat(e.value);return!isNaN(r)&&r<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function(t){return e=>{if(wn(e.value)||wn(t))return null;const r=parseFloat(e.value);return!isNaN(r)&&r>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function(t){return wn(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function(t){return wn(t.value)||r3.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function(t){return e=>wn(e.value)||!U1(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(t){return e=>U1(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(t){if(!t)return ia;let e,r;return"string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),e=new RegExp(r)):(r=t.toString(),e=t),n=>{if(wn(n.value))return null;const i=n.value;return e.test(i)?null:{pattern:{requiredPattern:r,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return H1(e)}static composeAsync(e){return W1(e)}}function ia(t){return null}function N1(t){return null!=t}function j1(t){const e=(0,p.QGY)(t)?(0,nr.D)(t):t;return(0,p.CqO)(e),e}function L1(t){let e={};return t.forEach(r=>{e=null!=r?Be(Be({},e),r):e}),0===Object.keys(e).length?null:e}function G1(t,e){return e.map(r=>r(t))}function Z1(t){return t.map(e=>function(t){return!t.validate}(e)?e:r=>e.validate(r))}function H1(t){if(!t)return null;const e=t.filter(N1);return 0==e.length?null:function(r){return L1(G1(r,e))}}function ic(t){return null!=t?H1(Z1(t)):null}function W1(t){if(!t)return null;const e=t.filter(N1);return 0==e.length?null:function(r){return function(...t){const e=(0,Hf.jO)(t),{args:r,keys:n}=(0,Gf.D)(t),i=new T1.y(a=>{const{length:s}=r;if(!s)return void a.complete();const o=new Array(s);let u=s,c=s;for(let l=0;l<s;l++){let d=!1;(0,Zf.Xf)(r[l]).subscribe(new Wf.Q(a,y=>{d||(d=!0,c--),o[l]=y},()=>u--,void 0,()=>{(!u||!d)&&(c||a.next(n?(0,Yf.n)(n,o):o),a.complete())}))}});return e?i.pipe((0,$f.Z)(e)):i}(G1(r,e).map(j1)).pipe((0,_r.U)(L1))}}function ac(t){return null!=t?W1(Z1(t)):null}function $1(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Y1(t){return t._rawValidators}function J1(t){return t._rawAsyncValidators}function sc(t){return t?Array.isArray(t)?t:[t]:[]}function ls(t,e){return Array.isArray(t)?t.includes(e):t===e}function Q1(t,e){const r=sc(e);return sc(t).forEach(i=>{ls(r,i)||r.push(i)}),r}function X1(t,e){return sc(e).filter(r=>!ls(t,r))}class el{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ic(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ac(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,r){return!!this.control&&this.control.hasError(e,r)}getError(e,r){return this.control?this.control.getError(e,r):null}}class Kt extends el{get formDirective(){return null}get path(){return null}}class kn extends el{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tl{constructor(e){this._cd=e}is(e){var r,n,i;return"submitted"===e?!!(null==(r=this._cd)?void 0:r.submitted):!!(null==(i=null==(n=this._cd)?void 0:n.control)?void 0:i[e])}}let rl=(()=>{class t extends tl{constructor(r){super(r)}}return t.\u0275fac=function(r){return new(r||t)(p.Y36(kn,2))},t.\u0275dir=p.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,n){2&r&&p.ekj("ng-untouched",n.is("untouched"))("ng-touched",n.is("touched"))("ng-pristine",n.is("pristine"))("ng-dirty",n.is("dirty"))("ng-valid",n.is("valid"))("ng-invalid",n.is("invalid"))("ng-pending",n.is("pending"))},features:[p.qOj]}),t})(),oc=(()=>{class t extends tl{constructor(r){super(r)}}return t.\u0275fac=function(r){return new(r||t)(p.Y36(Kt,10))},t.\u0275dir=p.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,n){2&r&&p.ekj("ng-untouched",n.is("untouched"))("ng-touched",n.is("touched"))("ng-pristine",n.is("pristine"))("ng-dirty",n.is("dirty"))("ng-valid",n.is("valid"))("ng-invalid",n.is("invalid"))("ng-pending",n.is("pending"))("ng-submitted",n.is("submitted"))},features:[p.qOj]}),t})();function aa(t,e){lc(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(r=>{t._pendingValue=r,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&nl(t,e)})}(t,e),function(t,e){const r=(n,i)=>{e.valueAccessor.writeValue(n),i&&e.viewToModelUpdate(n)};t.registerOnChange(r),e._registerOnDestroy(()=>{t._unregisterOnChange(r)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&nl(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const r=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(r),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(r)})}}(t,e)}function fs(t,e,r=!0){const n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),ys(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ps(t,e){t.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function lc(t,e){const r=Y1(t);null!==e.validator?t.setValidators($1(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const n=J1(t);null!==e.asyncValidator?t.setAsyncValidators($1(n,e.asyncValidator)):"function"==typeof n&&t.setAsyncValidators([n]);const i=()=>t.updateValueAndValidity();ps(e._rawValidators,i),ps(e._rawAsyncValidators,i)}function ys(t,e){let r=!1;if(null!==t){if(null!==e.validator){const i=Y1(t);if(Array.isArray(i)&&i.length>0){const a=i.filter(s=>s!==e.validator);a.length!==i.length&&(r=!0,t.setValidators(a))}}if(null!==e.asyncValidator){const i=J1(t);if(Array.isArray(i)&&i.length>0){const a=i.filter(s=>s!==e.asyncValidator);a.length!==i.length&&(r=!0,t.setAsyncValidators(a))}}}const n=()=>{};return ps(e._rawValidators,n),ps(e._rawAsyncValidators,n),r}function nl(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function gs(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const sa="VALID",ms="INVALID",Ci="PENDING",oa="DISABLED";function fc(t){return(yc(t)?t.validators:t)||null}function sl(t){return Array.isArray(t)?ic(t):t||null}function pc(t,e){return(yc(e)?e.asyncValidators:t)||null}function ol(t){return Array.isArray(t)?ac(t):t||null}function yc(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class gc{constructor(e,r){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=r,this._composedValidatorFn=sl(this._rawValidators),this._composedAsyncValidatorFn=ol(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===sa}get invalid(){return this.status===ms}get pending(){return this.status==Ci}get disabled(){return this.status===oa}get enabled(){return this.status!==oa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=sl(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ol(e)}addValidators(e){this.setValidators(Q1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Q1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(X1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(X1(e,this._rawAsyncValidators))}hasValidator(e){return ls(this._rawValidators,e)}hasAsyncValidator(e){return ls(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ci,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const r=this._parentMarkedDirty(e.onlySelf);this.status=oa,this.errors=null,this._forEachChild(n=>{n.disable(na(Be({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(na(Be({},e),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){const r=this._parentMarkedDirty(e.onlySelf);this.status=sa,this._forEachChild(n=>{n.enable(na(Be({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(na(Be({},e),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sa||this.status===Ci)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oa:sa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ci,this._hasOwnPendingAsyncValidator=!0;const r=j1(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(!1!==r.emitEvent)}get(e){return function(t,e,r){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let n=t;return e.forEach(i=>{n=n instanceof ca?n.controls.hasOwnProperty(i)?n.controls[i]:null:n instanceof mc&&n.at(i)||null}),n}(this,e)}getError(e,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?oa:this.errors?ms:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ci)?Ci:this._anyControlsHaveStatus(ms)?ms:sa}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Mi extends gc{constructor(e=null,r,n){super(fc(r),pc(n,r)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=null,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gs(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gs(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ca extends gc{constructor(e,r,n){super(fc(r),pc(n,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,n={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,n)=>(e[n]=r instanceof Mi?r.value:r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,n)=>!!n._syncPendingControls()||r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(r=>{const n=this.controls[r];n&&e(n,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const r of Object.keys(this.controls)){const n=this.controls[r];if(this.contains(r)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,r,n)=>((r.enabled||this.disabled)&&(e[n]=r.value),e))}_reduceChildren(e,r){let n=e;return this._forEachChild((i,a)=>{n=r(n,i,a)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((r,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class mc extends gc{constructor(e,r,n){super(fc(r),pc(n,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,r={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(e,r,n={}){this.controls.splice(e,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(e,r,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),r&&(this.controls.splice(e,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,r={}){this._checkAllValuesPresent(e),e.forEach((n,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(n,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){null!=e&&(e.forEach((n,i)=>{this.at(i)&&this.at(i).patchValue(n,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e=[],r={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(e=>e instanceof Mi?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((r,n)=>!!n._syncPendingControls()||r,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((r,n)=>{e(r,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(r=>r.enabled&&e(r))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((r,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let vc=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=p.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),fl=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({}),t})();const _c=new p.OlP("NgModelWithFormControlWarning"),k3={provide:Kt,useExisting:(0,p.Gpc)(()=>bs)};let bs=(()=>{class t extends Kt{constructor(r,n){super(),this.validators=r,this.asyncValidators=n,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(r),this._setAsyncValidators(n)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ys(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const n=this.form.get(r.path);return aa(n,r),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),n}getControl(r){return this.form.get(r.path)}removeControl(r){fs(r.control||null,r,!1),gs(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,n){this.form.get(r.path).setValue(n)}onSubmit(r){return this.submitted=!0,function(t,e){t._syncPendingControls(),e.forEach(r=>{const n=r.control;"submit"===n.updateOn&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const n=r.control,i=this.form.get(r.path);n!==i&&(fs(n||null,r),i instanceof Mi&&(aa(i,r),r.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const n=this.form.get(r.path);(function(t,e){lc(t,e)})(n,r),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const n=this.form.get(r.path);n&&function(t,e){return ys(t,e)}(n,r)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lc(this.form,this),this._oldForm&&ys(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(r){return new(r||t)(p.Y36(Mt,10),p.Y36(An,10))},t.\u0275dir=p.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,n){1&r&&p.NdJ("submit",function(a){return n.onSubmit(a)})("reset",function(){return n.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([k3]),p.qOj,p.TTD]}),t})();const E3={provide:kn,useExisting:(0,p.Gpc)(()=>kc)};let kc=(()=>{class t extends kn{constructor(r,n,i,a,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=function(t,e){if(!e)return null;let r,n,i;return Array.isArray(e),e.forEach(a=>{a.constructor===us?r=a:function(t){return Object.getPrototypeOf(t.constructor)===ri}(a)?n=a:i=a}),i||n||r||null}(0,a)}set isDisabled(r){}ngOnChanges(r){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const r=t.model;return!!r.isFirstChange()||!Object.is(e,r.currentValue)}(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(p.Y36(Kt,13),p.Y36(Mt,10),p.Y36(An,10),p.Y36(wr,10),p.Y36(_c,8))},t.\u0275dir=p.lG2({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([E3]),p.qOj,p.TTD]}),t})(),q3=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[fl]]}),t})(),Pl=(()=>{class t{static withConfig(r){return{ngModule:t,providers:[{provide:_c,useValue:r.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[q3]}),t})(),j3=(()=>{class t{group(r,n=null){const i=this._reduceControls(r);let o,a=null,s=null;return null!=n&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(n)?(a=null!=n.validators?n.validators:null,s=null!=n.asyncValidators?n.asyncValidators:null,o=null!=n.updateOn?n.updateOn:void 0):(a=null!=n.validator?n.validator:null,s=null!=n.asyncValidator?n.asyncValidator:null)),new ca(i,{asyncValidators:s,updateOn:o,validators:a})}control(r,n,i){return new Mi(r,n,i)}array(r,n,i){const a=r.map(s=>this._createControl(s));return new mc(a,n,i)}_reduceControls(r){const n={};return Object.keys(r).forEach(i=>{n[i]=this._createControl(r[i])}),n}_createControl(r){return r instanceof Mi||r instanceof ca||r instanceof mc?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:Pl}),t})();var Dl=Ke(273),Tl=Ke(9468),_s=Ke(6263),L3=Ke(9463),He=Ke(4384);const Il=(0,He.PH)("[Contact Form] Store Inputs",(0,He.Ky)()),Ul=(0,He.PH)("[Contact Form] Reset"),Cc=(0,He.PH)("[Contact Form] Send",(0,He.Ky)()),Mc=(0,He.PH)("[Contact Form] Send Success"),Rl=(0,He.PH)("[Contact Form] Send Failure",(0,He.Ky)()),Pc=(0,He.PH)("[OpenPGP] Load Public Key"),Kl=(0,He.PH)("[OpenPGP] Load Public Key Success",(0,He.Ky)()),Bl=(0,He.PH)("[OpenPGP] Load Public Key Failure",(0,He.Ky)()),Dc={loading:!1,publicKey:null,error:null},e5=(0,He.Lq)(Dc,(0,He.on)(Pc,t=>Object.assign(Object.assign({},t),{loading:!0,error:Dc.error})),(0,He.on)(Kl,(t,{publicKey:e})=>Object.assign(Object.assign({},t),{loading:!1,publicKey:e,error:Dc.error})),(0,He.on)(Bl,(t,{error:e})=>Object.assign(Object.assign({},t),{loading:!1,error:e}))),Ol={subject:null,fromName:null,fromEmail:null,message:null,requestEncryptedReply:!1,encryptionPassphrase:null,sending:!1,sendError:null},r5=(0,He.Lq)(Ol,(0,He.on)(Il,(t,e)=>Object.assign(Object.assign({},t),e)),(0,He.on)(Ul,t=>Object.assign(Object.assign({},t),Ol)),(0,He.on)(Cc,t=>Object.assign(Object.assign({},t),{sending:!0,sendError:null})),(0,He.on)(Mc,t=>Object.assign(Object.assign({},t),{sending:!1,sendError:null})),(0,He.on)(Rl,(t,{error:e})=>Object.assign(Object.assign({},t),{sending:!1,sendError:e}))),Fl="contact",n5={openpgp:e5,contactForm:r5},zl=(0,He.ZF)(Fl),Tc=(0,He.P1)(zl,t=>t.contactForm),i5=(0,He.P1)(Tc,({subject:t,fromName:e,fromEmail:r,message:n,requestEncryptedReply:i,encryptionPassphrase:a})=>({subject:t,fromName:e,fromEmail:r,message:n,requestEncryptedReply:i,encryptionPassphrase:a})),a5=(0,He.P1)(Tc,t=>t.sending);function Vl(t,e,r,n,i,a,s){try{var o=t[a](s),u=o.value}catch(c){return void r(c)}o.done?e(u):Promise.resolve(u).then(n,i)}function L(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function s(u){Vl(a,n,i,s,o,"next",u)}function o(u){Vl(a,n,i,s,o,"throw",u)}s(void 0)})}}(0,He.P1)(Tc,t=>t.sendError);const Bt="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Pi=Symbol("doneWritingPromise"),ql=Symbol("doneWritingResolve"),Nl=Symbol("doneWritingReject"),la=Symbol("readingIndex");class Ar extends Array{constructor(){super(),this[Pi]=new Promise((e,r)=>{this[ql]=e,this[Nl]=r}),this[Pi].catch(()=>{})}}function dt(t){return t&&t.getReader&&Array.isArray(t)}function da(t){if(!dt(t)){const e=t.getWriter(),r=e.releaseLock;return e.releaseLock=()=>{e.closed.catch(function(){}),r.call(e)},e}this.stream=t}Ar.prototype.getReader=function(){var e,t=this;return void 0===this[la]&&(this[la]=0),{read:(e=L(function*(){return yield t[Pi],t[la]===t.length?{value:void 0,done:!0}:{value:t[t[la]++],done:!1}}),function(){return e.apply(this,arguments)})}},Ar.prototype.readToEnd=function(){var t=L(function*(e){yield this[Pi];const r=e(this.slice(this[la]));return this.length=0,r});return function(e){return t.apply(this,arguments)}}(),Ar.prototype.clone=function(){const t=new Ar;return t[Pi]=this[Pi].then(()=>{t.push(...this)}),t},da.prototype.write=function(){var t=L(function*(e){this.stream.push(e)});return function(e){return t.apply(this,arguments)}}(),da.prototype.close=L(function*(){this.stream[ql]()}),da.prototype.abort=function(){var t=L(function*(e){return this.stream[Nl](e),e});return function(e){return t.apply(this,arguments)}}(),da.prototype.releaseLock=function(){};const ws="object"==typeof Bt.process&&"object"==typeof Bt.process.versions,jl=ws&&void 0;function Lt(t){return dt(t)?"array":Bt.ReadableStream&&Bt.ReadableStream.prototype.isPrototypeOf(t)?"web":en&&en.prototype.isPrototypeOf(t)?"ponyfill":jl&&jl.prototype.isPrototypeOf(t)?"node":!(!t||!t.getReader)&&"web-like"}function As(t){return Uint8Array.prototype.isPrototypeOf(t)}function Ll(t){if(1===t.length)return t[0];let e=0;for(let i=0;i<t.length;i++){if(!As(t[i]))throw Error("concatUint8Array: Data must be in the form of a Uint8Array");e+=t[i].length}const r=new Uint8Array(e);let n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}const s5=ws&&void 0,Gl=ws&&void 0;let ks,Ic;if(Gl){ks=function(e){let r=!1;return new en({start(n){e.pause(),e.on("data",i=>{r||(s5.isBuffer(i)&&(i=new Uint8Array(i.buffer,i.byteOffset,i.byteLength)),n.enqueue(i),e.pause())}),e.on("end",()=>{r||n.close()}),e.on("error",i=>n.error(i))},pull(){e.resume()},cancel(n){r=!0,e.destroy(n)}})};class t extends Gl{constructor(r,n){super(n),this._reader=Sr(r)}_read(r){var n=this;return L(function*(){try{for(;;){const{done:i,value:a}=yield n._reader.read();if(i){n.push(null);break}if(!n.push(a)||n._cancelling){n._reading=!1;break}}}catch(i){n.emit("error",i)}})()}_destroy(r){this._reader.cancel(r)}}Ic=function(e,r){return new t(e,r)}}const Zl=new WeakSet,nt=Symbol("externalBuffer");function kr(t){if(this.stream=t,t[nt]&&(this[nt]=t[nt].slice()),dt(t)){const n=t.getReader();return this._read=n.read.bind(n),this._releaseLock=()=>{},void(this._cancel=()=>{})}let e=Lt(t);if("node"===e&&(t=ks(t)),e){const n=t.getReader();return this._read=n.read.bind(n),this._releaseLock=()=>{n.closed.catch(function(){}),n.releaseLock()},void(this._cancel=n.cancel.bind(n))}let r=!1;this._read=L(function*(){return r||Zl.has(t)?{value:void 0,done:!0}:(r=!0,{value:t,done:!1})}),this._releaseLock=()=>{if(r)try{Zl.add(t)}catch(n){}}}kr.prototype.read=L(function*(){return this[nt]&&this[nt].length?{done:!1,value:this[nt].shift()}:this._read()}),kr.prototype.releaseLock=function(){this[nt]&&(this.stream[nt]=this[nt]),this._releaseLock()},kr.prototype.cancel=function(t){return this._cancel(t)},kr.prototype.readLine=L(function*(){let t,e=[];for(;!t;){let{done:r,value:n}=yield this.read();if(n+="",r)return e.length?Ot(e):void 0;const i=n.indexOf("\n")+1;i&&(t=Ot(e.concat(n.substr(0,i))),e=[]),i!==n.length&&e.push(n.substr(i))}return this.unshift(...e),t}),kr.prototype.readByte=L(function*(){const{done:t,value:e}=yield this.read();if(t)return;const r=e[0];return this.unshift(St(e,1)),r}),kr.prototype.readBytes=function(){var t=L(function*(e){const r=[];let n=0;for(;;){const{done:i,value:a}=yield this.read();if(i)return r.length?Ot(r):void 0;if(r.push(a),n+=a.length,n>=e){const s=Ot(r);return this.unshift(St(s,e)),St(s,0,e)}}});return function(e){return t.apply(this,arguments)}}(),kr.prototype.peekBytes=function(){var t=L(function*(e){const r=yield this.readBytes(e);return this.unshift(r),r});return function(e){return t.apply(this,arguments)}}(),kr.prototype.unshift=function(...t){this[nt]||(this[nt]=[]),1===t.length&&As(t[0])&&this[nt].length&&t[0].length&&this[nt][0].byteOffset>=t[0].length?this[nt][0]=new Uint8Array(this[nt][0].buffer,this[nt][0].byteOffset-t[0].length,this[nt][0].byteLength+t[0].length):this[nt].unshift(...t.filter(e=>e&&e.length))},kr.prototype.readToEnd=function(){var t=L(function*(e=Ot){const r=[];for(;;){const{done:n,value:i}=yield this.read();if(n)break;r.push(i)}return e(r)});return function(){return t.apply(this,arguments)}}();let Uc,Hl,{ReadableStream:en,WritableStream:Wl,TransformStream:Di}=Bt;function $l(){return Rc.apply(this,arguments)}function Rc(){return(Rc=L(function*(){if(Di)return;const[t,e]=yield Promise.all([Promise.resolve().then(function(){return O4}),Promise.resolve().then(function(){return N4})]);({ReadableStream:en,WritableStream:Wl,TransformStream:Di}=t);const{createReadableStreamWrapper:r}=e;Bt.ReadableStream&&en!==Bt.ReadableStream&&(Uc=r(en),Hl=r(Bt.ReadableStream))})).apply(this,arguments)}const ha=ws&&void 0;function fa(t){let e=Lt(t);return"node"===e?ks(t):"web"===e&&Uc?Uc(t):e?t:new en({start(r){r.enqueue(t),r.close()}})}function Yl(t){if(Lt(t))return t;const e=new Ar;return L(function*(){const r=Gt(e);yield r.write(t),yield r.close()})(),e}function Ot(t){return t.some(e=>Lt(e)&&!dt(e))?function(e){e=e.map(fa);const r=Ql(function(){var a=L(function*(s){yield Promise.all(i.map(o=>Oc(o,s)))});return function(s){return a.apply(this,arguments)}}());let n=Promise.resolve();const i=e.map((a,s)=>xr(a,(o,u)=>(n=n.then(()=>tn(o,r.writable,{preventClose:s!==e.length-1})),n)));return r.readable}(t):t.some(e=>dt(e))?function(e){const r=new Ar;let n=Promise.resolve();return e.forEach((i,a)=>(n=n.then(()=>tn(i,r,{preventClose:a!==e.length-1})),n)),r}(t):"string"==typeof t[0]?t.join(""):ha&&ha.isBuffer(t[0])?ha.concat(t):Ll(t)}function Sr(t){return new kr(t)}function Gt(t){return new da(t)}function tn(t,e){return Kc.apply(this,arguments)}function Kc(){return(Kc=L(function*(t,e,{preventClose:r=!1,preventAbort:n=!1,preventCancel:i=!1}={}){if(Lt(t)&&!dt(t)){t=fa(t);try{if(t[nt]){const o=Gt(e);for(let u=0;u<t[nt].length;u++)yield o.ready,yield o.write(t[nt][u]);o.releaseLock()}yield t.pipeTo(e,{preventClose:r,preventAbort:n,preventCancel:i})}catch(o){}return}const a=Sr(t=Yl(t)),s=Gt(e);try{for(;;){yield s.ready;const{done:o,value:u}=yield a.read();if(o){r||(yield s.close());break}yield s.write(u)}}catch(o){n||(yield s.abort(o))}finally{a.releaseLock(),s.releaseLock()}})).apply(this,arguments)}function Jl(t,e){const r=new Di(e);return tn(t,r.writable),r.readable}function Ql(t){let e,r,n=!1;return{readable:new en({start(i){r=i},pull(){e?e():n=!0},cancel:t},{highWaterMark:0}),writable:new Wl({write:(i=L(function*(a){r.enqueue(a),n?n=!1:(yield new Promise(s=>{e=s}),e=null)}),function(s){return i.apply(this,arguments)}),close:r.close.bind(r),abort:r.error.bind(r)})};var i}function lt(t,e=(()=>{}),r=(()=>{})){if(dt(t)){const a=new Ar;return L(function*(){const s=yield ht(t),o=e(s),u=r();let c;c=void 0!==o&&void 0!==u?Ot([o,u]):void 0!==o?o:u;const l=Gt(a);yield l.write(c),yield l.close()})(),a}if(Lt(t))return Jl(t,{transform:(a,s)=>L(function*(){try{const o=yield e(a);void 0!==o&&s.enqueue(o)}catch(o){s.error(o)}})(),flush:a=>L(function*(){try{const s=yield r();void 0!==s&&a.enqueue(s)}catch(s){a.error(s)}})()});const n=e(t),i=r();return void 0!==n&&void 0!==i?Ot([n,i]):void 0!==n?n:i}function xr(t,e){if(Lt(t)&&!dt(t)){let n;const i=new Di({start(o){n=o}}),a=tn(t,i.writable),s=Ql(L(function*(){n.error(Error("Readable side was canceled.")),yield a,yield new Promise(setTimeout)}));return e(i.readable,s.writable),s.readable}t=Yl(t);const r=new Ar;return e(t,r),r}function Ss(t,e){let r;const n=xr(t,(i,a)=>{const s=Sr(i);s.remainder=()=>(s.releaseLock(),tn(i,a),n),r=e(s)});return r}function ii(t){if(dt(t))return t.clone();if(Lt(t)){const e=function(r){if(dt(r))throw Error("ArrayStream cannot be tee()d, use clone() instead");if(Lt(r)){const n=fa(r).tee();return n[0][nt]=n[1][nt]=r[nt],n}return[St(r),St(r)]}(t);return Xl(t,e[0]),e[1]}return St(t)}function Ti(t){return dt(t)?ii(t):Lt(t)?new en({start(e){const r=xr(t,function(){var n=L(function*(i,a){const s=Sr(i),o=Gt(a);try{for(;;){yield o.ready;const{done:u,value:c}=yield s.read();if(u){try{e.close()}catch(l){}return void(yield o.close())}try{e.enqueue(c)}catch(l){}yield o.write(c)}}catch(u){e.error(u),yield o.abort(u)}});return function(i,a){return n.apply(this,arguments)}}());Xl(t,r)}}):St(t)}function Xl(t,e){Object.entries(Object.getOwnPropertyDescriptors(t.constructor.prototype)).forEach(([r,n])=>{"constructor"!==r&&(n.value?n.value=n.value.bind(e):n.get=n.get.bind(e),Object.defineProperty(t,r,n))})}function St(t,e=0,r=1/0){if(dt(t))throw Error("Not implemented");if(Lt(t)){if(e>=0&&r>=0){let n=0;return Jl(t,{transform(i,a){n<r?(n+i.length>=e&&a.enqueue(St(i,Math.max(e-n,0),r-n)),n+=i.length):a.terminate()}})}if(e<0&&(r<0||r===1/0)){let n=[];return lt(t,i=>{i.length>=-e?n=[i]:n.push(i)},()=>St(Ot(n),e,r))}if(0===e&&r<0){let n;return lt(t,i=>{const a=n?Ot([n,i]):i;if(a.length>=-r)return n=St(a,r),St(a,e,r);n=a})}return console.warn(`stream.slice(input, ${e}, ${r}) not implemented efficiently.`),rn(L(function*(){return St(yield ht(t),e,r)}))}return t[nt]&&(t=Ot(t[nt].concat([t]))),!As(t)||ha&&ha.isBuffer(t)?t.slice(e,r):(r===1/0&&(r=t.length),t.subarray(e,r))}function ht(t){return Bc.apply(this,arguments)}function Bc(){return(Bc=L(function*(t,e=Ot){return dt(t)?t.readToEnd(e):Lt(t)?Sr(t).readToEnd(e):t})).apply(this,arguments)}function Oc(t,e){return Fc.apply(this,arguments)}function Fc(){return(Fc=L(function*(t,e){if(Lt(t)){if(t.cancel)return t.cancel(e);if(t.destroy)return t.destroy(e),yield new Promise(setTimeout),e}})).apply(this,arguments)}function rn(t){const e=new Ar;return L(function*(){const r=Gt(e);try{yield r.write(yield t()),yield r.close()}catch(n){yield r.abort(n)}})(),e}class Ft{constructor(e){if(void 0===e)throw Error("Invalid BigInteger input");if(e instanceof Uint8Array){const r=e,n=Array(r.length);for(let i=0;i<r.length;i++){const a=r[i].toString(16);n[i]=r[i]<=15?"0"+a:a}this.value=BigInt("0x0"+n.join(""))}else this.value=BigInt(e)}clone(){return new Ft(this.value)}iinc(){return this.value++,this}inc(){return this.clone().iinc()}idec(){return this.value--,this}dec(){return this.clone().idec()}iadd(e){return this.value+=e.value,this}add(e){return this.clone().iadd(e)}isub(e){return this.value-=e.value,this}sub(e){return this.clone().isub(e)}imul(e){return this.value*=e.value,this}mul(e){return this.clone().imul(e)}imod(e){return this.value%=e.value,this.isNegative()&&this.iadd(e),this}mod(e){return this.clone().imod(e)}modExp(e,r){if(r.isZero())throw Error("Modulo cannot be zero");if(r.isOne())return new Ft(0);if(e.isNegative())throw Error("Unsopported negative exponent");let n=e.value,i=this.value;i%=r.value;let a=BigInt(1);for(;n>BigInt(0);){const s=n&BigInt(1);n>>=BigInt(1);const o=a*i%r.value;a=s?o:a,i=i*i%r.value}return new Ft(a)}modInv(e){const{gcd:r,x:n}=this._egcd(e);if(!r.isOne())throw Error("Inverse does not exist");return n.add(e).mod(e)}_egcd(e){let r=BigInt(0),n=BigInt(1),i=BigInt(1),a=BigInt(0),s=this.value;for(e=e.value;e!==BigInt(0);){const o=s/e;let u=r;r=i-o*r,i=u,u=n,n=a-o*n,a=u,u=e,e=s%e,s=u}return{x:new Ft(i),y:new Ft(a),gcd:new Ft(s)}}gcd(e){let r=this.value;for(e=e.value;e!==BigInt(0);){const n=e;e=r%e,r=n}return new Ft(r)}ileftShift(e){return this.value<<=e.value,this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value>>=e.value,this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value===e.value}lt(e){return this.value<e.value}lte(e){return this.value<=e.value}gt(e){return this.value>e.value}gte(e){return this.value>=e.value}isZero(){return this.value===BigInt(0)}isOne(){return this.value===BigInt(1)}isNegative(){return this.value<BigInt(0)}isEven(){return!(this.value&BigInt(1))}abs(){const e=this.clone();return this.isNegative()&&(e.value=-e.value),e}toString(){return this.value.toString()}toNumber(){const e=Number(this.value);if(e>Number.MAX_SAFE_INTEGER)throw Error("Number can only safely store up to 53 bits");return e}getBit(e){return(this.value>>BigInt(e)&BigInt(1))===BigInt(0)?0:1}bitLength(){const e=new Ft(0),r=new Ft(1),n=new Ft(-1),i=this.isNegative()?n:e;let a=1;const s=this.clone();for(;!s.irightShift(r).equal(i);)a++;return a}byteLength(){const e=new Ft(0),r=new Ft(-1),n=this.isNegative()?r:e,i=new Ft(8);let a=1;const s=this.clone();for(;!s.irightShift(i).equal(n);)a++;return a}toUint8Array(e="be",r){let n=this.value.toString(16);n.length%2==1&&(n="0"+n);const i=n.length/2,a=new Uint8Array(r||i),s=r?r-i:0;let o=0;for(;o<i;)a[o+s]=parseInt(n.slice(2*o,2*o+2),16),o++;return"be"!==e&&a.reverse(),a}}const ed=(()=>{try{return!1}catch(t){}return!1})(),C={isString:function(t){return"string"==typeof t||String.prototype.isPrototypeOf(t)},isArray:function(t){return Array.prototype.isPrototypeOf(t)},isUint8Array:As,isStream:Lt,readNumber:function(t){let e=0;for(let r=0;r<t.length;r++)e+=256**r*t[t.length-1-r];return e},writeNumber:function(t,e){const r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=t>>8*(e-n-1)&255;return r},readDate:function(t){const e=C.readNumber(t);return new Date(1e3*e)},writeDate:function(t){const e=Math.floor(t.getTime()/1e3);return C.writeNumber(e,4)},normalizeDate:function(t=Date.now()){return null===t||t===1/0?t:new Date(1e3*Math.floor(+t/1e3))},readMPI:function(t){return t.subarray(2,2+(7+(t[0]<<8|t[1])>>>3))},leftPad(t,e){const r=new Uint8Array(e);return r.set(t,e-t.length),r},uint8ArrayToMPI:function(t){const e=C.uint8ArrayBitLength(t);if(0===e)throw Error("Zero MPI");const r=t.subarray(t.length-Math.ceil(e/8)),n=new Uint8Array([(65280&e)>>8,255&e]);return C.concatUint8Array([n,r])},uint8ArrayBitLength:function(t){let e;for(e=0;e<t.length&&0===t[e];e++);if(e===t.length)return 0;const r=t.subarray(e);return 8*(r.length-1)+C.nbits(r[0])},hexToUint8Array:function(t){const e=new Uint8Array(t.length>>1);for(let r=0;r<t.length>>1;r++)e[r]=parseInt(t.substr(r<<1,2),16);return e},uint8ArrayToHex:function(t){const e=[],r=t.length;let n,i=0;for(;i<r;){for(n=t[i++].toString(16);n.length<2;)n="0"+n;e.push(""+n)}return e.join("")},stringToUint8Array:function(t){return lt(t,e=>{if(!C.isString(e))throw Error("stringToUint8Array: Data must be in the form of a string");const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r})},uint8ArrayToString:function(t){const e=[],r=16384,n=(t=new Uint8Array(t)).length;for(let i=0;i<n;i+=r)e.push(String.fromCharCode.apply(String,t.subarray(i,i+r<n?i+r:n)));return e.join("")},encodeUTF8:function(t){const e=new TextEncoder("utf-8");function r(n,i=!1){return e.encode(n,{stream:!i})}return lt(t,r,()=>r("",!0))},decodeUTF8:function(t){const e=new TextDecoder("utf-8");function r(n,i=!1){return e.decode(n,{stream:!i})}return lt(t,r,()=>r(new Uint8Array,!0))},concat:Ot,concatUint8Array:Ll,equalsUint8Array:function(t,e){if(!C.isUint8Array(t)||!C.isUint8Array(e))throw Error("Data must be in the form of a Uint8Array");if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0},writeChecksum:function(t){let e=0;for(let r=0;r<t.length;r++)e=e+t[r]&65535;return C.writeNumber(e,2)},printDebug:function(t){ed&&console.log(t)},printDebugError:function(t){ed&&console.error(t)},nbits:function(t){let e=1,r=t>>>16;return 0!==r&&(t=r,e+=16),r=t>>8,0!==r&&(t=r,e+=8),r=t>>4,0!==r&&(t=r,e+=4),r=t>>2,0!==r&&(t=r,e+=2),r=t>>1,0!==r&&(t=r,e+=1),e},double:function(t){const e=new Uint8Array(t.length),r=t.length-1;for(let n=0;n<r;n++)e[n]=t[n]<<1^t[n+1]>>7;return e[r]=t[r]<<1^135*(t[0]>>7),e},shiftRight:function(t,e){if(e)for(let r=t.length-1;r>=0;r--)t[r]>>=e,r>0&&(t[r]|=t[r-1]<<8-e);return t},getWebCrypto:function(){return void 0!==Bt&&Bt.crypto&&Bt.crypto.subtle},detectNode:function(){return"object"==typeof Bt.process&&"object"==typeof Bt.process.versions},detectBigInt:()=>"undefined"!=typeof BigInt,getBigInteger:(t=L(function*(){if(C.detectBigInt())return Ft;{const{default:e}=yield Promise.resolve().then(function(){return j4});return e}}),function(){return t.apply(this,arguments)}),getNodeCrypto:function(){},getNodeZlib:function(){},getNodeBuffer:function(){return{}.Buffer},getHardwareConcurrency:function(){return C.detectNode()?(void 0).cpus().length:navigator.hardwareConcurrency||1},isEmailAddress:function(t){return!!C.isString(t)&&/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}|xn--[a-zA-Z\-0-9]+)))$/.test(t)},canonicalizeEOL:function(t){let e=!1;return lt(t,r=>{let n;e&&(r=C.concatUint8Array([new Uint8Array([13]),r])),13===r[r.length-1]?(e=!0,r=r.subarray(0,-1)):e=!1;const i=[];for(let o=0;n=r.indexOf(10,o)+1,n;o=n)13!==r[n-2]&&i.push(n);if(!i.length)return r;const a=new Uint8Array(r.length+i.length);let s=0;for(let o=0;o<i.length;o++){const u=r.subarray(i[o-1]||0,i[o]);a.set(u,s),s+=u.length,a[s-1]=13,a[s]=10,s++}return a.set(r.subarray(i[i.length-1]||0),s),a},()=>e?new Uint8Array([13]):void 0)},nativeEOL:function(t){let e=!1;return lt(t,r=>{let n;13===(r=e&&10!==r[0]?C.concatUint8Array([new Uint8Array([13]),r]):new Uint8Array(r))[r.length-1]?(e=!0,r=r.subarray(0,-1)):e=!1;let i=0;for(let a=0;a!==r.length;a=n){n=r.indexOf(13,a)+1,n||(n=r.length);const s=n-(10===r[n]?1:0);a&&r.copyWithin(i,a,s),i+=s-a}return r.subarray(0,i)},()=>e?new Uint8Array([13]):void 0)},removeTrailingSpaces:function(t){return t.split("\n").map(e=>{let r=e.length-1;for(;r>=0&&(" "===e[r]||"\t"===e[r]);r--);return e.substr(0,r+1)}).join("\n")},wrapError:function(t,e){if(!e)return Error(t);try{e.message=t+": "+e.message}catch(r){}return e},constructAllowedPackets:function(t){const e={};return t.forEach(r=>{if(!r.tag)throw Error("Invalid input: expected a packet class");e[r.tag]=r}),e},anyPromise:function(t){return new Promise(function(){var e=L(function*(r,n){let i;yield Promise.all(t.map(function(){var a=L(function*(s){try{r(yield s)}catch(o){i=o}});return function(s){return a.apply(this,arguments)}}())),n(i)});return function(r,n){return e.apply(this,arguments)}}())}},zc=C.getNodeBuffer();var t;let xs,Es;function nn(t){let e=new Uint8Array;return lt(t,r=>{e=C.concatUint8Array([e,r]);const n=[],i=Math.floor(e.length/45),a=45*i,s=xs(e.subarray(0,a));for(let o=0;o<i;o++)n.push(s.substr(60*o,60)),n.push("\n");return e=e.subarray(a),n.join("")},()=>e.length?xs(e)+"\n":"")}function td(t){let e="";return lt(t,r=>{e+=r;let n=0;const i=[" ","\t","\r","\n"];for(let o=0;o<i.length;o++){const u=i[o];for(let c=e.indexOf(u);-1!==c;c=e.indexOf(u,c+1))n++}let a=e.length;for(;a>0&&(a-n)%4!=0;a--)i.includes(e[a])&&n--;const s=Es(e.substr(0,a));return e=e.substr(a),s},()=>Es(e))}function an(t){return td(t.replace(/-/g,"+").replace(/_/g,"/"))}function er(t,e){let r=nn(t).replace(/[\r\n]/g,"");return e&&(r=r.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,"")),r}zc?(xs=t=>zc.from(t).toString("base64"),Es=t=>{const e=zc.from(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}):(xs=t=>btoa(C.uint8ArrayToString(t)),Es=t=>C.stringToUint8Array(atob(t)));const pa=Symbol("byValue");var _={curve:{p256:"p256","P-256":"p256",secp256r1:"p256",prime256v1:"p256","1.2.840.10045.3.1.7":"p256","2a8648ce3d030107":"p256","2A8648CE3D030107":"p256",p384:"p384","P-384":"p384",secp384r1:"p384","1.3.132.0.34":"p384","2b81040022":"p384","2B81040022":"p384",p521:"p521","P-521":"p521",secp521r1:"p521","1.3.132.0.35":"p521","2b81040023":"p521","2B81040023":"p521",secp256k1:"secp256k1","1.3.132.0.10":"secp256k1","2b8104000a":"secp256k1","2B8104000A":"secp256k1",ED25519:"ed25519",ed25519:"ed25519",Ed25519:"ed25519","1.3.6.1.4.1.11591.15.1":"ed25519","2b06010401da470f01":"ed25519","2B06010401DA470F01":"ed25519",X25519:"curve25519",cv25519:"curve25519",curve25519:"curve25519",Curve25519:"curve25519","1.3.6.1.4.1.3029.1.5.1":"curve25519","2b060104019755010501":"curve25519","2B060104019755010501":"curve25519",brainpoolP256r1:"brainpoolP256r1","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1","2b2403030208010107":"brainpoolP256r1","2B2403030208010107":"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1","2b240303020801010b":"brainpoolP384r1","2B240303020801010B":"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1","2b240303020801010d":"brainpoolP512r1","2B240303020801010D":"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsa:22,aedh:23,aedsa:24},symmetric:{plaintext:0,idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,experimentalGCM:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,aeadEncryptedData:20},literal:{binary:98,text:116,utf8:117,mime:109},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuer:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserID:25,policyURI:26,keyFlags:27,signersUserID:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAEADAlgorithms:34},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIDInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4},write:function(t,e){if("number"==typeof e&&(e=this.read(t,e)),void 0!==t[e])return t[e];throw Error("Invalid enum value.")},read:function(t,e){if(t[pa]||(t[pa]=[],Object.entries(t).forEach(([r,n])=>{t[pa][n]=r})),void 0!==t[pa][e])return t[pa][e];throw Error("Invalid enum value.")}},_e={preferredHashAlgorithm:_.hash.sha256,preferredSymmetricAlgorithm:_.symmetric.aes256,preferredCompressionAlgorithm:_.compression.uncompressed,deflateLevel:6,aeadProtect:!1,preferredAEADAlgorithm:_.aead.eax,aeadChunkSizeByte:12,v5Keys:!1,s2kIterationCountByte:224,allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,checksumRequired:!1,minRSABits:2047,passwordCollisionCheck:!1,revocationsExpire:!1,allowInsecureDecryptionWithSigningKeys:!1,allowInsecureVerificationWithReformattedKeys:!1,minBytesForWebCrypto:1e3,ignoreUnsupportedPackets:!0,ignoreMalformedPackets:!1,showVersion:!1,showComment:!1,versionString:"OpenPGP.js 5.0.1",commentString:"https://openpgpjs.org",maxUserIDLength:5120,knownNotations:["preferred-email-encoding@pgp.com","pka-address@gnupg.org"],useIndutnyElliptic:!0,rejectHashAlgorithms:new Set([_.hash.md5,_.hash.ripemd]),rejectMessageHashAlgorithms:new Set([_.hash.md5,_.hash.ripemd,_.hash.sha1]),rejectPublicKeyAlgorithms:new Set([_.publicKey.elgamal,_.publicKey.dsa]),rejectCurves:new Set([_.curve.brainpoolP256r1,_.curve.brainpoolP384r1,_.curve.brainpoolP512r1,_.curve.secp256k1])};function o5(t){const e=t.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m);if(!e)throw Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(e[1])?_.armor.multipartSection:/MESSAGE, PART \d+/.test(e[1])?_.armor.multipartLast:/SIGNED MESSAGE/.test(e[1])?_.armor.signed:/MESSAGE/.test(e[1])?_.armor.message:/PUBLIC KEY BLOCK/.test(e[1])?_.armor.publicKey:/PRIVATE KEY BLOCK/.test(e[1])?_.armor.privateKey:/SIGNATURE/.test(e[1])?_.armor.signature:void 0}function ai(t,e){let r="";return e.showVersion&&(r+="Version: "+e.versionString+"\n"),e.showComment&&(r+="Comment: "+e.commentString+"\n"),t&&(r+="Comment: "+t+"\n"),r+="\n",r}function Sn(t){return nn(function(e){let r=13501623;return lt(e,n=>{const i=c5?Math.floor(n.length/4):0,a=new Uint32Array(n.buffer,n.byteOffset,i);for(let s=0;s<i;s++)r^=a[s],r=vt[0][r>>24&255]^vt[1][r>>16&255]^vt[2][r>>8&255]^vt[3][r>>0&255];for(let s=4*i;s<n.length;s++)r=r>>8^vt[0][255&r^n[s]]},()=>new Uint8Array([r,r>>8,r>>16]))}(t))}const vt=[Array(255),Array(255),Array(255),Array(255)];for(let t=0;t<=255;t++){let e=t<<16;for(let r=0;r<8;r++)e=e<<1^(0!=(8388608&e)?8801531:0);vt[0][t]=(16711680&e)>>16|65280&e|(255&e)<<16}for(let t=0;t<=255;t++)vt[1][t]=vt[0][t]>>8^vt[0][255&vt[0][t]];for(let t=0;t<=255;t++)vt[2][t]=vt[1][t]>>8^vt[0][255&vt[1][t]];for(let t=0;t<=255;t++)vt[3][t]=vt[2][t]>>8^vt[0][255&vt[2][t]];const c5=function(){const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,255,!0),255===new Int16Array(t)[0]}();function rd(t){for(let e=0;e<t.length;e++){if(!/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(t[e]))throw Error("Improperly formatted armor header: "+t[e]);/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(t[e])||C.printDebugError(Error("Unknown header: "+t[e]))}}function u5(t){let e=t,r="";const n=t.lastIndexOf("=");return n>=0&&n!==t.length-1&&(e=t.slice(0,n),r=t.slice(n+1).substr(0,4)),{body:e,checksum:r}}function sn(t,e=_e){return new Promise(function(){var r=L(function*(n,i){try{const a=/^-----[^-]+-----$/m,s=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/;let o;const u=[];let c,l,d,y=u,g=[],k=td(xr(t,function(){var D=L(function*(T,Y){const J=Sr(T);try{for(;;){let U=yield J.readLine();if(void 0===U)throw Error("Misformed armored text");if(U=C.removeTrailingSpaces(U.replace(/[\r\n]/g,"")),o)if(c)l||2!==o||(a.test(U)?(g=g.join("\r\n"),l=!0,rd(y),y=[],c=!1):g.push(U.replace(/^- /,"")));else if(a.test(U)&&i(Error("Mandatory blank line missing between armor headers and armor data")),s.test(U)){if(rd(y),c=!0,l||2!==o){n({text:g,data:k,headers:u,type:o});break}}else y.push(U);else a.test(U)&&(o=o5(U))}}catch(U){return void i(U)}const j=Gt(Y);try{for(;;){yield j.ready;const{done:U,value:ie}=yield J.read();if(U)throw Error("Misformed armored text");const X=ie+"";if(-1!==X.indexOf("=")||-1!==X.indexOf("-")){let ee=yield J.readToEnd();ee.length||(ee=""),ee=X+ee,ee=C.removeTrailingSpaces(ee.replace(/\r/g,""));const h=ee.split(a);if(1===h.length)throw Error("Misformed armored text");const b=u5(h[0].slice(0,-1));d=b.checksum,yield j.write(b.body);break}yield j.write(X)}yield j.ready,yield j.close()}catch(U){yield j.abort(U)}});return function(T,Y){return D.apply(this,arguments)}}()));k=xr(k,function(){var D=L(function*(T,Y){const J=ht(Sn(Ti(T)));J.catch(()=>{}),yield tn(T,Y,{preventClose:!0});const j=Gt(Y);try{const U=(yield J).replace("\n","");if(d!==U&&(d||e.checksumRequired))throw Error("Ascii armor integrity check failed");yield j.ready,yield j.close()}catch(U){yield j.abort(U)}});return function(T,Y){return D.apply(this,arguments)}}())}catch(a){i(a)}});return function(n,i){return r.apply(this,arguments)}}()).then(function(){var r=L(function*(n){return dt(n.data)&&(n.data=yield ht(n.data)),n});return function(n){return r.apply(this,arguments)}}())}function Ii(t,e,r,n,i,a=_e){let s,o;t===_.armor.signed&&(s=e.text,o=e.hash,e=e.data);const u=Ti(e),c=[];switch(t){case _.armor.multipartSection:c.push("-----BEGIN PGP MESSAGE, PART "+r+"/"+n+"-----\n"),c.push(ai(i,a)),c.push(nn(e)),c.push("=",Sn(u)),c.push("-----END PGP MESSAGE, PART "+r+"/"+n+"-----\n");break;case _.armor.multipartLast:c.push("-----BEGIN PGP MESSAGE, PART "+r+"-----\n"),c.push(ai(i,a)),c.push(nn(e)),c.push("=",Sn(u)),c.push("-----END PGP MESSAGE, PART "+r+"-----\n");break;case _.armor.signed:c.push("\n-----BEGIN PGP SIGNED MESSAGE-----\n"),c.push("Hash: "+o+"\n\n"),c.push(s.replace(/^-/gm,"- -")),c.push("\n-----BEGIN PGP SIGNATURE-----\n"),c.push(ai(i,a)),c.push(nn(e)),c.push("=",Sn(u)),c.push("-----END PGP SIGNATURE-----\n");break;case _.armor.message:c.push("-----BEGIN PGP MESSAGE-----\n"),c.push(ai(i,a)),c.push(nn(e)),c.push("=",Sn(u)),c.push("-----END PGP MESSAGE-----\n");break;case _.armor.publicKey:c.push("-----BEGIN PGP PUBLIC KEY BLOCK-----\n"),c.push(ai(i,a)),c.push(nn(e)),c.push("=",Sn(u)),c.push("-----END PGP PUBLIC KEY BLOCK-----\n");break;case _.armor.privateKey:c.push("-----BEGIN PGP PRIVATE KEY BLOCK-----\n"),c.push(ai(i,a)),c.push(nn(e)),c.push("=",Sn(u)),c.push("-----END PGP PRIVATE KEY BLOCK-----\n");break;case _.armor.signature:c.push("-----BEGIN PGP SIGNATURE-----\n"),c.push(ai(i,a)),c.push(nn(e)),c.push("=",Sn(u)),c.push("-----END PGP SIGNATURE-----\n")}return C.concat(c)}class xn{constructor(){this.bytes=""}read(e){this.bytes=C.uint8ArrayToString(e.subarray(0,8))}write(){return C.stringToUint8Array(this.bytes)}toHex(){return C.uint8ArrayToHex(C.stringToUint8Array(this.bytes))}equals(e,r=!1){return r&&(e.isWildcard()||this.isWildcard())||this.bytes===e.bytes}isNull(){return""===this.bytes}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(e){return e.toHex()}static fromID(e){const r=new xn;return r.read(C.hexToUint8Array(e)),r}static wildcard(){const e=new xn;return e.read(new Uint8Array(8)),e}}var Ge=function(){var t,e,r=!1;function n(d,y){var g=t[(e[d]+e[y])%255];return 0!==d&&0!==y||(g=0),g}var i,a,s,o,u=!1,l=function(d,y){u||function(){function d(D){var T,Y,J,j,U;for(U=void 0,U=t[255-e[j=D]],0===j&&(U=0),Y=J=U,T=0;T<4;T++)J^=Y=255&(Y<<1|Y>>>7);return 99^J}r||function(){t=[],e=[];var D,T,Y=1;for(D=0;D<255;D++)t[D]=Y,T=128&Y,Y<<=1,Y&=255,128===T&&(Y^=27),Y^=t[D],e[t[D]]=D;t[255]=t[0],e[0]=0,r=!0}(),i=[],a=[],s=[[],[],[],[]],o=[[],[],[],[]];for(var y=0;y<256;y++){var g=d(y);i[y]=g,a[g]=y,s[0][y]=n(2,g)<<24|g<<16|g<<8|n(3,g),o[0][g]=n(14,y)<<24|n(9,y)<<16|n(13,y)<<8|n(11,y);for(var k=1;k<4;k++)s[k][y]=s[k-1][y]>>>8|s[k-1][y]<<24,o[k][g]=o[k-1][g]>>>8|o[k-1][g]<<24}u=!0}();var g=new Uint32Array(y);g.set(i,512),g.set(a,768);for(var k=0;k<4;k++)g.set(s[k],4096+1024*k>>2),g.set(o[k],8192+1024*k>>2);var D=function(T,Y,J){var j=0,U=0,ie=0,X=0,ee=0,h=0,b=0,A=0,v=0,m=0,E=0,$=0,H=0,ce=0,F=0,se=0,le=0,fe=0,de=0,pe=0,we=0,ve=new T.Uint32Array(J),K=new T.Uint8Array(J);function Q(P,M,R,he,Me,Ze,Ie,Te){M|=0,he|=0,Me|=0,Ze|=0,Ie|=0,Te|=0;var rt,je,Le,De=0,Re=0,$e=0,Ce=0;for(rt=1024|(R|=0),je=2048|R,Le=3072|R,Me^=ve[(0|(P|=0))>>2],Ze^=ve[(4|P)>>2],Ie^=ve[(8|P)>>2],Te^=ve[(12|P)>>2],Ce=16;(0|Ce)<=he<<4;Ce=Ce+16|0)De=ve[(R|Ze>>22&1020)>>2]^ve[(rt|Ie>>14&1020)>>2]^ve[(je|Te>>6&1020)>>2]^ve[(Le|Me<<2&1020)>>2]^ve[(P|Ce|4)>>2],Re=ve[(R|Ie>>22&1020)>>2]^ve[(rt|Te>>14&1020)>>2]^ve[(je|Me>>6&1020)>>2]^ve[(Le|Ze<<2&1020)>>2]^ve[(P|Ce|8)>>2],$e=ve[(R|Te>>22&1020)>>2]^ve[(rt|Me>>14&1020)>>2]^ve[(je|Ze>>6&1020)>>2]^ve[(Le|Ie<<2&1020)>>2]^ve[(P|Ce|12)>>2],Me=ve[(R|Me>>22&1020)>>2]^ve[(rt|Ze>>14&1020)>>2]^ve[(je|Ie>>6&1020)>>2]^ve[(Le|Te<<2&1020)>>2]^ve[(P|Ce|0)>>2],Ze=De,Ie=Re,Te=$e;j=ve[(M|Me>>22&1020)>>2]<<24^ve[(M|Ze>>14&1020)>>2]<<16^ve[(M|Ie>>6&1020)>>2]<<8^ve[(M|Te<<2&1020)>>2]^ve[(P|Ce|0)>>2],U=ve[(M|Ze>>22&1020)>>2]<<24^ve[(M|Ie>>14&1020)>>2]<<16^ve[(M|Te>>6&1020)>>2]<<8^ve[(M|Me<<2&1020)>>2]^ve[(P|Ce|4)>>2],ie=ve[(M|Ie>>22&1020)>>2]<<24^ve[(M|Te>>14&1020)>>2]<<16^ve[(M|Me>>6&1020)>>2]<<8^ve[(M|Ze<<2&1020)>>2]^ve[(P|Ce|8)>>2],X=ve[(M|Te>>22&1020)>>2]<<24^ve[(M|Me>>14&1020)>>2]<<16^ve[(M|Ze>>6&1020)>>2]<<8^ve[(M|Ie<<2&1020)>>2]^ve[(P|Ce|12)>>2]}function te(P,M,R,he){Q(0,2048,4096,we,P|=0,M|=0,R|=0,he|=0)}function B(P,M,R,he){Q(0,2048,4096,we,ee^(P|=0),h^(M|=0),b^(R|=0),A^(he|=0)),ee=j,h=U,b=ie,A=X}var N=[te,function(P,M,R,he){var Me;Q(1024,3072,8192,we,P|=0,he|=0,R|=0,M|=0),Me=U,U=X,X=Me},B,function(P,M,R,he){var Me;Q(1024,3072,8192,we,P|=0,he|=0,R|=0,M|=0),Me=U,U=X,X=Me,j^=ee,U^=h,ie^=b,X^=A,ee=P,h=M,b=R,A=he},function(P,M,R,he){P|=0,M|=0,R|=0,he|=0,Q(0,2048,4096,we,ee,h,b,A),ee=j^=P,h=U^=M,b=ie^=R,A=X^=he},function(P,M,R,he){P|=0,M|=0,R|=0,he|=0,Q(0,2048,4096,we,ee,h,b,A),j^=P,U^=M,ie^=R,X^=he,ee=P,h=M,b=R,A=he},function(P,M,R,he){P|=0,M|=0,R|=0,he|=0,Q(0,2048,4096,we,ee,h,b,A),ee=j,h=U,b=ie,A=X,j^=P,U^=M,ie^=R,X^=he},function(P,M,R,he){P|=0,M|=0,R|=0,he|=0,Q(0,2048,4096,we,v,m,E,$),v=~H&v|H&v+(0==(0|(m=~ce&m|ce&m+(0==(0|(E=~F&E|F&E+(0==(0|($=~se&$|se&$+1))))))))),j^=P,U^=M,ie^=R,X^=he}],Z=[B,function(P,M,R,he){P|=0,M|=0,R|=0,he|=0;var Me=0,Ze=0,Ie=0,Te=0,rt=0,je=0,Le=0,ft=0,De=0,Re=0;for(P^=ee,M^=h,R^=b,he^=A,Me=0|le,Ze=0|fe,Ie=0|de,Te=0|pe;(0|De)<128;De=De+1|0)Me>>>31&&(rt^=P,je^=M,Le^=R,ft^=he),Me=Me<<1|Ze>>>31,Ze=Ze<<1|Ie>>>31,Ie=Ie<<1|Te>>>31,Te<<=1,Re=1&he,he=he>>>1|R<<31,R=R>>>1|M<<31,M=M>>>1|P<<31,P>>>=1,Re&&(P^=3774873600);ee=rt,h=je,b=Le,A=ft}];return{set_rounds:function(P){we=P|=0},set_state:function(P,M,R,he){j=P|=0,U=M|=0,ie=R|=0,X=he|=0},set_iv:function(P,M,R,he){ee=P|=0,h=M|=0,b=R|=0,A=he|=0},set_nonce:function(P,M,R,he){v=P|=0,m=M|=0,E=R|=0,$=he|=0},set_mask:function(P,M,R,he){H=P|=0,ce=M|=0,F=R|=0,se=he|=0},set_counter:function(P,M,R,he){$=~se&$|se&(he|=0),E=~F&E|F&(R|=0),m=~ce&m|ce&(M|=0),v=~H&v|H&(P|=0)},get_state:function(P){return 15&(P|=0)?-1:(K[0|P]=j>>>24,K[1|P]=j>>>16&255,K[2|P]=j>>>8&255,K[3|P]=255&j,K[4|P]=U>>>24,K[5|P]=U>>>16&255,K[6|P]=U>>>8&255,K[7|P]=255&U,K[8|P]=ie>>>24,K[9|P]=ie>>>16&255,K[10|P]=ie>>>8&255,K[11|P]=255&ie,K[12|P]=X>>>24,K[13|P]=X>>>16&255,K[14|P]=X>>>8&255,K[15|P]=255&X,16)},get_iv:function(P){return 15&(P|=0)?-1:(K[0|P]=ee>>>24,K[1|P]=ee>>>16&255,K[2|P]=ee>>>8&255,K[3|P]=255&ee,K[4|P]=h>>>24,K[5|P]=h>>>16&255,K[6|P]=h>>>8&255,K[7|P]=255&h,K[8|P]=b>>>24,K[9|P]=b>>>16&255,K[10|P]=b>>>8&255,K[11|P]=255&b,K[12|P]=A>>>24,K[13|P]=A>>>16&255,K[14|P]=A>>>8&255,K[15|P]=255&A,16)},gcm_init:function(){te(0,0,0,0),le=j,fe=U,de=ie,pe=X},cipher:function(P,M,R){P|=0,R|=0;var he=0;if(15&(M|=0))return-1;for(;(0|R)>=16;)N[7&P](K[0|M]<<24|K[1|M]<<16|K[2|M]<<8|K[3|M],K[4|M]<<24|K[5|M]<<16|K[6|M]<<8|K[7|M],K[8|M]<<24|K[9|M]<<16|K[10|M]<<8|K[11|M],K[12|M]<<24|K[13|M]<<16|K[14|M]<<8|K[15|M]),K[0|M]=j>>>24,K[1|M]=j>>>16&255,K[2|M]=j>>>8&255,K[3|M]=255&j,K[4|M]=U>>>24,K[5|M]=U>>>16&255,K[6|M]=U>>>8&255,K[7|M]=255&U,K[8|M]=ie>>>24,K[9|M]=ie>>>16&255,K[10|M]=ie>>>8&255,K[11|M]=255&ie,K[12|M]=X>>>24,K[13|M]=X>>>16&255,K[14|M]=X>>>8&255,K[15|M]=255&X,he=he+16|0,M=M+16|0,R=R-16|0;return 0|he},mac:function(P,M,R){P|=0,R|=0;var he=0;if(15&(M|=0))return-1;for(;(0|R)>=16;)Z[1&P](K[0|M]<<24|K[1|M]<<16|K[2|M]<<8|K[3|M],K[4|M]<<24|K[5|M]<<16|K[6|M]<<8|K[7|M],K[8|M]<<24|K[9|M]<<16|K[10|M]<<8|K[11|M],K[12|M]<<24|K[13|M]<<16|K[14|M]<<8|K[15|M]),he=he+16|0,M=M+16|0,R=R-16|0;return 0|he}}}({Uint8Array,Uint32Array},0,y);return D.set_key=function(T,Y,J,j,U,ie,X,ee,h){var b=g.subarray(0,60),A=g.subarray(256,316);b.set([Y,J,j,U,ie,X,ee,h]);for(var v=T,m=1;v<4*T+28;v++){var E=b[v-1];(v%T==0||8===T&&v%T==4)&&(E=i[E>>>24]<<24^i[E>>>16&255]<<16^i[E>>>8&255]<<8^i[255&E]),v%T==0&&(E=E<<8^E>>>24^m<<24,m=m<<1^(128&m?27:0)),b[v]=b[v-T]^E}for(var $=0;$<v;$+=4)for(var H=0;H<4;H++)E=b[v-(4+$)+(4-H)%4],A[$+H]=$<4||$>=v-4?E:o[0][i[E>>>24]]^o[1][i[E>>>16&255]]^o[2][i[E>>>8&255]]^o[3][i[255&E]];D.set_rounds(T+5)},D};return l.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},l.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},l.MAC={CBC:0,GCM:1},l.HEAP_DATA=16384,l}();function nd(t){return t instanceof Uint8Array}function Vc(t,e){const r=t?t.byteLength:e||65536;if(4095&r||r<=0)throw Error("heap size must be a positive integer and a multiple of 4096");return t||new Uint8Array(new ArrayBuffer(r))}function si(t,e,r,n,i){const a=t.length-e,s=a<i?a:i;return t.set(r.subarray(n,n+s),e),s}function En(...t){const e=t.reduce((i,a)=>i+a.length,0),r=new Uint8Array(e);let n=0;for(let i=0;i<t.length;i++)r.set(t[i],n),n+=t[i].length;return r}class qc extends Error{constructor(...e){super(...e)}}class on extends Error{constructor(...e){super(...e)}}class Nc extends Error{constructor(...e){super(...e)}}const id=[],ad=[];class ya{constructor(e,r,n=!0,i,a,s){this.pos=0,this.len=0,this.mode=i,this.pos=0,this.len=0,this.key=e,this.iv=r,this.padding=n,this.acquire_asm(a,s)}acquire_asm(e,r){return void 0!==this.heap&&void 0!==this.asm||(this.heap=e||id.pop()||Vc().subarray(Ge.HEAP_DATA),this.asm=r||ad.pop()||new Ge(null,this.heap.buffer),this.reset(this.key,this.iv)),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(id.push(this.heap),ad.push(this.asm)),this.heap=void 0,this.asm=void 0}reset(e,r){const{asm:n}=this.acquire_asm(),i=e.length;if(16!==i&&24!==i&&32!==i)throw new on("illegal key size");const a=new DataView(e.buffer,e.byteOffset,e.byteLength);if(n.set_key(i>>2,a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12),i>16?a.getUint32(16):0,i>16?a.getUint32(20):0,i>24?a.getUint32(24):0,i>24?a.getUint32(28):0),void 0!==r){if(16!==r.length)throw new on("illegal iv size");let s=new DataView(r.buffer,r.byteOffset,r.byteLength);n.set_iv(s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12))}else n.set_iv(0,0,0,0)}AES_Encrypt_process(e){if(!nd(e))throw new TypeError("data isn't of expected type");let{heap:r,asm:n}=this.acquire_asm(),i=Ge.ENC[this.mode],a=Ge.HEAP_DATA,s=this.pos,o=this.len,u=0,c=e.length||0,l=0,d=0,y=new Uint8Array(o+c&-16);for(;c>0;)d=si(r,s+o,e,u,c),o+=d,u+=d,c-=d,d=n.cipher(i,a+s,o),d&&y.set(r.subarray(s,s+d),l),l+=d,d<o?(s+=d,o-=d):(s=0,o=0);return this.pos=s,this.len=o,y}AES_Encrypt_finish(){let{heap:e,asm:r}=this.acquire_asm(),n=Ge.ENC[this.mode],i=Ge.HEAP_DATA,a=this.pos,s=this.len,o=16-s%16,u=s;if(this.hasOwnProperty("padding")){if(this.padding){for(let l=0;l<o;++l)e[a+s+l]=o;s+=o,u=s}else if(s%16)throw new on("data length must be a multiple of the block size")}else s+=o;const c=new Uint8Array(u);return s&&r.cipher(n,i+a,s),u&&c.set(e.subarray(a,a+u)),this.pos=0,this.len=0,this.release_asm(),c}AES_Decrypt_process(e){if(!nd(e))throw new TypeError("data isn't of expected type");let{heap:r,asm:n}=this.acquire_asm(),i=Ge.DEC[this.mode],a=Ge.HEAP_DATA,s=this.pos,o=this.len,u=0,c=e.length||0,l=0,d=o+c&-16,y=0,g=0;this.padding&&(y=o+c-d||16,d-=y);const k=new Uint8Array(d);for(;c>0;)g=si(r,s+o,e,u,c),o+=g,u+=g,c-=g,g=n.cipher(i,a+s,o-(c?0:y)),g&&k.set(r.subarray(s,s+g),l),l+=g,g<o?(s+=g,o-=g):(s=0,o=0);return this.pos=s,this.len=o,k}AES_Decrypt_finish(){let{heap:e,asm:r}=this.acquire_asm(),n=Ge.DEC[this.mode],i=Ge.HEAP_DATA,a=this.pos,s=this.len,o=s;if(s>0){if(s%16){if(this.hasOwnProperty("padding"))throw new on("data length must be a multiple of the block size");s+=16-s%16}if(r.cipher(n,i+a,s),this.hasOwnProperty("padding")&&this.padding){let c=e[a+o-1];if(c<1||c>16||c>o)throw new Nc("bad padding");let l=0;for(let d=c;d>1;d--)l|=c^e[a+o-d];if(l)throw new Nc("bad padding");o-=c}}const u=new Uint8Array(o);return o>0&&u.set(e.subarray(a,a+o)),this.pos=0,this.len=0,this.release_asm(),u}}class Cs{static encrypt(e,r,n=!1){return new Cs(r,n).encrypt(e)}static decrypt(e,r,n=!1){return new Cs(r,n).decrypt(e)}constructor(e,r=!1,n){this.aes=n||new ya(e,void 0,r,"ECB")}encrypt(e){return En(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return En(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}function jc(t){const e=function(r){const n=new Cs(r);this.encrypt=function(i){return n.encrypt(i)},this.decrypt=function(i){return n.decrypt(i)}};return e.blockSize=e.prototype.blockSize=16,e.keySize=e.prototype.keySize=t/8,e}function ga(t,e,r,n,i,a){const s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],u=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],l=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],d=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],y=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],g=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];let k,D,T,Y,J,j,U,ie,X,ee,h,b,A,v,m=0,E=e.length;const $=32===t.length?3:9;ie=3===$?r?[0,32,2]:[30,-2,-2]:r?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],r&&(E=(e=function(F,se){const le=8-F.length%8;let fe;if(2===se&&le<8)fe=32;else if(1===se)fe=le;else{if(se||!(le<8)){if(8===le)return F;throw Error("des: invalid padding")}fe=0}const de=new Uint8Array(F.length+le);for(let pe=0;pe<F.length;pe++)de[pe]=F[pe];for(let pe=0;pe<le;pe++)de[F.length+pe]=fe;return de}(e,a)).length);let H=new Uint8Array(E),ce=0;for(1===n&&(X=i[m++]<<24|i[m++]<<16|i[m++]<<8|i[m++],h=i[m++]<<24|i[m++]<<16|i[m++]<<8|i[m++],m=0);m<E;){for(j=e[m++]<<24|e[m++]<<16|e[m++]<<8|e[m++],U=e[m++]<<24|e[m++]<<16|e[m++]<<8|e[m++],1===n&&(r?(j^=X,U^=h):(ee=X,b=h,X=j,h=U)),T=252645135&(j>>>4^U),U^=T,j^=T<<4,T=65535&(j>>>16^U),U^=T,j^=T<<16,T=858993459&(U>>>2^j),j^=T,U^=T<<2,T=16711935&(U>>>8^j),j^=T,U^=T<<8,T=1431655765&(j>>>1^U),U^=T,j^=T<<1,j=j<<1|j>>>31,U=U<<1|U>>>31,D=0;D<$;D+=3){for(A=ie[D+1],v=ie[D+2],k=ie[D];k!==A;k+=v)Y=U^t[k],J=(U>>>4|U<<28)^t[k+1],T=j,j=U,U=T^(o[Y>>>24&63]|c[Y>>>16&63]|d[Y>>>8&63]|g[63&Y]|s[J>>>24&63]|u[J>>>16&63]|l[J>>>8&63]|y[63&J]);T=j,j=U,U=T}j=j>>>1|j<<31,U=U>>>1|U<<31,T=1431655765&(j>>>1^U),U^=T,j^=T<<1,T=16711935&(U>>>8^j),j^=T,U^=T<<8,T=858993459&(U>>>2^j),j^=T,U^=T<<2,T=65535&(j>>>16^U),U^=T,j^=T<<16,T=252645135&(j>>>4^U),U^=T,j^=T<<4,1===n&&(r?(X=j,h=U):(j^=ee,U^=b)),H[ce++]=j>>>24,H[ce++]=j>>>16&255,H[ce++]=j>>>8&255,H[ce++]=255&j,H[ce++]=U>>>24,H[ce++]=U>>>16&255,H[ce++]=U>>>8&255,H[ce++]=255&U}return r||(H=function(F,se){let le,fe=null;if(2===se)le=32;else if(1===se)fe=F[F.length-1];else{if(se)throw Error("des: invalid padding");le=0}if(!fe){for(fe=1;F[F.length-fe]===le;)fe++;fe--}return F.subarray(0,F.length-fe)}(H,a)),H}function ma(t){const e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],l=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],d=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],y=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],g=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],k=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],D=t.length>8?3:1,T=Array(32*D),Y=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0];let J,j,U,ie=0,X=0;for(let ee=0;ee<D;ee++){let h=t[ie++]<<24|t[ie++]<<16|t[ie++]<<8|t[ie++],b=t[ie++]<<24|t[ie++]<<16|t[ie++]<<8|t[ie++];U=252645135&(h>>>4^b),b^=U,h^=U<<4,U=65535&(b>>>-16^h),h^=U,b^=U<<-16,U=858993459&(h>>>2^b),b^=U,h^=U<<2,U=65535&(b>>>-16^h),h^=U,b^=U<<-16,U=1431655765&(h>>>1^b),b^=U,h^=U<<1,U=16711935&(b>>>8^h),h^=U,b^=U<<8,U=1431655765&(h>>>1^b),b^=U,h^=U<<1,U=h<<8|b>>>20&240,h=b<<24|b<<8&16711680|b>>>8&65280|b>>>24&240,b=U;for(let A=0;A<16;A++)Y[A]?(h=h<<2|h>>>26,b=b<<2|b>>>26):(h=h<<1|h>>>27,b=b<<1|b>>>27),h&=-15,b&=-15,J=e[h>>>28]|r[h>>>24&15]|n[h>>>20&15]|i[h>>>16&15]|a[h>>>12&15]|s[h>>>8&15]|o[h>>>4&15],j=u[b>>>28]|c[b>>>24&15]|l[b>>>20&15]|d[b>>>16&15]|y[b>>>12&15]|g[b>>>8&15]|k[b>>>4&15],U=65535&(j>>>16^J),T[X++]=J^U,T[X++]=j^U<<16}return T}function ba(t){this.key=[];for(let e=0;e<3;e++)this.key.push(new Uint8Array(t.subarray(8*e,8*e+8)));this.encrypt=function(e){return ga(ma(this.key[2]),ga(ma(this.key[1]),ga(ma(this.key[0]),e,!0,0,null,null),!1,0,null,null),!0,0,null,null)}}function l5(){this.BlockSize=8,this.KeySize=16,this.setKey=function(s){if(this.masking=Array(16),this.rotate=Array(16),this.reset(),s.length!==this.KeySize)throw Error("CAST-128: keys must be 16 bytes");return this.keySchedule(s),!0},this.reset=function(){for(let s=0;s<16;s++)this.masking[s]=0,this.rotate[s]=0},this.getBlockSize=function(){return this.BlockSize},this.encrypt=function(s){const o=Array(s.length);for(let u=0;u<s.length;u+=8){let c,l=s[u]<<24|s[u+1]<<16|s[u+2]<<8|s[u+3],d=s[u+4]<<24|s[u+5]<<16|s[u+6]<<8|s[u+7];c=d,d=l^r(d,this.masking[0],this.rotate[0]),l=c,c=d,d=l^n(d,this.masking[1],this.rotate[1]),l=c,c=d,d=l^i(d,this.masking[2],this.rotate[2]),l=c,c=d,d=l^r(d,this.masking[3],this.rotate[3]),l=c,c=d,d=l^n(d,this.masking[4],this.rotate[4]),l=c,c=d,d=l^i(d,this.masking[5],this.rotate[5]),l=c,c=d,d=l^r(d,this.masking[6],this.rotate[6]),l=c,c=d,d=l^n(d,this.masking[7],this.rotate[7]),l=c,c=d,d=l^i(d,this.masking[8],this.rotate[8]),l=c,c=d,d=l^r(d,this.masking[9],this.rotate[9]),l=c,c=d,d=l^n(d,this.masking[10],this.rotate[10]),l=c,c=d,d=l^i(d,this.masking[11],this.rotate[11]),l=c,c=d,d=l^r(d,this.masking[12],this.rotate[12]),l=c,c=d,d=l^n(d,this.masking[13],this.rotate[13]),l=c,c=d,d=l^i(d,this.masking[14],this.rotate[14]),l=c,c=d,d=l^r(d,this.masking[15],this.rotate[15]),l=c,o[u]=d>>>24&255,o[u+1]=d>>>16&255,o[u+2]=d>>>8&255,o[u+3]=255&d,o[u+4]=l>>>24&255,o[u+5]=l>>>16&255,o[u+6]=l>>>8&255,o[u+7]=255&l}return o},this.decrypt=function(s){const o=Array(s.length);for(let u=0;u<s.length;u+=8){let c,l=s[u]<<24|s[u+1]<<16|s[u+2]<<8|s[u+3],d=s[u+4]<<24|s[u+5]<<16|s[u+6]<<8|s[u+7];c=d,d=l^r(d,this.masking[15],this.rotate[15]),l=c,c=d,d=l^i(d,this.masking[14],this.rotate[14]),l=c,c=d,d=l^n(d,this.masking[13],this.rotate[13]),l=c,c=d,d=l^r(d,this.masking[12],this.rotate[12]),l=c,c=d,d=l^i(d,this.masking[11],this.rotate[11]),l=c,c=d,d=l^n(d,this.masking[10],this.rotate[10]),l=c,c=d,d=l^r(d,this.masking[9],this.rotate[9]),l=c,c=d,d=l^i(d,this.masking[8],this.rotate[8]),l=c,c=d,d=l^n(d,this.masking[7],this.rotate[7]),l=c,c=d,d=l^r(d,this.masking[6],this.rotate[6]),l=c,c=d,d=l^i(d,this.masking[5],this.rotate[5]),l=c,c=d,d=l^n(d,this.masking[4],this.rotate[4]),l=c,c=d,d=l^r(d,this.masking[3],this.rotate[3]),l=c,c=d,d=l^i(d,this.masking[2],this.rotate[2]),l=c,c=d,d=l^n(d,this.masking[1],this.rotate[1]),l=c,c=d,d=l^r(d,this.masking[0],this.rotate[0]),l=c,o[u]=d>>>24&255,o[u+1]=d>>>16&255,o[u+2]=d>>>8&255,o[u+3]=255&d,o[u+4]=l>>>24&255,o[u+5]=l>>16&255,o[u+6]=l>>8&255,o[u+7]=255&l}return o};const t=[,,,,];t[0]=[,,,,],t[0][0]=[4,0,13,15,12,14,8],t[0][1]=[5,2,16,18,17,19,10],t[0][2]=[6,3,23,22,21,20,9],t[0][3]=[7,1,26,25,27,24,11],t[1]=[,,,,],t[1][0]=[0,6,21,23,20,22,16],t[1][1]=[1,4,0,2,1,3,18],t[1][2]=[2,5,7,6,5,4,17],t[1][3]=[3,7,10,9,11,8,19],t[2]=[,,,,],t[2][0]=[4,0,13,15,12,14,8],t[2][1]=[5,2,16,18,17,19,10],t[2][2]=[6,3,23,22,21,20,9],t[2][3]=[7,1,26,25,27,24,11],t[3]=[,,,,],t[3][0]=[0,6,21,23,20,22,16],t[3][1]=[1,4,0,2,1,3,18],t[3][2]=[2,5,7,6,5,4,17],t[3][3]=[3,7,10,9,11,8,19];const e=[,,,,];function r(s,o,u){const c=o+s,l=c<<u|c>>>32-u;return(a[0][l>>>24]^a[1][l>>>16&255])-a[2][l>>>8&255]+a[3][255&l]}function n(s,o,u){const c=o^s,l=c<<u|c>>>32-u;return a[0][l>>>24]-a[1][l>>>16&255]+a[2][l>>>8&255]^a[3][255&l]}function i(s,o,u){const c=o-s,l=c<<u|c>>>32-u;return(a[0][l>>>24]+a[1][l>>>16&255]^a[2][l>>>8&255])-a[3][255&l]}e[0]=[,,,,],e[0][0]=[24,25,23,22,18],e[0][1]=[26,27,21,20,22],e[0][2]=[28,29,19,18,25],e[0][3]=[30,31,17,16,28],e[1]=[,,,,],e[1][0]=[3,2,12,13,8],e[1][1]=[1,0,14,15,13],e[1][2]=[7,6,8,9,3],e[1][3]=[5,4,10,11,7],e[2]=[,,,,],e[2][0]=[19,18,28,29,25],e[2][1]=[17,16,30,31,28],e[2][2]=[23,22,24,25,18],e[2][3]=[21,20,26,27,22],e[3]=[,,,,],e[3][0]=[8,9,7,6,3],e[3][1]=[10,11,5,4,7],e[3][2]=[12,13,3,2,8],e[3][3]=[14,15,1,0,13],this.keySchedule=function(s){const o=[,,,,,,,,],u=Array(32);let c;for(let g=0;g<4;g++)c=4*g,o[g]=s[c]<<24|s[c+1]<<16|s[c+2]<<8|s[c+3];const l=[6,7,4,5];let d,y=0;for(let g=0;g<2;g++)for(let k=0;k<4;k++){for(c=0;c<4;c++){const D=t[k][c];d=o[D[1]],d^=a[4][o[D[2]>>>2]>>>24-8*(3&D[2])&255],d^=a[5][o[D[3]>>>2]>>>24-8*(3&D[3])&255],d^=a[6][o[D[4]>>>2]>>>24-8*(3&D[4])&255],d^=a[7][o[D[5]>>>2]>>>24-8*(3&D[5])&255],d^=a[l[c]][o[D[6]>>>2]>>>24-8*(3&D[6])&255],o[D[0]]=d}for(c=0;c<4;c++){const D=e[k][c];d=a[4][o[D[0]>>>2]>>>24-8*(3&D[0])&255],d^=a[5][o[D[1]>>>2]>>>24-8*(3&D[1])&255],d^=a[6][o[D[2]>>>2]>>>24-8*(3&D[2])&255],d^=a[7][o[D[3]>>>2]>>>24-8*(3&D[3])&255],d^=a[4+c][o[D[4]>>>2]>>>24-8*(3&D[4])&255],u[y]=d,y++}}for(let g=0;g<16;g++)this.masking[g]=u[g],this.rotate[g]=31&u[16+g]};const a=[,,,,,,,,];a[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063],a[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321],a[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027],a[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730],a[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860],a[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975],a[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875],a[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function va(t){this.cast5=new l5,this.cast5.setKey(t),this.encrypt=function(e){return this.cast5.encrypt(e)}}ba.keySize=ba.prototype.keySize=24,ba.blockSize=ba.prototype.blockSize=8,va.blockSize=va.prototype.blockSize=8,va.keySize=va.prototype.keySize=16;const ir=4294967295;function Er(t,e){return(t<<e|t>>>32-e)&ir}function cn(t,e){return t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24}function Cn(t,e,r){t.splice(e,4,255&r,r>>>8&255,r>>>16&255,r>>>24&255)}function qe(t,e){return t>>>8*e&255}function _a(t){this.tf=function(){let e=null,r=null,n=-1,i=[],a=[[],[],[],[]];function s(l){return a[0][qe(l,0)]^a[1][qe(l,1)]^a[2][qe(l,2)]^a[3][qe(l,3)]}function o(l){return a[0][qe(l,3)]^a[1][qe(l,0)]^a[2][qe(l,1)]^a[3][qe(l,2)]}function u(l,d){let y=s(d[0]),g=o(d[1]);d[2]=Er(d[2]^y+g+i[4*l+8]&ir,31),d[3]=Er(d[3],1)^y+2*g+i[4*l+9]&ir,y=s(d[2]),g=o(d[3]),d[0]=Er(d[0]^y+g+i[4*l+10]&ir,31),d[1]=Er(d[1],1)^y+2*g+i[4*l+11]&ir}function c(l,d){let y=s(d[0]),g=o(d[1]);d[2]=Er(d[2],1)^y+g+i[4*l+10]&ir,d[3]=Er(d[3]^y+2*g+i[4*l+11]&ir,31),y=s(d[2]),g=o(d[3]),d[0]=Er(d[0],1)^y+g+i[4*l+8]&ir,d[1]=Er(d[1]^y+2*g+i[4*l+9]&ir,31)}return{name:"twofish",blocksize:16,open:function(l){let d,y,g,k,D;e=l;const T=[],Y=[],J=[];let j;const U=[];let ie,X,ee;const h=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]],b=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]],A=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]],v=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]],m=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15],E=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7],$=[[],[]],H=[[],[],[],[]];function ce(de){return de^de>>2^[0,90,180,238][3&de]}function F(de){return de^de>>1^de>>2^[0,238,180,90][3&de]}function se(de,pe){let we,ve,K;for(we=0;we<8;we++)ve=pe>>>24,pe=pe<<8&ir|de>>>24,de=de<<8&ir,K=ve<<1,128&ve&&(K^=333),pe^=ve^K<<16,K^=ve>>>1,1&ve&&(K^=166),pe^=K<<24|K<<8;return pe}function le(de,pe){const we=pe>>4,ve=15&pe,K=h[de][we^ve],Q=b[de][m[ve]^E[we]];return v[de][m[Q]^E[K]]<<4|A[de][K^Q]}function fe(de,pe){let we=qe(de,0),ve=qe(de,1),K=qe(de,2),Q=qe(de,3);switch(j){case 4:we=$[1][we]^qe(pe[3],0),ve=$[0][ve]^qe(pe[3],1),K=$[0][K]^qe(pe[3],2),Q=$[1][Q]^qe(pe[3],3);case 3:we=$[1][we]^qe(pe[2],0),ve=$[1][ve]^qe(pe[2],1),K=$[0][K]^qe(pe[2],2),Q=$[0][Q]^qe(pe[2],3);case 2:we=$[0][$[0][we]^qe(pe[1],0)]^qe(pe[0],0),ve=$[0][$[1][ve]^qe(pe[1],1)]^qe(pe[0],1),K=$[1][$[0][K]^qe(pe[1],2)]^qe(pe[0],2),Q=$[1][$[1][Q]^qe(pe[1],3)]^qe(pe[0],3)}return H[0][we]^H[1][ve]^H[2][K]^H[3][Q]}for(e=e.slice(0,32),d=e.length;16!==d&&24!==d&&32!==d;)e[d++]=0;for(d=0;d<e.length;d+=4)J[d>>2]=cn(e,d);for(d=0;d<256;d++)$[0][d]=le(0,d),$[1][d]=le(1,d);for(d=0;d<256;d++)ie=$[1][d],X=ce(ie),ee=F(ie),H[0][d]=ie+(X<<8)+(ee<<16)+(ee<<24),H[2][d]=X+(ee<<8)+(ie<<16)+(ee<<24),ie=$[0][d],X=ce(ie),ee=F(ie),H[1][d]=ee+(ee<<8)+(X<<16)+(ie<<24),H[3][d]=X+(ie<<8)+(ee<<16)+(X<<24);for(j=J.length/2,d=0;d<j;d++)y=J[d+d],T[d]=y,g=J[d+d+1],Y[d]=g,U[j-d-1]=se(y,g);for(d=0;d<40;d+=2)y=16843009*d,g=y+16843009,y=fe(y,T),g=Er(fe(g,Y),8),i[d]=y+g&ir,i[d+1]=Er(y+2*g,9);for(d=0;d<256;d++)switch(y=g=k=D=d,j){case 4:y=$[1][y]^qe(U[3],0),g=$[0][g]^qe(U[3],1),k=$[0][k]^qe(U[3],2),D=$[1][D]^qe(U[3],3);case 3:y=$[1][y]^qe(U[2],0),g=$[1][g]^qe(U[2],1),k=$[0][k]^qe(U[2],2),D=$[0][D]^qe(U[2],3);case 2:a[0][d]=H[0][$[0][$[0][y]^qe(U[1],0)]^qe(U[0],0)],a[1][d]=H[1][$[0][$[1][g]^qe(U[1],1)]^qe(U[0],1)],a[2][d]=H[2][$[1][$[0][k]^qe(U[1],2)]^qe(U[0],2)],a[3][d]=H[3][$[1][$[1][D]^qe(U[1],3)]^qe(U[0],3)]}},close:function(){i=[],a=[[],[],[],[]]},encrypt:function(l,d){r=l,n=d;const y=[cn(r,n)^i[0],cn(r,n+4)^i[1],cn(r,n+8)^i[2],cn(r,n+12)^i[3]];for(let g=0;g<8;g++)u(g,y);return Cn(r,n,y[2]^i[4]),Cn(r,n+4,y[3]^i[5]),Cn(r,n+8,y[0]^i[6]),Cn(r,n+12,y[1]^i[7]),n+=16,r},decrypt:function(l,d){r=l,n=d;const y=[cn(r,n)^i[4],cn(r,n+4)^i[5],cn(r,n+8)^i[6],cn(r,n+12)^i[7]];for(let g=7;g>=0;g--)c(g,y);Cn(r,n,y[2]^i[0]),Cn(r,n+4,y[3]^i[1]),Cn(r,n+8,y[0]^i[2]),Cn(r,n+12,y[1]^i[3]),n+=16},finalize:function(){return r}}}(),this.tf.open(Array.from(t),0),this.encrypt=function(e){return this.tf.encrypt(Array.from(e),0)}}function lr(){}function wa(t){this.bf=new lr,this.bf.init(t),this.encrypt=function(e){return this.bf.encryptBlock(e)}}_a.keySize=_a.prototype.keySize=32,_a.blockSize=_a.prototype.blockSize=16,lr.prototype.BLOCKSIZE=8,lr.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],lr.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],lr.prototype.NN=16,lr.prototype._clean=function(t){return t<0&&(t=2147483648+(2147483647&t)),t},lr.prototype._F=function(t){let e;const r=255&t,n=255&(t>>>=8),i=255&(t>>>=8),a=255&(t>>>=8);return e=this.sboxes[0][a]+this.sboxes[1][i],e^=this.sboxes[2][n],e+=this.sboxes[3][r],e},lr.prototype._encryptBlock=function(t){let e,r=t[0],n=t[1];for(e=0;e<this.NN;++e){r^=this.parray[e],n=this._F(r)^n;const i=r;r=n,n=i}r^=this.parray[this.NN+0],n^=this.parray[this.NN+1],t[0]=this._clean(n),t[1]=this._clean(r)},lr.prototype.encryptBlock=function(t){let e;const r=[0,0],n=this.BLOCKSIZE/2;for(e=0;e<this.BLOCKSIZE/2;++e)r[0]=r[0]<<8|255&t[e+0],r[1]=r[1]<<8|255&t[e+n];this._encryptBlock(r);const i=[];for(e=0;e<this.BLOCKSIZE/2;++e)i[e+0]=r[0]>>>24-8*e&255,i[e+n]=r[1]>>>24-8*e&255;return i},lr.prototype._decryptBlock=function(t){let e,r=t[0],n=t[1];for(e=this.NN+1;e>1;--e){r^=this.parray[e],n=this._F(r)^n;const i=r;r=n,n=i}r^=this.parray[1],n^=this.parray[0],t[0]=this._clean(n),t[1]=this._clean(r)},lr.prototype.init=function(t){let e,r=0;for(this.parray=[],e=0;e<this.NN+2;++e){let i=0;for(let a=0;a<4;++a)i=i<<8|255&t[r],++r>=t.length&&(r=0);this.parray[e]=this.PARRAY[e]^i}for(this.sboxes=[],e=0;e<4;++e)for(this.sboxes[e]=[],r=0;r<256;++r)this.sboxes[e][r]=this.SBOXES[e][r];const n=[0,0];for(e=0;e<this.NN+2;e+=2)this._encryptBlock(n),this.parray[e+0]=n[0],this.parray[e+1]=n[1];for(e=0;e<4;++e)for(r=0;r<256;r+=2)this._encryptBlock(n),this.sboxes[e][r+0]=n[0],this.sboxes[e][r+1]=n[1]},wa.keySize=wa.prototype.keySize=16,wa.blockSize=wa.prototype.blockSize=8;const d5=jc(128),h5=jc(192),f5=jc(256);var dr=Object.freeze({__proto__:null,aes128:d5,aes192:h5,aes256:f5,des:function(t){this.key=t,this.encrypt=function(e,r){return ga(ma(this.key),e,!0,0,null,r)},this.decrypt=function(e,r){return ga(ma(this.key),e,!1,0,null,r)}},tripledes:ba,cast5:va,twofish:_a,blowfish:wa,idea:function(){throw Error("IDEA symmetric-key algorithm not implemented")}}),sd=function(t,e,r){var n=0,i=0,a=0,s=0,o=0,u=0,c=0,l=0,d=0,y=0,g=0,k=0,D=0,T=0,Y=0,J=0,j=0,U=new t.Uint8Array(r);function ie(F,se,le,fe,de,pe,we,ve,K,Q,te,f,B,re,ne,ae){var be,ye,Ae,ge,z,G,q,N,Z,P,M,R,he,Me,Ze,Ie,Te,rt,je,Le,ft,De,Re,$e,Ce,ze,et,Fe,oe,ue,me,ke,Ue,Pe,Ee,Je,Ve,Xe,Nt,jt,Xt,Hr,Wr,$r,Yr,Jr,Qr,Xr,vn,_n,Yn,Jn,Qn,Xn,ei,ti,Ei,C1,M1,P1,D1,S=0,w=0,x=0,I=0,V=0,O=0,W=0;W=(F|=0)+((S=n)<<5|S>>>27)+(V=o)+((w=i)&(x=a)|~w&(I=s))+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(se|=0)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(le|=0)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(fe|=0)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(de|=0)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(pe|=0)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(we|=0)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(ve|=0)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(K|=0)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Q|=0)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(te|=0)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(f|=0)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(B|=0)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(re|=0)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(ne|=0)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(ae|=0)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(be=(O=re^K^le^F)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(ye=(O=ne^Q^fe^se)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Ae=(O=ae^te^de^le)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(ge=(O=be^f^pe^fe)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|~w&I)+1518500249|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(z=(O=ye^B^we^de)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(G=(O=Ae^re^ve^pe)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(q=(O=ge^ne^K^we)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(N=(O=z^ae^Q^ve)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Z=(O=G^be^te^K)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(P=(O=q^ye^f^Q)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(M=(O=N^Ae^B^te)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(R=(O=Z^ge^re^f)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(he=(O=P^z^ne^B)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Me=(O=M^G^ae^re)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Ze=(O=R^q^be^ne)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Ie=(O=he^N^ye^ae)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Te=(O=Me^Z^Ae^be)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(rt=(O=Ze^P^ge^ye)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(je=(O=Ie^M^z^Ae)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Le=(O=Te^R^G^ge)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(ft=(O=rt^he^q^z)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(De=(O=je^Me^N^G)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Re=(O=Le^Ze^Z^q)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=($e=(O=ft^Ie^P^N)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)+1859775393|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Ce=(O=De^Te^M^Z)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(ze=(O=Re^rt^R^P)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(et=(O=$e^je^he^M)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Fe=(O=Ce^Le^Me^R)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(oe=(O=ze^ft^Ze^he)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(ue=(O=et^De^Ie^Me)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(me=(O=Fe^Re^Te^Ze)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(ke=(O=oe^$e^rt^Ie)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Ue=(O=ue^Ce^je^Te)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Pe=(O=me^ze^Le^rt)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Ee=(O=ke^et^ft^je)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Je=(O=Ue^Fe^De^Le)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Ve=(O=Pe^oe^Re^ft)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Xe=(O=Ee^ue^$e^De)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Nt=(O=Je^me^Ce^Re)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(jt=(O=Ve^ke^ze^$e)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Xt=(O=Xe^Ue^et^Ce)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Hr=(O=Nt^Pe^Fe^ze)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Wr=(O=jt^Ee^oe^et)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=($r=(O=Xt^Je^ue^Fe)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w&x|w&I|x&I)-1894007588|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Yr=(O=Hr^Ve^me^oe)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Jr=(O=Wr^Xe^ke^ue)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Qr=(O=$r^Nt^Ue^me)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Xr=(O=Yr^jt^Pe^ke)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(vn=(O=Jr^Xt^Ee^Ue)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(_n=(O=Qr^Hr^Je^Pe)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Yn=(O=Xr^Wr^Ve^Ee)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Jn=(O=vn^$r^Xe^Je)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Qn=(O=_n^Yr^Nt^Ve)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Xn=(O=Yn^Jr^jt^Xe)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(ei=(O=Jn^Qr^Xt^Nt)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(ti=(O=Qn^Xr^Hr^jt)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(Ei=(O=Xn^vn^Wr^Xt)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(C1=(O=ei^_n^$r^Hr)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(M1=(O=ti^Yn^Yr^Wr)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(P1=(O=Ei^Jn^Jr^$r)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=(D1=(O=C1^Qn^Qr^Yr)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=((O=M1^Xn^Xr^Jr)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=((O=P1^ei^vn^Qr)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,W=((O=D1^ti^_n^Xr)<<1|O>>>31)+((S=W)<<5|S>>>27)+V+(w^x^I)-899497514|0,V=I,I=x,x=w<<30|w>>>2,w=S,n=n+(S=W)|0,i=i+w|0,a=a+x|0,s=s+I|0,o=o+V|0}function X(F){ie(U[0|(F|=0)]<<24|U[1|F]<<16|U[2|F]<<8|U[3|F],U[4|F]<<24|U[5|F]<<16|U[6|F]<<8|U[7|F],U[8|F]<<24|U[9|F]<<16|U[10|F]<<8|U[11|F],U[12|F]<<24|U[13|F]<<16|U[14|F]<<8|U[15|F],U[16|F]<<24|U[17|F]<<16|U[18|F]<<8|U[19|F],U[20|F]<<24|U[21|F]<<16|U[22|F]<<8|U[23|F],U[24|F]<<24|U[25|F]<<16|U[26|F]<<8|U[27|F],U[28|F]<<24|U[29|F]<<16|U[30|F]<<8|U[31|F],U[32|F]<<24|U[33|F]<<16|U[34|F]<<8|U[35|F],U[36|F]<<24|U[37|F]<<16|U[38|F]<<8|U[39|F],U[40|F]<<24|U[41|F]<<16|U[42|F]<<8|U[43|F],U[44|F]<<24|U[45|F]<<16|U[46|F]<<8|U[47|F],U[48|F]<<24|U[49|F]<<16|U[50|F]<<8|U[51|F],U[52|F]<<24|U[53|F]<<16|U[54|F]<<8|U[55|F],U[56|F]<<24|U[57|F]<<16|U[58|F]<<8|U[59|F],U[60|F]<<24|U[61|F]<<16|U[62|F]<<8|U[63|F])}function ee(F){U[0|(F|=0)]=n>>>24,U[1|F]=n>>>16&255,U[2|F]=n>>>8&255,U[3|F]=255&n,U[4|F]=i>>>24,U[5|F]=i>>>16&255,U[6|F]=i>>>8&255,U[7|F]=255&i,U[8|F]=a>>>24,U[9|F]=a>>>16&255,U[10|F]=a>>>8&255,U[11|F]=255&a,U[12|F]=s>>>24,U[13|F]=s>>>16&255,U[14|F]=s>>>8&255,U[15|F]=255&s,U[16|F]=o>>>24,U[17|F]=o>>>16&255,U[18|F]=o>>>8&255,U[19|F]=255&o}function h(){n=1732584193,i=4023233417,a=2562383102,s=271733878,o=3285377520,u=c=0}function A(F,se){se|=0;var le=0;if(63&(F|=0))return-1;for(;(0|se)>=64;)X(F),F=F+64|0,se=se-64|0,le=le+64|0;return(u=u+le|0)>>>0<le>>>0&&(c=c+1|0),0|le}function v(F,se,le){le|=0;var fe=0,de=0;if(63&(F|=0)||~le&&31&le)return-1;if((0|(se|=0))>=64){if(-1==(0|(fe=0|A(F,se))))return-1;F=F+fe|0,se=se-fe|0}if(fe=fe+se|0,(u=u+se|0)>>>0<se>>>0&&(c=c+1|0),U[F|se]=128,(0|se)>=56){for(de=se+1|0;(0|de)<64;de=de+1|0)U[F|de]=0;X(F),se=0,U[0|F]=0}for(de=se+1|0;(0|de)<59;de=de+1|0)U[F|de]=0;return U[56|F]=c>>>21&255,U[57|F]=c>>>13&255,U[58|F]=c>>>5&255,U[59|F]=c<<3&255|u>>>29,U[60|F]=u>>>21&255,U[61|F]=u>>>13&255,U[62|F]=u>>>5&255,U[63|F]=u<<3&255,X(F),~le&&ee(le),0|fe}function m(){n=l,i=d,a=y,s=g,o=k,u=64,c=0}function E(){n=D,i=T,a=Y,s=J,o=j,u=64,c=0}function H(F,se,le){le|=0;var fe=0,de=0,pe=0,we=0,ve=0,K=0;return 63&(F|=0)||~le&&31&le?-1:(K=0|v(F,se|=0,-1),fe=n,de=i,pe=a,we=s,ve=o,E(),ie(fe,de,pe,we,ve,2147483648,0,0,0,0,0,0,0,0,0,672),~le&&ee(le),0|K)}return{reset:h,init:function(F,se,le,fe,de,pe,we){n=F|=0,i=se|=0,a=le|=0,s=fe|=0,o=de|=0,u=pe|=0,c=we|=0},process:A,finish:v,hmac_reset:m,hmac_init:function(F,se,le,fe,de,pe,we,ve,K,Q,te,f,B,re,ne,ae){F|=0,se|=0,le|=0,fe|=0,de|=0,pe|=0,we|=0,ve|=0,K|=0,Q|=0,te|=0,f|=0,B|=0,re|=0,ne|=0,ae|=0,h(),ie(1549556828^F,1549556828^se,1549556828^le,1549556828^fe,1549556828^de,1549556828^pe,1549556828^we,1549556828^ve,1549556828^K,1549556828^Q,1549556828^te,1549556828^f,1549556828^B,1549556828^re,1549556828^ne,1549556828^ae),D=n,T=i,Y=a,J=s,j=o,h(),ie(909522486^F,909522486^se,909522486^le,909522486^fe,909522486^de,909522486^pe,909522486^we,909522486^ve,909522486^K,909522486^Q,909522486^te,909522486^f,909522486^B,909522486^re,909522486^ne,909522486^ae),l=n,d=i,y=a,g=s,k=o,u=64,c=0},hmac_finish:H,pbkdf2_generate_block:function(F,se,le,fe,de){fe|=0,de|=0;var pe=0,we=0,ve=0,K=0,Q=0,te=0,f=0,B=0,re=0,ne=0;if(63&(F|=0)||~de&&31&de)return-1;for(U[F+(se|=0)|0]=(le|=0)>>>24,U[F+se+1|0]=le>>>16&255,U[F+se+2|0]=le>>>8&255,U[F+se+3|0]=255&le,H(F,se+4|0,-1),pe=te=n,we=f=i,ve=B=a,K=re=s,Q=ne=o,fe=fe-1|0;(0|fe)>0;)m(),ie(te,f,B,re,ne,2147483648,0,0,0,0,0,0,0,0,0,672),te=n,f=i,B=a,re=s,ne=o,E(),ie(te,f,B,re,ne,2147483648,0,0,0,0,0,0,0,0,0,672),te=n,f=i,B=a,re=s,ne=o,pe^=n,we^=i,ve^=a,K^=s,Q^=o,fe=fe-1|0;return n=pe,i=we,a=ve,s=K,o=Q,~de&&ee(de),0}}};class od{constructor(){this.pos=0,this.len=0}reset(){const{asm:e}=this.acquire_asm();return this.result=null,this.pos=0,this.len=0,e.reset(),this}process(e){if(null!==this.result)throw new qc("state must be reset before processing new data");const{asm:r,heap:n}=this.acquire_asm();let i=this.pos,a=this.len,s=0,o=e.length,u=0;for(;o>0;)u=si(n,i+a,e,s,o),a+=u,s+=u,o-=u,u=r.process(i,a),i+=u,a-=u,a||(i=0);return this.pos=i,this.len=a,this}finish(){if(null!==this.result)throw new qc("state must be reset before processing new data");const{asm:e,heap:r}=this.acquire_asm();return e.finish(this.pos,this.len,0),this.result=new Uint8Array(this.HASH_SIZE),this.result.set(r.subarray(0,this.HASH_SIZE)),this.pos=0,this.len=0,this.release_asm(),this}}const cd=[],ud=[];class oi extends od{constructor(){super(),this.NAME="sha1",this.BLOCK_SIZE=64,this.HASH_SIZE=20,this.acquire_asm()}acquire_asm(){return void 0!==this.heap&&void 0!==this.asm||(this.heap=cd.pop()||Vc(),this.asm=ud.pop()||sd({Uint8Array},0,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(cd.push(this.heap),ud.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return(new oi).process(e).finish().result}}oi.NAME="sha1",oi.heap_pool=[],oi.asm_pool=[],oi.asm_function=sd;const ld=[],dd=[];let p5=(()=>{class t extends od{constructor(){super(),this.NAME="sha256",this.BLOCK_SIZE=64,this.HASH_SIZE=32,this.acquire_asm()}acquire_asm(){return void 0!==this.heap&&void 0!==this.asm||(this.heap=ld.pop()||Vc(),this.asm=dd.pop()||function(r,n,i){var a=0,s=0,o=0,u=0,c=0,l=0,d=0,y=0,g=0,k=0,D=0,T=0,Y=0,J=0,j=0,U=0,ie=0,X=0,ee=0,h=0,b=0,A=0,v=0,m=0,E=0,$=0,H=new r.Uint8Array(i);function ce(f,B,re,ne,ae,S,w,x,I,V,O,W,be,ye,Ae,ge){var z=0,G=0,q=0,N=0,Z=0,P=0,M=0,R=0;N=(N=u)+(R=(f|=0)+(R=y)+((Z=c)>>>6^Z>>>11^Z>>>25^Z<<26^Z<<21^Z<<7)+((M=d)^Z&((P=l)^M))+1116352408|0)|0,R=R+((z=a)&(G=s)^(q=o)&(z^G))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,q=q+(M=(B|=0)+M+(N>>>6^N>>>11^N>>>25^N<<26^N<<21^N<<7)+(P^N&(Z^P))+1899447441|0)|0,M=M+(R&z^G&(R^z))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0,G=G+(P=(re|=0)+P+(q>>>6^q>>>11^q>>>25^q<<26^q<<21^q<<7)+(Z^q&(N^Z))+3049323471|0)|0,P=P+(M&R^z&(M^R))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0,z=z+(Z=(ne|=0)+Z+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(N^G&(q^N))+3921009573|0)|0,Z=Z+(P&M^R&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0,R=R+(N=(ae|=0)+N+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+(q^z&(G^q))+961987163|0)|0,N=N+(Z&P^M&(Z^P))+(Z>>>2^Z>>>13^Z>>>22^Z<<30^Z<<19^Z<<10)|0,M=M+(q=(S|=0)+q+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(G^R&(z^G))+1508970993|0)|0,q=q+(N&Z^P&(N^Z))+(N>>>2^N>>>13^N>>>22^N<<30^N<<19^N<<10)|0,P=P+(G=(w|=0)+G+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(z^M&(R^z))+2453635748|0)|0,G=G+(q&N^Z&(q^N))+(q>>>2^q>>>13^q>>>22^q<<30^q<<19^q<<10)|0,Z=Z+(z=(x|=0)+z+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(R^P&(M^R))+2870763221|0)|0,z=z+(G&q^N&(G^q))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,N=N+(R=(I|=0)+R+(Z>>>6^Z>>>11^Z>>>25^Z<<26^Z<<21^Z<<7)+(M^Z&(P^M))+3624381080|0)|0,R=R+(z&G^q&(z^G))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,q=q+(M=(V|=0)+M+(N>>>6^N>>>11^N>>>25^N<<26^N<<21^N<<7)+(P^N&(Z^P))+310598401|0)|0,M=M+(R&z^G&(R^z))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0,G=G+(P=(O|=0)+P+(q>>>6^q>>>11^q>>>25^q<<26^q<<21^q<<7)+(Z^q&(N^Z))+607225278|0)|0,P=P+(M&R^z&(M^R))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0,z=z+(Z=(W|=0)+Z+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(N^G&(q^N))+1426881987|0)|0,Z=Z+(P&M^R&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0,R=R+(N=(be|=0)+N+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+(q^z&(G^q))+1925078388|0)|0,N=N+(Z&P^M&(Z^P))+(Z>>>2^Z>>>13^Z>>>22^Z<<30^Z<<19^Z<<10)|0,M=M+(q=(ye|=0)+q+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(G^R&(z^G))+2162078206|0)|0,q=q+(N&Z^P&(N^Z))+(N>>>2^N>>>13^N>>>22^N<<30^N<<19^N<<10)|0,P=P+(G=(Ae|=0)+G+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(z^M&(R^z))+2614888103|0)|0,G=G+(q&N^Z&(q^N))+(q>>>2^q>>>13^q>>>22^q<<30^q<<19^q<<10)|0,Z=Z+(z=(ge|=0)+z+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(R^P&(M^R))+3248222580|0)|0,z=z+(G&q^N&(G^q))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,N=N+(R=(f=(B>>>7^B>>>18^B>>>3^B<<25^B<<14)+(Ae>>>17^Ae>>>19^Ae>>>10^Ae<<15^Ae<<13)+f+V|0)+R+(Z>>>6^Z>>>11^Z>>>25^Z<<26^Z<<21^Z<<7)+(M^Z&(P^M))+3835390401|0)|0,R=R+(z&G^q&(z^G))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,q=q+(M=(B=(re>>>7^re>>>18^re>>>3^re<<25^re<<14)+(ge>>>17^ge>>>19^ge>>>10^ge<<15^ge<<13)+B+O|0)+M+(N>>>6^N>>>11^N>>>25^N<<26^N<<21^N<<7)+(P^N&(Z^P))+4022224774|0)|0,M=M+(R&z^G&(R^z))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0,G=G+(P=(re=(ne>>>7^ne>>>18^ne>>>3^ne<<25^ne<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+re+W|0)+P+(q>>>6^q>>>11^q>>>25^q<<26^q<<21^q<<7)+(Z^q&(N^Z))+264347078|0)|0,P=P+(M&R^z&(M^R))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0,z=z+(Z=(ne=(ae>>>7^ae>>>18^ae>>>3^ae<<25^ae<<14)+(B>>>17^B>>>19^B>>>10^B<<15^B<<13)+ne+be|0)+Z+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(N^G&(q^N))+604807628|0)|0,Z=Z+(P&M^R&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0,R=R+(N=(ae=(S>>>7^S>>>18^S>>>3^S<<25^S<<14)+(re>>>17^re>>>19^re>>>10^re<<15^re<<13)+ae+ye|0)+N+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+(q^z&(G^q))+770255983|0)|0,N=N+(Z&P^M&(Z^P))+(Z>>>2^Z>>>13^Z>>>22^Z<<30^Z<<19^Z<<10)|0,M=M+(q=(S=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(ne>>>17^ne>>>19^ne>>>10^ne<<15^ne<<13)+S+Ae|0)+q+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(G^R&(z^G))+1249150122|0)|0,q=q+(N&Z^P&(N^Z))+(N>>>2^N>>>13^N>>>22^N<<30^N<<19^N<<10)|0,P=P+(G=(w=(x>>>7^x>>>18^x>>>3^x<<25^x<<14)+(ae>>>17^ae>>>19^ae>>>10^ae<<15^ae<<13)+w+ge|0)+G+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(z^M&(R^z))+1555081692|0)|0,G=G+(q&N^Z&(q^N))+(q>>>2^q>>>13^q>>>22^q<<30^q<<19^q<<10)|0,Z=Z+(z=(x=(I>>>7^I>>>18^I>>>3^I<<25^I<<14)+(S>>>17^S>>>19^S>>>10^S<<15^S<<13)+x+f|0)+z+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(R^P&(M^R))+1996064986|0)|0,z=z+(G&q^N&(G^q))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,N=N+(R=(I=(V>>>7^V>>>18^V>>>3^V<<25^V<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+I+B|0)+R+(Z>>>6^Z>>>11^Z>>>25^Z<<26^Z<<21^Z<<7)+(M^Z&(P^M))+2554220882|0)|0,R=R+(z&G^q&(z^G))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,q=q+(M=(V=(O>>>7^O>>>18^O>>>3^O<<25^O<<14)+(x>>>17^x>>>19^x>>>10^x<<15^x<<13)+V+re|0)+M+(N>>>6^N>>>11^N>>>25^N<<26^N<<21^N<<7)+(P^N&(Z^P))+2821834349|0)|0,M=M+(R&z^G&(R^z))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0,G=G+(P=(O=(W>>>7^W>>>18^W>>>3^W<<25^W<<14)+(I>>>17^I>>>19^I>>>10^I<<15^I<<13)+O+ne|0)+P+(q>>>6^q>>>11^q>>>25^q<<26^q<<21^q<<7)+(Z^q&(N^Z))+2952996808|0)|0,P=P+(M&R^z&(M^R))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0,z=z+(Z=(W=(be>>>7^be>>>18^be>>>3^be<<25^be<<14)+(V>>>17^V>>>19^V>>>10^V<<15^V<<13)+W+ae|0)+Z+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(N^G&(q^N))+3210313671|0)|0,Z=Z+(P&M^R&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0,R=R+(N=(be=(ye>>>7^ye>>>18^ye>>>3^ye<<25^ye<<14)+(O>>>17^O>>>19^O>>>10^O<<15^O<<13)+be+S|0)+N+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+(q^z&(G^q))+3336571891|0)|0,N=N+(Z&P^M&(Z^P))+(Z>>>2^Z>>>13^Z>>>22^Z<<30^Z<<19^Z<<10)|0,M=M+(q=(ye=(Ae>>>7^Ae>>>18^Ae>>>3^Ae<<25^Ae<<14)+(W>>>17^W>>>19^W>>>10^W<<15^W<<13)+ye+w|0)+q+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(G^R&(z^G))+3584528711|0)|0,q=q+(N&Z^P&(N^Z))+(N>>>2^N>>>13^N>>>22^N<<30^N<<19^N<<10)|0,P=P+(G=(Ae=(ge>>>7^ge>>>18^ge>>>3^ge<<25^ge<<14)+(be>>>17^be>>>19^be>>>10^be<<15^be<<13)+Ae+x|0)+G+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(z^M&(R^z))+113926993|0)|0,G=G+(q&N^Z&(q^N))+(q>>>2^q>>>13^q>>>22^q<<30^q<<19^q<<10)|0,Z=Z+(z=(ge=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(ye>>>17^ye>>>19^ye>>>10^ye<<15^ye<<13)+ge+I|0)+z+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(R^P&(M^R))+338241895|0)|0,z=z+(G&q^N&(G^q))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,N=N+(R=(f=(B>>>7^B>>>18^B>>>3^B<<25^B<<14)+(Ae>>>17^Ae>>>19^Ae>>>10^Ae<<15^Ae<<13)+f+V|0)+R+(Z>>>6^Z>>>11^Z>>>25^Z<<26^Z<<21^Z<<7)+(M^Z&(P^M))+666307205|0)|0,R=R+(z&G^q&(z^G))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,q=q+(M=(B=(re>>>7^re>>>18^re>>>3^re<<25^re<<14)+(ge>>>17^ge>>>19^ge>>>10^ge<<15^ge<<13)+B+O|0)+M+(N>>>6^N>>>11^N>>>25^N<<26^N<<21^N<<7)+(P^N&(Z^P))+773529912|0)|0,M=M+(R&z^G&(R^z))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0,G=G+(P=(re=(ne>>>7^ne>>>18^ne>>>3^ne<<25^ne<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+re+W|0)+P+(q>>>6^q>>>11^q>>>25^q<<26^q<<21^q<<7)+(Z^q&(N^Z))+1294757372|0)|0,P=P+(M&R^z&(M^R))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0,z=z+(Z=(ne=(ae>>>7^ae>>>18^ae>>>3^ae<<25^ae<<14)+(B>>>17^B>>>19^B>>>10^B<<15^B<<13)+ne+be|0)+Z+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(N^G&(q^N))+1396182291|0)|0,Z=Z+(P&M^R&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0,R=R+(N=(ae=(S>>>7^S>>>18^S>>>3^S<<25^S<<14)+(re>>>17^re>>>19^re>>>10^re<<15^re<<13)+ae+ye|0)+N+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+(q^z&(G^q))+1695183700|0)|0,N=N+(Z&P^M&(Z^P))+(Z>>>2^Z>>>13^Z>>>22^Z<<30^Z<<19^Z<<10)|0,M=M+(q=(S=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(ne>>>17^ne>>>19^ne>>>10^ne<<15^ne<<13)+S+Ae|0)+q+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(G^R&(z^G))+1986661051|0)|0,q=q+(N&Z^P&(N^Z))+(N>>>2^N>>>13^N>>>22^N<<30^N<<19^N<<10)|0,P=P+(G=(w=(x>>>7^x>>>18^x>>>3^x<<25^x<<14)+(ae>>>17^ae>>>19^ae>>>10^ae<<15^ae<<13)+w+ge|0)+G+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(z^M&(R^z))+2177026350|0)|0,G=G+(q&N^Z&(q^N))+(q>>>2^q>>>13^q>>>22^q<<30^q<<19^q<<10)|0,Z=Z+(z=(x=(I>>>7^I>>>18^I>>>3^I<<25^I<<14)+(S>>>17^S>>>19^S>>>10^S<<15^S<<13)+x+f|0)+z+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(R^P&(M^R))+2456956037|0)|0,z=z+(G&q^N&(G^q))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,N=N+(R=(I=(V>>>7^V>>>18^V>>>3^V<<25^V<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+I+B|0)+R+(Z>>>6^Z>>>11^Z>>>25^Z<<26^Z<<21^Z<<7)+(M^Z&(P^M))+2730485921|0)|0,R=R+(z&G^q&(z^G))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,q=q+(M=(V=(O>>>7^O>>>18^O>>>3^O<<25^O<<14)+(x>>>17^x>>>19^x>>>10^x<<15^x<<13)+V+re|0)+M+(N>>>6^N>>>11^N>>>25^N<<26^N<<21^N<<7)+(P^N&(Z^P))+2820302411|0)|0,M=M+(R&z^G&(R^z))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0,G=G+(P=(O=(W>>>7^W>>>18^W>>>3^W<<25^W<<14)+(I>>>17^I>>>19^I>>>10^I<<15^I<<13)+O+ne|0)+P+(q>>>6^q>>>11^q>>>25^q<<26^q<<21^q<<7)+(Z^q&(N^Z))+3259730800|0)|0,P=P+(M&R^z&(M^R))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0,z=z+(Z=(W=(be>>>7^be>>>18^be>>>3^be<<25^be<<14)+(V>>>17^V>>>19^V>>>10^V<<15^V<<13)+W+ae|0)+Z+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(N^G&(q^N))+3345764771|0)|0,Z=Z+(P&M^R&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0,R=R+(N=(be=(ye>>>7^ye>>>18^ye>>>3^ye<<25^ye<<14)+(O>>>17^O>>>19^O>>>10^O<<15^O<<13)+be+S|0)+N+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+(q^z&(G^q))+3516065817|0)|0,N=N+(Z&P^M&(Z^P))+(Z>>>2^Z>>>13^Z>>>22^Z<<30^Z<<19^Z<<10)|0,M=M+(q=(ye=(Ae>>>7^Ae>>>18^Ae>>>3^Ae<<25^Ae<<14)+(W>>>17^W>>>19^W>>>10^W<<15^W<<13)+ye+w|0)+q+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(G^R&(z^G))+3600352804|0)|0,q=q+(N&Z^P&(N^Z))+(N>>>2^N>>>13^N>>>22^N<<30^N<<19^N<<10)|0,P=P+(G=(Ae=(ge>>>7^ge>>>18^ge>>>3^ge<<25^ge<<14)+(be>>>17^be>>>19^be>>>10^be<<15^be<<13)+Ae+x|0)+G+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(z^M&(R^z))+4094571909|0)|0,G=G+(q&N^Z&(q^N))+(q>>>2^q>>>13^q>>>22^q<<30^q<<19^q<<10)|0,Z=Z+(z=(ge=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(ye>>>17^ye>>>19^ye>>>10^ye<<15^ye<<13)+ge+I|0)+z+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(R^P&(M^R))+275423344|0)|0,z=z+(G&q^N&(G^q))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,N=N+(R=(f=(B>>>7^B>>>18^B>>>3^B<<25^B<<14)+(Ae>>>17^Ae>>>19^Ae>>>10^Ae<<15^Ae<<13)+f+V|0)+R+(Z>>>6^Z>>>11^Z>>>25^Z<<26^Z<<21^Z<<7)+(M^Z&(P^M))+430227734|0)|0,R=R+(z&G^q&(z^G))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,q=q+(M=(B=(re>>>7^re>>>18^re>>>3^re<<25^re<<14)+(ge>>>17^ge>>>19^ge>>>10^ge<<15^ge<<13)+B+O|0)+M+(N>>>6^N>>>11^N>>>25^N<<26^N<<21^N<<7)+(P^N&(Z^P))+506948616|0)|0,M=M+(R&z^G&(R^z))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0,G=G+(P=(re=(ne>>>7^ne>>>18^ne>>>3^ne<<25^ne<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+re+W|0)+P+(q>>>6^q>>>11^q>>>25^q<<26^q<<21^q<<7)+(Z^q&(N^Z))+659060556|0)|0,P=P+(M&R^z&(M^R))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0,z=z+(Z=(ne=(ae>>>7^ae>>>18^ae>>>3^ae<<25^ae<<14)+(B>>>17^B>>>19^B>>>10^B<<15^B<<13)+ne+be|0)+Z+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(N^G&(q^N))+883997877|0)|0,Z=Z+(P&M^R&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0,R=R+(N=(ae=(S>>>7^S>>>18^S>>>3^S<<25^S<<14)+(re>>>17^re>>>19^re>>>10^re<<15^re<<13)+ae+ye|0)+N+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+(q^z&(G^q))+958139571|0)|0,N=N+(Z&P^M&(Z^P))+(Z>>>2^Z>>>13^Z>>>22^Z<<30^Z<<19^Z<<10)|0,M=M+(q=(S=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(ne>>>17^ne>>>19^ne>>>10^ne<<15^ne<<13)+S+Ae|0)+q+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(G^R&(z^G))+1322822218|0)|0,q=q+(N&Z^P&(N^Z))+(N>>>2^N>>>13^N>>>22^N<<30^N<<19^N<<10)|0,P=P+(G=(w=(x>>>7^x>>>18^x>>>3^x<<25^x<<14)+(ae>>>17^ae>>>19^ae>>>10^ae<<15^ae<<13)+w+ge|0)+G+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(z^M&(R^z))+1537002063|0)|0,G=G+(q&N^Z&(q^N))+(q>>>2^q>>>13^q>>>22^q<<30^q<<19^q<<10)|0,Z=Z+(z=(x=(I>>>7^I>>>18^I>>>3^I<<25^I<<14)+(S>>>17^S>>>19^S>>>10^S<<15^S<<13)+x+f|0)+z+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(R^P&(M^R))+1747873779|0)|0,z=z+(G&q^N&(G^q))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,N=N+(R=(I=(V>>>7^V>>>18^V>>>3^V<<25^V<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+I+B|0)+R+(Z>>>6^Z>>>11^Z>>>25^Z<<26^Z<<21^Z<<7)+(M^Z&(P^M))+1955562222|0)|0,R=R+(z&G^q&(z^G))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,q=q+(M=(V=(O>>>7^O>>>18^O>>>3^O<<25^O<<14)+(x>>>17^x>>>19^x>>>10^x<<15^x<<13)+V+re|0)+M+(N>>>6^N>>>11^N>>>25^N<<26^N<<21^N<<7)+(P^N&(Z^P))+2024104815|0)|0,M=M+(R&z^G&(R^z))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0,G=G+(P=(O=(W>>>7^W>>>18^W>>>3^W<<25^W<<14)+(I>>>17^I>>>19^I>>>10^I<<15^I<<13)+O+ne|0)+P+(q>>>6^q>>>11^q>>>25^q<<26^q<<21^q<<7)+(Z^q&(N^Z))+2227730452|0)|0,P=P+(M&R^z&(M^R))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0,z=z+(Z=(W=(be>>>7^be>>>18^be>>>3^be<<25^be<<14)+(V>>>17^V>>>19^V>>>10^V<<15^V<<13)+W+ae|0)+Z+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(N^G&(q^N))+2361852424|0)|0,Z=Z+(P&M^R&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0,R=R+(N=(be=(ye>>>7^ye>>>18^ye>>>3^ye<<25^ye<<14)+(O>>>17^O>>>19^O>>>10^O<<15^O<<13)+be+S|0)+N+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+(q^z&(G^q))+2428436474|0)|0,N=N+(Z&P^M&(Z^P))+(Z>>>2^Z>>>13^Z>>>22^Z<<30^Z<<19^Z<<10)|0,M=M+(q=(ye=(Ae>>>7^Ae>>>18^Ae>>>3^Ae<<25^Ae<<14)+(W>>>17^W>>>19^W>>>10^W<<15^W<<13)+ye+w|0)+q+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(G^R&(z^G))+2756734187|0)|0,q=q+(N&Z^P&(N^Z))+(N>>>2^N>>>13^N>>>22^N<<30^N<<19^N<<10)|0,P=P+(G=(Ae=(ge>>>7^ge>>>18^ge>>>3^ge<<25^ge<<14)+(be>>>17^be>>>19^be>>>10^be<<15^be<<13)+Ae+x|0)+G+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(z^M&(R^z))+3204031479|0)|0,G=G+(q&N^Z&(q^N))+(q>>>2^q>>>13^q>>>22^q<<30^q<<19^q<<10)|0,Z=Z+(z=(ge=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(ye>>>17^ye>>>19^ye>>>10^ye<<15^ye<<13)+ge+I|0)+z+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(R^P&(M^R))+3329325298|0)|0,a=a+(z=z+(G&q^N&(G^q))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0)|0,s=s+G|0,o=o+q|0,u=u+N|0,c=c+Z|0,l=l+P|0,d=d+M|0,y=y+R|0}function F(f){ce(H[0|(f|=0)]<<24|H[1|f]<<16|H[2|f]<<8|H[3|f],H[4|f]<<24|H[5|f]<<16|H[6|f]<<8|H[7|f],H[8|f]<<24|H[9|f]<<16|H[10|f]<<8|H[11|f],H[12|f]<<24|H[13|f]<<16|H[14|f]<<8|H[15|f],H[16|f]<<24|H[17|f]<<16|H[18|f]<<8|H[19|f],H[20|f]<<24|H[21|f]<<16|H[22|f]<<8|H[23|f],H[24|f]<<24|H[25|f]<<16|H[26|f]<<8|H[27|f],H[28|f]<<24|H[29|f]<<16|H[30|f]<<8|H[31|f],H[32|f]<<24|H[33|f]<<16|H[34|f]<<8|H[35|f],H[36|f]<<24|H[37|f]<<16|H[38|f]<<8|H[39|f],H[40|f]<<24|H[41|f]<<16|H[42|f]<<8|H[43|f],H[44|f]<<24|H[45|f]<<16|H[46|f]<<8|H[47|f],H[48|f]<<24|H[49|f]<<16|H[50|f]<<8|H[51|f],H[52|f]<<24|H[53|f]<<16|H[54|f]<<8|H[55|f],H[56|f]<<24|H[57|f]<<16|H[58|f]<<8|H[59|f],H[60|f]<<24|H[61|f]<<16|H[62|f]<<8|H[63|f])}function se(f){H[0|(f|=0)]=a>>>24,H[1|f]=a>>>16&255,H[2|f]=a>>>8&255,H[3|f]=255&a,H[4|f]=s>>>24,H[5|f]=s>>>16&255,H[6|f]=s>>>8&255,H[7|f]=255&s,H[8|f]=o>>>24,H[9|f]=o>>>16&255,H[10|f]=o>>>8&255,H[11|f]=255&o,H[12|f]=u>>>24,H[13|f]=u>>>16&255,H[14|f]=u>>>8&255,H[15|f]=255&u,H[16|f]=c>>>24,H[17|f]=c>>>16&255,H[18|f]=c>>>8&255,H[19|f]=255&c,H[20|f]=l>>>24,H[21|f]=l>>>16&255,H[22|f]=l>>>8&255,H[23|f]=255&l,H[24|f]=d>>>24,H[25|f]=d>>>16&255,H[26|f]=d>>>8&255,H[27|f]=255&d,H[28|f]=y>>>24,H[29|f]=y>>>16&255,H[30|f]=y>>>8&255,H[31|f]=255&y}function le(){a=1779033703,s=3144134277,o=1013904242,u=2773480762,c=1359893119,l=2600822924,d=528734635,y=1541459225,g=k=0}function de(f,B){B|=0;var re=0;if(63&(f|=0))return-1;for(;(0|B)>=64;)F(f),f=f+64|0,B=B-64|0,re=re+64|0;return(g=g+re|0)>>>0<re>>>0&&(k=k+1|0),0|re}function pe(f,B,re){re|=0;var ne=0,ae=0;if(63&(f|=0)||~re&&31&re)return-1;if((0|(B|=0))>=64){if(-1==(0|(ne=0|de(f,B))))return-1;f=f+ne|0,B=B-ne|0}if(ne=ne+B|0,(g=g+B|0)>>>0<B>>>0&&(k=k+1|0),H[f|B]=128,(0|B)>=56){for(ae=B+1|0;(0|ae)<64;ae=ae+1|0)H[f|ae]=0;F(f),B=0,H[0|f]=0}for(ae=B+1|0;(0|ae)<59;ae=ae+1|0)H[f|ae]=0;return H[56|f]=k>>>21&255,H[57|f]=k>>>13&255,H[58|f]=k>>>5&255,H[59|f]=k<<3&255|g>>>29,H[60|f]=g>>>21&255,H[61|f]=g>>>13&255,H[62|f]=g>>>5&255,H[63|f]=g<<3&255,F(f),~re&&se(re),0|ne}function we(){a=D,s=T,o=Y,u=J,c=j,l=U,d=ie,y=X,g=64,k=0}function ve(){a=ee,s=h,o=b,u=A,c=v,l=m,d=E,y=$,g=64,k=0}function Q(f,B,re){re|=0;var ne=0,ae=0,S=0,w=0,x=0,I=0,V=0,O=0,W=0;return 63&(f|=0)||~re&&31&re?-1:(W=0|pe(f,B|=0,-1),ne=a,ae=s,S=o,w=u,x=c,I=l,V=d,O=y,ve(),ce(ne,ae,S,w,x,I,V,O,2147483648,0,0,0,0,0,0,768),~re&&se(re),0|W)}return{reset:le,init:function(f,B,re,ne,ae,S,w,x,I,V){a=f|=0,s=B|=0,o=re|=0,u=ne|=0,c=ae|=0,l=S|=0,d=w|=0,y=x|=0,g=I|=0,k=V|=0},process:de,finish:pe,hmac_reset:we,hmac_init:function(f,B,re,ne,ae,S,w,x,I,V,O,W,be,ye,Ae,ge){f|=0,B|=0,re|=0,ne|=0,ae|=0,S|=0,w|=0,x|=0,I|=0,V|=0,O|=0,W|=0,be|=0,ye|=0,Ae|=0,ge|=0,le(),ce(1549556828^f,1549556828^B,1549556828^re,1549556828^ne,1549556828^ae,1549556828^S,1549556828^w,1549556828^x,1549556828^I,1549556828^V,1549556828^O,1549556828^W,1549556828^be,1549556828^ye,1549556828^Ae,1549556828^ge),ee=a,h=s,b=o,A=u,v=c,m=l,E=d,$=y,le(),ce(909522486^f,909522486^B,909522486^re,909522486^ne,909522486^ae,909522486^S,909522486^w,909522486^x,909522486^I,909522486^V,909522486^O,909522486^W,909522486^be,909522486^ye,909522486^Ae,909522486^ge),D=a,T=s,Y=o,J=u,j=c,U=l,ie=d,X=y,g=64,k=0},hmac_finish:Q,pbkdf2_generate_block:function(f,B,re,ne,ae){ne|=0,ae|=0;var S=0,w=0,x=0,I=0,V=0,O=0,W=0,be=0,ye=0,Ae=0,ge=0,z=0,G=0,q=0,N=0,Z=0;if(63&(f|=0)||~ae&&31&ae)return-1;for(H[f+(B|=0)|0]=(re|=0)>>>24,H[f+B+1|0]=re>>>16&255,H[f+B+2|0]=re>>>8&255,H[f+B+3|0]=255&re,Q(f,B+4|0,-1),S=ye=a,w=Ae=s,x=ge=o,I=z=u,V=G=c,O=q=l,W=N=d,be=Z=y,ne=ne-1|0;(0|ne)>0;)we(),ce(ye,Ae,ge,z,G,q,N,Z,2147483648,0,0,0,0,0,0,768),ye=a,Ae=s,ge=o,z=u,G=c,q=l,N=d,Z=y,ve(),ce(ye,Ae,ge,z,G,q,N,Z,2147483648,0,0,0,0,0,0,768),ye=a,Ae=s,ge=o,z=u,G=c,q=l,N=d,Z=y,S^=a,w^=s,x^=o,I^=u,V^=c,O^=l,W^=d,be^=y,ne=ne-1|0;return a=S,s=w,o=x,u=I,c=V,l=O,d=W,y=be,~ae&&se(ae),0}}}({Uint8Array},0,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(ld.push(this.heap),dd.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(r){return(new t).process(r).finish().result}}return t.NAME="sha256",t})();var Mn=hd;function hd(t,e){if(!t)throw Error(e||"Assertion failed")}hd.equal=function(t,e,r){if(t!=e)throw Error(r||"Assertion failed: "+t+" != "+e)};var y5=void 0!==Bt?Bt:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Cr(t,e){return t(e={exports:{}},e.exports),e.exports}var Pn=Cr(function(t){t.exports="function"==typeof Object.create?function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}});function fd(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function pd(t){return 1===t.length?"0"+t:t}function yd(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}var Ne={inherits:Pn,toArray:function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),a=i>>8,s=255&i;a?r.push(a,s):r.push(s)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},toHex:function(t){for(var e="",r=0;r<t.length;r++)e+=pd(t[r].toString(16));return e},htonl:fd,toHex32:function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=fd(i)),r+=yd(i.toString(16))}return r},zero2:pd,zero8:yd,join32:function(t,e,r,n){var i=r-e;Mn(i%4==0);for(var a=Array(i/4),s=0,o=e;s<a.length;s++,o+=4)a[s]=("big"===n?t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o])>>>0;return a},split32:function(t,e){for(var r=Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var a=t[n];"big"===e?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=255&a):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=255&a)}return r},rotr32:function(t,e){return t>>>e|t<<32-e},rotl32:function(t,e){return t<<e|t>>>32-e},sum32:function(t,e){return t+e>>>0},sum32_3:function(t,e,r){return t+e+r>>>0},sum32_4:function(t,e,r,n){return t+e+r+n>>>0},sum32_5:function(t,e,r,n,i){return t+e+r+n+i>>>0},sum64:function(t,e,r,n){var a=n+t[e+1]>>>0;t[e]=(a<n?1:0)+r+t[e]>>>0,t[e+1]=a},sum64_hi:function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},sum64_lo:function(t,e,r,n){return e+n>>>0},sum64_4_hi:function(t,e,r,n,i,a,s,o){var u=0,c=e;return u+=(c=c+n>>>0)<e?1:0,u+=(c=c+a>>>0)<a?1:0,t+r+i+s+(u+=(c=c+o>>>0)<o?1:0)>>>0},sum64_4_lo:function(t,e,r,n,i,a,s,o){return e+n+a+o>>>0},sum64_5_hi:function(t,e,r,n,i,a,s,o,u,c){var l=0,d=e;return l+=(d=d+n>>>0)<e?1:0,l+=(d=d+a>>>0)<a?1:0,l+=(d=d+o>>>0)<o?1:0,t+r+i+s+u+(l+=(d=d+c>>>0)<c?1:0)>>>0},sum64_5_lo:function(t,e,r,n,i,a,s,o,u,c){return e+n+a+o+c>>>0},rotr64_hi:function(t,e,r){return(e<<32-r|t>>>r)>>>0},rotr64_lo:function(t,e,r){return(t<<32-r|e>>>r)>>>0},shr64_hi:function(t,e,r){return t>>>r},shr64_lo:function(t,e,r){return(t<<32-r|e>>>r)>>>0}};function Ms(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var g5=Ms;Ms.prototype.update=function(t,e){if(t=Ne.toArray(t,e),this.pending=this.pending?this.pending.concat(t):t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=Ne.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},Ms.prototype.digest=function(t){return this.update(this._pad()),Mn(null===this.pending),this._digest(t)},Ms.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,a=8;a<this.padLength;a++)n[i++]=0;return n};var Aa={BlockHash:g5},Mr=Ne.rotr32;function gd(t,e,r){return t&e^~t&r}function md(t,e,r){return t&e^t&r^e&r}var hr=Ne.sum32,m5=Ne.sum32_4,b5=Ne.sum32_5,v5=gd,_5=md,w5=function(t){return Mr(t,2)^Mr(t,13)^Mr(t,22)},A5=function(t){return Mr(t,6)^Mr(t,11)^Mr(t,25)},k5=function(t){return Mr(t,7)^Mr(t,18)^t>>>3},S5=function(t){return Mr(t,17)^Mr(t,19)^t>>>10},vd=Aa.BlockHash,x5=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Pr(){if(!(this instanceof Pr))return new Pr;vd.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x5,this.W=Array(64)}Ne.inherits(Pr,vd);var Lc=Pr;function un(){if(!(this instanceof un))return new un;Lc.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Pr.blockSize=512,Pr.outSize=256,Pr.hmacStrength=192,Pr.padLength=64,Pr.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=m5(S5(r[n-2]),r[n-7],k5(r[n-15]),r[n-16]);var i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],u=this.h[4],c=this.h[5],l=this.h[6],d=this.h[7];for(Mn(this.k.length===r.length),n=0;n<r.length;n++){var y=b5(d,A5(u),v5(u,c,l),this.k[n],r[n]),g=hr(w5(i),_5(i,a,s));d=l,l=c,c=u,u=hr(o,y),o=s,s=a,a=i,i=hr(y,g)}this.h[0]=hr(this.h[0],i),this.h[1]=hr(this.h[1],a),this.h[2]=hr(this.h[2],s),this.h[3]=hr(this.h[3],o),this.h[4]=hr(this.h[4],u),this.h[5]=hr(this.h[5],c),this.h[6]=hr(this.h[6],l),this.h[7]=hr(this.h[7],d)},Pr.prototype._digest=function(t){return"hex"===t?Ne.toHex32(this.h,"big"):Ne.split32(this.h,"big")},Ne.inherits(un,Lc);var _d=un;un.blockSize=512,un.outSize=224,un.hmacStrength=192,un.padLength=64,un.prototype._digest=function(t){return"hex"===t?Ne.toHex32(this.h.slice(0,7),"big"):Ne.split32(this.h.slice(0,7),"big")};var Dr=Ne.rotr64_hi,Tr=Ne.rotr64_lo,wd=Ne.shr64_hi,Ad=Ne.shr64_lo,Dn=Ne.sum64,Gc=Ne.sum64_hi,Zc=Ne.sum64_lo,E5=Ne.sum64_4_hi,C5=Ne.sum64_4_lo,M5=Ne.sum64_5_hi,P5=Ne.sum64_5_lo,kd=Aa.BlockHash,D5=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function fr(){if(!(this instanceof fr))return new fr;kd.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=D5,this.W=Array(160)}Ne.inherits(fr,kd);var ka=fr;function T5(t,e,r,n,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function I5(t,e,r,n,i,a){var s=e&n^~e&a;return s<0&&(s+=4294967296),s}function U5(t,e,r,n,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function R5(t,e,r,n,i,a){var s=e&n^e&a^n&a;return s<0&&(s+=4294967296),s}function K5(t,e){var r=Dr(t,e,28)^Dr(e,t,2)^Dr(e,t,7);return r<0&&(r+=4294967296),r}function B5(t,e){var r=Tr(t,e,28)^Tr(e,t,2)^Tr(e,t,7);return r<0&&(r+=4294967296),r}function O5(t,e){var r=Dr(t,e,14)^Dr(t,e,18)^Dr(e,t,9);return r<0&&(r+=4294967296),r}function F5(t,e){var r=Tr(t,e,14)^Tr(t,e,18)^Tr(e,t,9);return r<0&&(r+=4294967296),r}function z5(t,e){var r=Dr(t,e,1)^Dr(t,e,8)^wd(t,e,7);return r<0&&(r+=4294967296),r}function V5(t,e){var r=Tr(t,e,1)^Tr(t,e,8)^Ad(t,e,7);return r<0&&(r+=4294967296),r}function q5(t,e){var r=Dr(t,e,19)^Dr(e,t,29)^wd(t,e,6);return r<0&&(r+=4294967296),r}function N5(t,e){var r=Tr(t,e,19)^Tr(e,t,29)^Ad(t,e,6);return r<0&&(r+=4294967296),r}function ln(){if(!(this instanceof ln))return new ln;ka.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}fr.blockSize=1024,fr.outSize=512,fr.hmacStrength=192,fr.padLength=128,fr.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=q5(r[n-4],r[n-3]),a=N5(r[n-4],r[n-3]),s=r[n-14],o=r[n-13],u=z5(r[n-30],r[n-29]),c=V5(r[n-30],r[n-29]),l=r[n-32],d=r[n-31];r[n]=E5(i,a,s,o,u,c,l,d),r[n+1]=C5(i,a,s,o,u,c,l,d)}},fr.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],u=this.h[5],c=this.h[6],l=this.h[7],d=this.h[8],y=this.h[9],g=this.h[10],k=this.h[11],D=this.h[12],T=this.h[13],Y=this.h[14],J=this.h[15];Mn(this.k.length===r.length);for(var j=0;j<r.length;j+=2){var U=Y,ie=J,X=O5(d,y),ee=F5(d,y),h=T5(d,0,g,0,D),b=I5(0,y,0,k,0,T),A=this.k[j],v=this.k[j+1],m=r[j],E=r[j+1],$=M5(U,ie,X,ee,h,b,A,v,m,E),H=P5(U,ie,X,ee,h,b,A,v,m,E);U=K5(n,i),ie=B5(n,i),X=U5(n,0,a,0,o),ee=R5(0,i,0,s,0,u);var ce=Gc(U,ie,X,ee),F=Zc(U,ie,X,ee);Y=D,J=T,D=g,T=k,g=d,k=y,d=Gc(c,l,$,H),y=Zc(l,l,$,H),c=o,l=u,o=a,u=s,a=n,s=i,n=Gc($,H,ce,F),i=Zc($,H,ce,F)}Dn(this.h,0,n,i),Dn(this.h,2,a,s),Dn(this.h,4,o,u),Dn(this.h,6,c,l),Dn(this.h,8,d,y),Dn(this.h,10,g,k),Dn(this.h,12,D,T),Dn(this.h,14,Y,J)},fr.prototype._digest=function(t){return"hex"===t?Ne.toHex32(this.h,"big"):Ne.split32(this.h,"big")},Ne.inherits(ln,ka);var Sd=ln;ln.blockSize=1024,ln.outSize=384,ln.hmacStrength=192,ln.padLength=128,ln.prototype._digest=function(t){return"hex"===t?Ne.toHex32(this.h.slice(0,12),"big"):Ne.split32(this.h.slice(0,12),"big")};var Ps=Ne.rotl32,xd=Ne.sum32,Sa=Ne.sum32_3,Ed=Ne.sum32_4,Cd=Aa.BlockHash;function Ir(){if(!(this instanceof Ir))return new Ir;Cd.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ne.inherits(Ir,Cd);var Md=Ir;function Pd(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function j5(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function L5(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Ir.blockSize=512,Ir.outSize=160,Ir.hmacStrength=192,Ir.padLength=64,Ir.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],a=this.h[3],s=this.h[4],o=r,u=n,c=i,l=a,d=s,y=0;y<80;y++){var g=xd(Ps(Ed(r,Pd(y,n,i,a),t[G5[y]+e],j5(y)),H5[y]),s);r=s,s=a,a=Ps(i,10),i=n,n=g,g=xd(Ps(Ed(o,Pd(79-y,u,c,l),t[Z5[y]+e],L5(y)),W5[y]),d),o=d,d=l,l=Ps(c,10),c=u,u=g}g=Sa(this.h[1],i,l),this.h[1]=Sa(this.h[2],a,d),this.h[2]=Sa(this.h[3],s,o),this.h[3]=Sa(this.h[4],r,u),this.h[4]=Sa(this.h[0],n,c),this.h[0]=g},Ir.prototype._digest=function(t){return"hex"===t?Ne.toHex32(this.h,"little"):Ne.split32(this.h,"little")};var G5=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Z5=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],H5=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],W5=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],$5={ripemd160:Md};function Hc(t,e){let r=t[0],n=t[1],i=t[2],a=t[3];r=Pt(r,n,i,a,e[0],7,-680876936),a=Pt(a,r,n,i,e[1],12,-389564586),i=Pt(i,a,r,n,e[2],17,606105819),n=Pt(n,i,a,r,e[3],22,-1044525330),r=Pt(r,n,i,a,e[4],7,-176418897),a=Pt(a,r,n,i,e[5],12,1200080426),i=Pt(i,a,r,n,e[6],17,-1473231341),n=Pt(n,i,a,r,e[7],22,-45705983),r=Pt(r,n,i,a,e[8],7,1770035416),a=Pt(a,r,n,i,e[9],12,-1958414417),i=Pt(i,a,r,n,e[10],17,-42063),n=Pt(n,i,a,r,e[11],22,-1990404162),r=Pt(r,n,i,a,e[12],7,1804603682),a=Pt(a,r,n,i,e[13],12,-40341101),i=Pt(i,a,r,n,e[14],17,-1502002290),n=Pt(n,i,a,r,e[15],22,1236535329),r=Dt(r,n,i,a,e[1],5,-165796510),a=Dt(a,r,n,i,e[6],9,-1069501632),i=Dt(i,a,r,n,e[11],14,643717713),n=Dt(n,i,a,r,e[0],20,-373897302),r=Dt(r,n,i,a,e[5],5,-701558691),a=Dt(a,r,n,i,e[10],9,38016083),i=Dt(i,a,r,n,e[15],14,-660478335),n=Dt(n,i,a,r,e[4],20,-405537848),r=Dt(r,n,i,a,e[9],5,568446438),a=Dt(a,r,n,i,e[14],9,-1019803690),i=Dt(i,a,r,n,e[3],14,-187363961),n=Dt(n,i,a,r,e[8],20,1163531501),r=Dt(r,n,i,a,e[13],5,-1444681467),a=Dt(a,r,n,i,e[2],9,-51403784),i=Dt(i,a,r,n,e[7],14,1735328473),n=Dt(n,i,a,r,e[12],20,-1926607734),r=Tt(r,n,i,a,e[5],4,-378558),a=Tt(a,r,n,i,e[8],11,-2022574463),i=Tt(i,a,r,n,e[11],16,1839030562),n=Tt(n,i,a,r,e[14],23,-35309556),r=Tt(r,n,i,a,e[1],4,-1530992060),a=Tt(a,r,n,i,e[4],11,1272893353),i=Tt(i,a,r,n,e[7],16,-155497632),n=Tt(n,i,a,r,e[10],23,-1094730640),r=Tt(r,n,i,a,e[13],4,681279174),a=Tt(a,r,n,i,e[0],11,-358537222),i=Tt(i,a,r,n,e[3],16,-722521979),n=Tt(n,i,a,r,e[6],23,76029189),r=Tt(r,n,i,a,e[9],4,-640364487),a=Tt(a,r,n,i,e[12],11,-421815835),i=Tt(i,a,r,n,e[15],16,530742520),n=Tt(n,i,a,r,e[2],23,-995338651),r=It(r,n,i,a,e[0],6,-198630844),a=It(a,r,n,i,e[7],10,1126891415),i=It(i,a,r,n,e[14],15,-1416354905),n=It(n,i,a,r,e[5],21,-57434055),r=It(r,n,i,a,e[12],6,1700485571),a=It(a,r,n,i,e[3],10,-1894986606),i=It(i,a,r,n,e[10],15,-1051523),n=It(n,i,a,r,e[1],21,-2054922799),r=It(r,n,i,a,e[8],6,1873313359),a=It(a,r,n,i,e[15],10,-30611744),i=It(i,a,r,n,e[6],15,-1560198380),n=It(n,i,a,r,e[13],21,1309151649),r=It(r,n,i,a,e[4],6,-145523070),a=It(a,r,n,i,e[11],10,-1120210379),i=It(i,a,r,n,e[2],15,718787259),n=It(n,i,a,r,e[9],21,-343485551),t[0]=Tn(r,t[0]),t[1]=Tn(n,t[1]),t[2]=Tn(i,t[2]),t[3]=Tn(a,t[3])}function Ds(t,e,r,n,i,a){return e=Tn(Tn(e,t),Tn(n,a)),Tn(e<<i|e>>>32-i,r)}function Pt(t,e,r,n,i,a,s){return Ds(e&r|~e&n,t,e,i,a,s)}function Dt(t,e,r,n,i,a,s){return Ds(e&n|r&~n,t,e,i,a,s)}function Tt(t,e,r,n,i,a,s){return Ds(e^r^n,t,e,i,a,s)}function It(t,e,r,n,i,a,s){return Ds(r^(e|~n),t,e,i,a,s)}function Y5(t){const e=[];let r;for(r=0;r<64;r+=4)e[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return e}const Dd="0123456789abcdef".split("");function J5(t){let e="",r=0;for(;r<4;r++)e+=Dd[t>>8*r+4&15]+Dd[t>>8*r&15];return e}function Tn(t,e){return t+e&4294967295}const Ts=C.getWebCrypto(),Td=C.getNodeCrypto();function ui(t){return function(){var e=L(function*(r){const n=Td.createHash(t);return lt(r,i=>{n.update(i)},()=>new Uint8Array(n.digest()))});return function(r){return e.apply(this,arguments)}}()}function Is(t,e){return function(){var r=L(function*(n,i=_e){if(dt(n)&&(n=yield ht(n)),!C.isStream(n)&&Ts&&e&&n.length>=i.minBytesForWebCrypto)return new Uint8Array(yield Ts.digest(e,n));const a=t();return lt(n,s=>{a.update(s)},()=>new Uint8Array(a.digest()))});return function(n){return r.apply(this,arguments)}}()}function Id(t,e){return function(){var r=L(function*(n,i=_e){if(dt(n)&&(n=yield ht(n)),C.isStream(n)){const a=new t;return lt(n,s=>{a.process(s)},()=>a.finish().result)}return Ts&&e&&n.length>=i.minBytesForWebCrypto?new Uint8Array(yield Ts.digest(e,n)):t.bytes(n)});return function(n){return r.apply(this,arguments)}}()}let In;In=Td?{md5:ui("md5"),sha1:ui("sha1"),sha224:ui("sha224"),sha256:ui("sha256"),sha384:ui("sha384"),sha512:ui("sha512"),ripemd:ui("ripemd160")}:{md5:function(){var t=L(function*(e){const r=function(n){const i=n.length,a=[1732584193,-271733879,-1732584194,271733878];let s;for(s=64;s<=n.length;s+=64)Hc(a,Y5(n.substring(s-64,s)));n=n.substring(s-64);const o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<n.length;s++)o[s>>2]|=n.charCodeAt(s)<<(s%4<<3);if(o[s>>2]|=128<<(s%4<<3),s>55)for(Hc(a,o),s=0;s<16;s++)o[s]=0;return o[14]=8*i,Hc(a,o),a}(C.uint8ArrayToString(e));return C.hexToUint8Array(function(n){for(let i=0;i<n.length;i++)n[i]=J5(n[i]);return n.join("")}(r))});return function(r){return t.apply(this,arguments)}}(),sha1:Id(oi,-1===navigator.userAgent.indexOf("Edge")&&"SHA-1"),sha224:Is(_d),sha256:Id(p5,"SHA-256"),sha384:Is(Sd,"SHA-384"),sha512:Is(ka,"SHA-512"),ripemd:Is(Md)};var Ui={md5:In.md5,sha1:In.sha1,sha224:In.sha224,sha256:In.sha256,sha384:In.sha384,sha512:In.sha512,ripemd:In.ripemd,digest:function(t,e){switch(t){case 1:return this.md5(e);case 2:return this.sha1(e);case 3:return this.ripemd(e);case 8:return this.sha256(e);case 9:return this.sha384(e);case 10:return this.sha512(e);case 11:return this.sha224(e);default:throw Error("Invalid hash function.")}},getHashByteLength:function(t){switch(t){case 1:return 16;case 2:case 3:return 20;case 8:return 32;case 9:return 48;case 10:return 64;case 11:return 28;default:throw Error("Invalid hash algorithm.")}}};class Ri{static encrypt(e,r,n){return new Ri(r,n).encrypt(e)}static decrypt(e,r,n){return new Ri(r,n).decrypt(e)}constructor(e,r,n){this.aes=n||new ya(e,r,!0,"CFB"),delete this.aes.padding}encrypt(e){return En(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return En(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}const Ud=C.getWebCrypto(),Us=C.getNodeCrypto(),li=Us?Us.getCiphers():[],Rs={idea:li.includes("idea-cfb")?"idea-cfb":void 0,tripledes:li.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:li.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:li.includes("bf-cfb")?"bf-cfb":void 0,aes128:li.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:li.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:li.includes("aes-256-cfb")?"aes-256-cfb":void 0};var Q5=Object.freeze({__proto__:null,encrypt:function(){var t=L(function*(e,r,n,i,a){if(C.getNodeCrypto()&&Rs[e])return function(d,y,g,k){const D=new Us.createCipheriv(Rs[d],y,k);return lt(g,T=>new Uint8Array(D.update(T)))}(e,r,n,i);if("aes"===e.substr(0,3))return function(d,y,g,k,D){if(C.getWebCrypto()&&24!==y.length&&!C.isStream(g)&&g.length>=3e3*D.minBytesForWebCrypto)return(Y=L(function*(J,j,U,ie){const X="AES-CBC",ee=yield Ud.importKey("raw",j,{name:X},!1,["encrypt"]),{blockSize:h}=dr[J],b=C.concatUint8Array([new Uint8Array(h),U]),A=new Uint8Array(yield Ud.encrypt({name:X,iv:ie},ee,b)).subarray(0,U.length);return function(v,m){for(let E=0;E<v.length;E++)v[E]=v[E]^m[E]}(A,U),A}),function(J,j,U,ie){return Y.apply(this,arguments)})(d,y,g,k);var Y;const T=new Ri(y,k);return lt(g,Y=>T.aes.AES_Encrypt_process(Y),()=>T.aes.AES_Encrypt_finish())}(e,r,n,i,a);const s=new dr[e](r),o=s.blockSize,u=i.slice();let c=new Uint8Array;const l=d=>{d&&(c=C.concatUint8Array([c,d]));const y=new Uint8Array(c.length);let g,k=0;for(;d?c.length>=o:c.length;){const D=s.encrypt(u);for(g=0;g<o;g++)u[g]=c[g]^D[g],y[k++]=u[g];c=c.subarray(o)}return y.subarray(0,k)};return lt(n,l,l)});return function(r,n,i,a,s){return t.apply(this,arguments)}}(),decrypt:function(){var t=L(function*(e,r,n,i){if(C.getNodeCrypto()&&Rs[e])return function(l,d,y,g){const k=new Us.createDecipheriv(Rs[l],d,g);return lt(y,D=>new Uint8Array(k.update(D)))}(e,r,n,i);if("aes"===e.substr(0,3))return function(l,d,y,g){if(C.isStream(y)){const k=new Ri(d,g);return lt(y,D=>k.aes.AES_Decrypt_process(D),()=>k.aes.AES_Decrypt_finish())}return Ri.decrypt(y,d,g)}(0,r,n,i);const a=new dr[e](r),s=a.blockSize;let o=i,u=new Uint8Array;const c=l=>{l&&(u=C.concatUint8Array([u,l]));const d=new Uint8Array(u.length);let y,g=0;for(;l?u.length>=s:u.length;){const k=a.encrypt(o);for(o=u,y=0;y<s;y++)d[g++]=o[y]^k[y];u=u.subarray(s)}return d.subarray(0,g)};return lt(n,c,c)});return function(r,n,i,a){return t.apply(this,arguments)}}()});class Ks{static encrypt(e,r,n){return new Ks(r,n).encrypt(e)}static decrypt(e,r,n){return new Ks(r,n).encrypt(e)}constructor(e,r,n){this.aes=n||new ya(e,void 0,!1,"CTR"),delete this.aes.padding,this.AES_CTR_set_options(r)}encrypt(e){return En(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return En(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}AES_CTR_set_options(e,r,n){let{asm:i}=this.aes.acquire_asm();if(void 0!==n){if(n<8||n>48)throw new on("illegal counter size");let a=Math.pow(2,n)-1;i.set_mask(0,0,a/4294967296|0,0|a)}else n=48,i.set_mask(0,0,65535,4294967295);if(void 0===e)throw Error("nonce is required");{let a=e.length;if(!a||a>16)throw new on("illegal nonce size");let s=new DataView(new ArrayBuffer(16));new Uint8Array(s.buffer).set(e),i.set_nonce(s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12))}if(void 0!==r){if(r<0||r>=Math.pow(2,n))throw new on("illegal counter value");i.set_counter(0,0,r/4294967296|0,0|r)}}}class Bs{static encrypt(e,r,n=!0,i){return new Bs(r,i,n).encrypt(e)}static decrypt(e,r,n=!0,i){return new Bs(r,i,n).decrypt(e)}constructor(e,r,n=!0,i){this.aes=i||new ya(e,r,n,"CBC")}encrypt(e){return En(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return En(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}const Rd=C.getWebCrypto(),X5=C.getNodeCrypto();function Kd(t,e){const r=t.length-16;for(let n=0;n<16;n++)t[n+r]^=e[n];return t}const Os=new Uint8Array(16);function e6(t){return Wc.apply(this,arguments)}function Wc(){return Wc=L(function*(t){const e=yield(i=L(function*(a){return C.getWebCrypto()&&24!==a.length?(a=yield Rd.importKey("raw",a,{name:"AES-CBC",length:8*a.length},!1,["encrypt"]),function(){var s=L(function*(o){const u=yield Rd.encrypt({name:"AES-CBC",iv:Os,length:128},a,o);return new Uint8Array(u).subarray(0,u.byteLength-16)});return function(o){return s.apply(this,arguments)}}()):C.getNodeCrypto()?function(){var s=L(function*(o){const u=new X5.createCipheriv("aes-"+8*a.length+"-cbc",a,Os).update(o);return new Uint8Array(u)});return function(o){return s.apply(this,arguments)}}():function(){var s=L(function*(o){return Bs.encrypt(o,a,!1,Os)});return function(o){return s.apply(this,arguments)}}()}),function(a){return i.apply(this,arguments)})(t),r=C.double(yield e(Os)),n=C.double(r);var i;return function(){var i=L(function*(a){return(yield e(function(s,o,u){if(s.length&&s.length%16==0)return Kd(s,o);const c=new Uint8Array(s.length+(16-s.length%16));return c.set(s),c[s.length]=128,Kd(c,u)}(a,r,n))).subarray(-16)});return function(a){return i.apply(this,arguments)}}()}),Wc.apply(this,arguments)}const Bd=C.getWebCrypto(),t6=C.getNodeCrypto(),r6=C.getNodeBuffer(),Od=new Uint8Array(16),$c=new Uint8Array(16);$c[15]=1;const Yc=new Uint8Array(16);function n6(t){return Jc.apply(this,arguments)}function Jc(){return Jc=L(function*(t){const e=yield e6(t);return function(r,n){return e(C.concatUint8Array([r,n]))}}),Jc.apply(this,arguments)}function i6(t){return Qc.apply(this,arguments)}function Qc(){return Qc=L(function*(t){return C.getWebCrypto()&&24!==t.length&&-1===navigator.userAgent.indexOf("Edge")?(t=yield Bd.importKey("raw",t,{name:"AES-CTR",length:8*t.length},!1,["encrypt"]),function(){var e=L(function*(r,n){const i=yield Bd.encrypt({name:"AES-CTR",counter:n,length:128},t,r);return new Uint8Array(i)});return function(r,n){return e.apply(this,arguments)}}()):C.getNodeCrypto()?function(){var e=L(function*(r,n){const i=new t6.createCipheriv("aes-"+8*t.length+"-ctr",t,n),a=r6.concat([i.update(r),i.final()]);return new Uint8Array(a)});return function(r,n){return e.apply(this,arguments)}}():function(){var e=L(function*(r,n){return Ks.encrypt(r,t,n)});return function(r,n){return e.apply(this,arguments)}}()}),Qc.apply(this,arguments)}function xa(t,e){return Xc.apply(this,arguments)}function Xc(){return Xc=L(function*(t,e){if("aes"!==t.substr(0,3))throw Error("EAX mode supports only AES cipher");const[r,n]=yield Promise.all([n6(e),i6(e)]);return{encrypt:(i=L(function*(a,s,o){const[u,c]=yield Promise.all([r(Od,s),r($c,o)]),l=yield n(a,u),d=yield r(Yc,l);for(let y=0;y<16;y++)d[y]^=c[y]^u[y];return C.concatUint8Array([l,d])}),function(s,o,u){return i.apply(this,arguments)}),decrypt:function(){var i=L(function*(a,s,o){if(a.length<16)throw Error("Invalid EAX ciphertext");const u=a.subarray(0,-16),c=a.subarray(-16),[l,d,y]=yield Promise.all([r(Od,s),r($c,o),r(Yc,u)]),g=y;for(let k=0;k<16;k++)g[k]^=d[k]^l[k];if(!C.equalsUint8Array(c,g))throw Error("Authentication tag mismatch");return yield n(u,l)});return function(s,o,u){return i.apply(this,arguments)}}()};var i}),Xc.apply(this,arguments)}function Fd(t){let e=0;for(let r=1;0==(t&r);r<<=1)e++;return e}function Zt(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r];return t}function Fs(t,e){return Zt(t.slice(),e)}Yc[15]=2,xa.getNonce=function(t,e){const r=t.slice();for(let n=0;n<e.length;n++)r[8+n]^=e[n];return r},xa.blockLength=16,xa.ivLength=16,xa.tagLength=16;const eu=new Uint8Array(16),a6=new Uint8Array([1]);function Ea(t,e){return tu.apply(this,arguments)}function tu(){return tu=L(function*(t,e){let r,n,i,a=0;function s(o,u,c,l){const d=u.length/16|0;!function(X,ee){const h=C.nbits(Math.max(X.length,ee.length)/16|0)-1;for(let b=a+1;b<=h;b++)i[b]=C.double(i[b-1]);a=h}(u,l);const y=C.concatUint8Array([eu.subarray(0,15-c.length),a6,c]),g=63&y[15];y[15]&=192;const k=r(y),D=C.concatUint8Array([k,Fs(k.subarray(0,8),k.subarray(1,9))]),T=C.shiftRight(D.subarray(0+(g>>3),17+(g>>3)),8-(7&g)).subarray(1),Y=new Uint8Array(16),J=new Uint8Array(u.length+16);let j,U=0;for(j=0;j<d;j++)Zt(T,i[Fd(j+1)]),J.set(Zt(o(Fs(T,u)),T),U),Zt(Y,o===r?u:J.subarray(U)),u=u.subarray(16),U+=16;if(u.length){Zt(T,i.x);const X=r(T);J.set(Fs(u,X),U);const ee=new Uint8Array(16);ee.set(o===r?u:J.subarray(U,-16),0),ee[u.length]=128,Zt(Y,ee),U+=u.length}const ie=Zt(r(Zt(Zt(Y,T),i.$)),function(X){if(!X.length)return eu;const ee=X.length/16|0,h=new Uint8Array(16),b=new Uint8Array(16);for(let A=0;A<ee;A++)Zt(h,i[Fd(A+1)]),Zt(b,r(Fs(h,X))),X=X.subarray(16);if(X.length){Zt(h,i.x);const A=new Uint8Array(16);A.set(X,0),A[X.length]=128,Zt(A,h),Zt(b,r(A))}return b}(l));return J.set(ie,U),J}return function(o,u){const c=new dr[o](u);r=c.encrypt.bind(c),n=c.decrypt.bind(c);const l=r(eu),d=C.double(l);i=[],i[0]=C.double(d),i.x=l,i.$=d}(t,e),{encrypt:(o=L(function*(u,c,l){return s(r,u,c,l)}),function(c,l,d){return o.apply(this,arguments)}),decrypt:function(){var o=L(function*(u,c,l){if(u.length<16)throw Error("Invalid OCB ciphertext");const d=u.subarray(-16);u=u.subarray(0,-16);const y=s(n,u,c,l);if(C.equalsUint8Array(d,y.subarray(-16)))return y.subarray(0,-16);throw Error("Authentication tag mismatch")});return function(c,l,d){return o.apply(this,arguments)}}()};var o}),tu.apply(this,arguments)}Ea.getNonce=function(t,e){const r=t.slice();for(let n=0;n<e.length;n++)r[7+n]^=e[n];return r},Ea.blockLength=16,Ea.ivLength=15,Ea.tagLength=16;class di{constructor(e,r,n,i=16,a){this.tagSize=i,this.gamma0=0,this.counter=1,this.aes=a||new ya(e,void 0,!1,"CTR");let{asm:s,heap:o}=this.aes.acquire_asm();if(s.gcm_init(),this.tagSize<4||this.tagSize>16)throw new on("illegal tagSize value");const u=r.length||0,c=new Uint8Array(16);12!==u?(this._gcm_mac_process(r),o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=0,o[11]=u>>>29,o[12]=u>>>21&255,o[13]=u>>>13&255,o[14]=u>>>5&255,o[15]=u<<3&255,s.mac(Ge.MAC.GCM,Ge.HEAP_DATA,16),s.get_iv(Ge.HEAP_DATA),s.set_iv(0,0,0,0),c.set(o.subarray(0,16))):(c.set(r),c[15]=1);const l=new DataView(c.buffer);if(this.gamma0=l.getUint32(12),s.set_nonce(l.getUint32(0),l.getUint32(4),l.getUint32(8),0),s.set_mask(0,0,0,4294967295),void 0!==n){if(n.length>68719476704)throw new on("illegal adata length");n.length?(this.adata=n,this._gcm_mac_process(n)):this.adata=void 0}else this.adata=void 0;if(this.counter<1||this.counter>4294967295)throw new RangeError("counter must be a positive 32-bit integer");s.set_counter(0,0,0,this.gamma0+this.counter|0)}static encrypt(e,r,n,i,a){return new di(r,n,i,a).encrypt(e)}static decrypt(e,r,n,i,a){return new di(r,n,i,a).decrypt(e)}encrypt(e){return this.AES_GCM_encrypt(e)}decrypt(e){return this.AES_GCM_decrypt(e)}AES_GCM_Encrypt_process(e){let r=0,n=e.length||0,{asm:i,heap:a}=this.aes.acquire_asm(),s=this.counter,o=this.aes.pos,u=this.aes.len,c=0,l=u+n&-16,d=0;if((s-1<<4)+u+n>68719476704)throw new RangeError("counter overflow");const y=new Uint8Array(l);for(;n>0;)d=si(a,o+u,e,r,n),u+=d,r+=d,n-=d,d=i.cipher(Ge.ENC.CTR,Ge.HEAP_DATA+o,u),d=i.mac(Ge.MAC.GCM,Ge.HEAP_DATA+o,d),d&&y.set(a.subarray(o,o+d),c),s+=d>>>4,c+=d,d<u?(o+=d,u-=d):(o=0,u=0);return this.counter=s,this.aes.pos=o,this.aes.len=u,y}AES_GCM_Encrypt_finish(){let{asm:e,heap:r}=this.aes.acquire_asm(),n=this.counter,i=this.tagSize,a=this.adata,s=this.aes.pos,o=this.aes.len;const u=new Uint8Array(o+i);e.cipher(Ge.ENC.CTR,Ge.HEAP_DATA+s,o+15&-16),o&&u.set(r.subarray(s,s+o));let c=o;for(;15&c;c++)r[s+c]=0;e.mac(Ge.MAC.GCM,Ge.HEAP_DATA+s,c);const l=void 0!==a?a.length:0,d=(n-1<<4)+o;return r[0]=0,r[1]=0,r[2]=0,r[3]=l>>>29,r[4]=l>>>21,r[5]=l>>>13&255,r[6]=l>>>5&255,r[7]=l<<3&255,r[8]=r[9]=r[10]=0,r[11]=d>>>29,r[12]=d>>>21&255,r[13]=d>>>13&255,r[14]=d>>>5&255,r[15]=d<<3&255,e.mac(Ge.MAC.GCM,Ge.HEAP_DATA,16),e.get_iv(Ge.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(Ge.ENC.CTR,Ge.HEAP_DATA,16),u.set(r.subarray(0,i),o),this.counter=1,this.aes.pos=0,this.aes.len=0,u}AES_GCM_Decrypt_process(e){let r=0,n=e.length||0,{asm:i,heap:a}=this.aes.acquire_asm(),s=this.counter,o=this.tagSize,u=this.aes.pos,c=this.aes.len,l=0,d=c+n>o?c+n-o&-16:0,y=c+n-d,g=0;if((s-1<<4)+c+n>68719476704)throw new RangeError("counter overflow");const k=new Uint8Array(d);for(;n>y;)g=si(a,u+c,e,r,n-y),c+=g,r+=g,n-=g,g=i.mac(Ge.MAC.GCM,Ge.HEAP_DATA+u,g),g=i.cipher(Ge.DEC.CTR,Ge.HEAP_DATA+u,g),g&&k.set(a.subarray(u,u+g),l),s+=g>>>4,l+=g,u=0,c=0;return n>0&&(c+=si(a,0,e,r,n)),this.counter=s,this.aes.pos=u,this.aes.len=c,k}AES_GCM_Decrypt_finish(){let{asm:e,heap:r}=this.aes.acquire_asm(),n=this.tagSize,i=this.adata,a=this.counter,s=this.aes.pos,o=this.aes.len,u=o-n;if(o<n)throw new qc("authentication tag not found");const c=new Uint8Array(u),l=new Uint8Array(r.subarray(s+u,s+o));let d=u;for(;15&d;d++)r[s+d]=0;e.mac(Ge.MAC.GCM,Ge.HEAP_DATA+s,d),e.cipher(Ge.DEC.CTR,Ge.HEAP_DATA+s,d),u&&c.set(r.subarray(s,s+u));const y=void 0!==i?i.length:0,g=(a-1<<4)+o-n;r[0]=0,r[1]=0,r[2]=0,r[3]=y>>>29,r[4]=y>>>21,r[5]=y>>>13&255,r[6]=y>>>5&255,r[7]=y<<3&255,r[8]=r[9]=r[10]=0,r[11]=g>>>29,r[12]=g>>>21&255,r[13]=g>>>13&255,r[14]=g>>>5&255,r[15]=g<<3&255,e.mac(Ge.MAC.GCM,Ge.HEAP_DATA,16),e.get_iv(Ge.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(Ge.ENC.CTR,Ge.HEAP_DATA,16);let k=0;for(let D=0;D<n;++D)k|=l[D]^r[D];if(k)throw new Nc("data integrity check failed");return this.counter=1,this.aes.pos=0,this.aes.len=0,c}AES_GCM_decrypt(e){const r=this.AES_GCM_Decrypt_process(e),n=this.AES_GCM_Decrypt_finish(),i=new Uint8Array(r.length+n.length);return r.length&&i.set(r),n.length&&i.set(n,r.length),i}AES_GCM_encrypt(e){const r=this.AES_GCM_Encrypt_process(e),n=this.AES_GCM_Encrypt_finish(),i=new Uint8Array(r.length+n.length);return r.length&&i.set(r),n.length&&i.set(n,r.length),i}_gcm_mac_process(e){let{asm:r,heap:n}=this.aes.acquire_asm(),i=0,a=e.length||0,s=0;for(;a>0;){for(s=si(n,0,e,i,a),i+=s,a-=s;15&s;)n[s++]=0;r.mac(Ge.MAC.GCM,Ge.HEAP_DATA,s)}}}const ru=C.getWebCrypto(),zd=C.getNodeCrypto(),Vd=C.getNodeBuffer();function Ki(t,e){return nu.apply(this,arguments)}function nu(){return nu=L(function*(t,e){if("aes"!==t.substr(0,3))throw Error("GCM mode supports only AES cipher");if(C.getWebCrypto()&&24!==e.length){const r=yield ru.importKey("raw",e,{name:"AES-GCM"},!1,["encrypt","decrypt"]);return{encrypt:(n=L(function*(i,a,s=new Uint8Array){if(!i.length||!s.length&&-1!==navigator.userAgent.indexOf("Edge"))return di.encrypt(i,e,a,s);const o=yield ru.encrypt({name:"AES-GCM",iv:a,additionalData:s,tagLength:128},r,i);return new Uint8Array(o)}),function(a,s){return n.apply(this,arguments)}),decrypt:function(){var n=L(function*(i,a,s=new Uint8Array){if(16===i.length||!s.length&&-1!==navigator.userAgent.indexOf("Edge"))return di.decrypt(i,e,a,s);const o=yield ru.decrypt({name:"AES-GCM",iv:a,additionalData:s,tagLength:128},r,i);return new Uint8Array(o)});return function(a,s){return n.apply(this,arguments)}}()}}var n,r;return C.getNodeCrypto()?{encrypt:(r=L(function*(n,i,a=new Uint8Array){const s=new zd.createCipheriv("aes-"+8*e.length+"-gcm",e,i);s.setAAD(a);const o=Vd.concat([s.update(n),s.final(),s.getAuthTag()]);return new Uint8Array(o)}),function(i,a){return r.apply(this,arguments)}),decrypt:function(){var r=L(function*(n,i,a=new Uint8Array){const s=new zd.createDecipheriv("aes-"+8*e.length+"-gcm",e,i);s.setAAD(a),s.setAuthTag(n.slice(n.length-16,n.length));const o=Vd.concat([s.update(n.slice(0,n.length-16)),s.final()]);return new Uint8Array(o)});return function(i,a){return r.apply(this,arguments)}}()}:{encrypt:function(){var r=L(function*(n,i,a){return di.encrypt(n,e,i,a)});return function(i,a,s){return r.apply(this,arguments)}}(),decrypt:function(){var r=L(function*(n,i,a){return di.decrypt(n,e,i,a)});return function(i,a,s){return r.apply(this,arguments)}}()}}),nu.apply(this,arguments)}Ki.getNonce=function(t,e){const r=t.slice();for(let n=0;n<e.length;n++)r[4+n]^=e[n];return r},Ki.blockLength=16,Ki.ivLength=12,Ki.tagLength=16;var s6={cfb:Q5,gcm:Ki,experimentalGCM:Ki,eax:xa,ocb:Ea},Ur=Cr(function(t){!function(e){var r=function(K){var Q,te=new Float64Array(16);if(K)for(Q=0;Q<K.length;Q++)te[Q]=K[Q];return te},n=function(){throw Error("no PRNG")},i=new Uint8Array(32);i[0]=9;var a=r(),s=r([1]),o=r([56129,1]),u=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),y=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function g(K,Q,te,f){return function(B,re,ne,ae,S){var w,x=0;for(w=0;w<32;w++)x|=B[re+w]^ne[ae+w];return(1&x-1>>>8)-1}(K,Q,te,f)}function k(K,Q){var te;for(te=0;te<16;te++)K[te]=0|Q[te]}function D(K){var Q,te,f=1;for(Q=0;Q<16;Q++)te=K[Q]+f+65535,f=Math.floor(te/65536),K[Q]=te-65536*f;K[0]+=f-1+37*(f-1)}function T(K,Q,te){for(var f,B=~(te-1),re=0;re<16;re++)K[re]^=f=B&(K[re]^Q[re]),Q[re]^=f}function Y(K,Q){var te,f,B,re=r(),ne=r();for(te=0;te<16;te++)ne[te]=Q[te];for(D(ne),D(ne),D(ne),f=0;f<2;f++){for(re[0]=ne[0]-65517,te=1;te<15;te++)re[te]=ne[te]-65535-(re[te-1]>>16&1),re[te-1]&=65535;re[15]=ne[15]-32767-(re[14]>>16&1),B=re[15]>>16&1,re[14]&=65535,T(ne,re,1-B)}for(te=0;te<16;te++)K[2*te]=255&ne[te],K[2*te+1]=ne[te]>>8}function J(K,Q){var te=new Uint8Array(32),f=new Uint8Array(32);return Y(te,K),Y(f,Q),g(te,0,f,0)}function j(K){var Q=new Uint8Array(32);return Y(Q,K),1&Q[0]}function U(K,Q){var te;for(te=0;te<16;te++)K[te]=Q[2*te]+(Q[2*te+1]<<8);K[15]&=32767}function ie(K,Q,te){for(var f=0;f<16;f++)K[f]=Q[f]+te[f]}function X(K,Q,te){for(var f=0;f<16;f++)K[f]=Q[f]-te[f]}function ee(K,Q,te){var f,B,re=0,ne=0,ae=0,S=0,w=0,x=0,I=0,V=0,O=0,W=0,be=0,ye=0,Ae=0,ge=0,z=0,G=0,q=0,N=0,Z=0,P=0,M=0,R=0,he=0,Me=0,Ze=0,Ie=0,Te=0,rt=0,je=0,Le=0,ft=0,De=te[0],Re=te[1],$e=te[2],Ce=te[3],ze=te[4],et=te[5],Fe=te[6],oe=te[7],ue=te[8],me=te[9],ke=te[10],Ue=te[11],Pe=te[12],Ee=te[13],Je=te[14],Ve=te[15];re+=(f=Q[0])*De,ne+=f*Re,ae+=f*$e,S+=f*Ce,w+=f*ze,x+=f*et,I+=f*Fe,V+=f*oe,O+=f*ue,W+=f*me,be+=f*ke,ye+=f*Ue,Ae+=f*Pe,ge+=f*Ee,z+=f*Je,G+=f*Ve,ne+=(f=Q[1])*De,ae+=f*Re,S+=f*$e,w+=f*Ce,x+=f*ze,I+=f*et,V+=f*Fe,O+=f*oe,W+=f*ue,be+=f*me,ye+=f*ke,Ae+=f*Ue,ge+=f*Pe,z+=f*Ee,G+=f*Je,q+=f*Ve,ae+=(f=Q[2])*De,S+=f*Re,w+=f*$e,x+=f*Ce,I+=f*ze,V+=f*et,O+=f*Fe,W+=f*oe,be+=f*ue,ye+=f*me,Ae+=f*ke,ge+=f*Ue,z+=f*Pe,G+=f*Ee,q+=f*Je,N+=f*Ve,S+=(f=Q[3])*De,w+=f*Re,x+=f*$e,I+=f*Ce,V+=f*ze,O+=f*et,W+=f*Fe,be+=f*oe,ye+=f*ue,Ae+=f*me,ge+=f*ke,z+=f*Ue,G+=f*Pe,q+=f*Ee,N+=f*Je,Z+=f*Ve,w+=(f=Q[4])*De,x+=f*Re,I+=f*$e,V+=f*Ce,O+=f*ze,W+=f*et,be+=f*Fe,ye+=f*oe,Ae+=f*ue,ge+=f*me,z+=f*ke,G+=f*Ue,q+=f*Pe,N+=f*Ee,Z+=f*Je,P+=f*Ve,x+=(f=Q[5])*De,I+=f*Re,V+=f*$e,O+=f*Ce,W+=f*ze,be+=f*et,ye+=f*Fe,Ae+=f*oe,ge+=f*ue,z+=f*me,G+=f*ke,q+=f*Ue,N+=f*Pe,Z+=f*Ee,P+=f*Je,M+=f*Ve,I+=(f=Q[6])*De,V+=f*Re,O+=f*$e,W+=f*Ce,be+=f*ze,ye+=f*et,Ae+=f*Fe,ge+=f*oe,z+=f*ue,G+=f*me,q+=f*ke,N+=f*Ue,Z+=f*Pe,P+=f*Ee,M+=f*Je,R+=f*Ve,V+=(f=Q[7])*De,O+=f*Re,W+=f*$e,be+=f*Ce,ye+=f*ze,Ae+=f*et,ge+=f*Fe,z+=f*oe,G+=f*ue,q+=f*me,N+=f*ke,Z+=f*Ue,P+=f*Pe,M+=f*Ee,R+=f*Je,he+=f*Ve,O+=(f=Q[8])*De,W+=f*Re,be+=f*$e,ye+=f*Ce,Ae+=f*ze,ge+=f*et,z+=f*Fe,G+=f*oe,q+=f*ue,N+=f*me,Z+=f*ke,P+=f*Ue,M+=f*Pe,R+=f*Ee,he+=f*Je,Me+=f*Ve,W+=(f=Q[9])*De,be+=f*Re,ye+=f*$e,Ae+=f*Ce,ge+=f*ze,z+=f*et,G+=f*Fe,q+=f*oe,N+=f*ue,Z+=f*me,P+=f*ke,M+=f*Ue,R+=f*Pe,he+=f*Ee,Me+=f*Je,Ze+=f*Ve,be+=(f=Q[10])*De,ye+=f*Re,Ae+=f*$e,ge+=f*Ce,z+=f*ze,G+=f*et,q+=f*Fe,N+=f*oe,Z+=f*ue,P+=f*me,M+=f*ke,R+=f*Ue,he+=f*Pe,Me+=f*Ee,Ze+=f*Je,Ie+=f*Ve,ye+=(f=Q[11])*De,Ae+=f*Re,ge+=f*$e,z+=f*Ce,G+=f*ze,q+=f*et,N+=f*Fe,Z+=f*oe,P+=f*ue,M+=f*me,R+=f*ke,he+=f*Ue,Me+=f*Pe,Ze+=f*Ee,Ie+=f*Je,Te+=f*Ve,Ae+=(f=Q[12])*De,ge+=f*Re,z+=f*$e,G+=f*Ce,q+=f*ze,N+=f*et,Z+=f*Fe,P+=f*oe,M+=f*ue,R+=f*me,he+=f*ke,Me+=f*Ue,Ze+=f*Pe,Ie+=f*Ee,Te+=f*Je,rt+=f*Ve,ge+=(f=Q[13])*De,z+=f*Re,G+=f*$e,q+=f*Ce,N+=f*ze,Z+=f*et,P+=f*Fe,M+=f*oe,R+=f*ue,he+=f*me,Me+=f*ke,Ze+=f*Ue,Ie+=f*Pe,Te+=f*Ee,rt+=f*Je,je+=f*Ve,z+=(f=Q[14])*De,G+=f*Re,q+=f*$e,N+=f*Ce,Z+=f*ze,P+=f*et,M+=f*Fe,R+=f*oe,he+=f*ue,Me+=f*me,Ze+=f*ke,Ie+=f*Ue,Te+=f*Pe,rt+=f*Ee,je+=f*Je,Le+=f*Ve,G+=(f=Q[15])*De,ne+=38*(N+=f*$e),ae+=38*(Z+=f*Ce),S+=38*(P+=f*ze),w+=38*(M+=f*et),x+=38*(R+=f*Fe),I+=38*(he+=f*oe),V+=38*(Me+=f*ue),O+=38*(Ze+=f*me),W+=38*(Ie+=f*ke),be+=38*(Te+=f*Ue),ye+=38*(rt+=f*Pe),Ae+=38*(je+=f*Ee),ge+=38*(Le+=f*Je),z+=38*(ft+=f*Ve),re=(f=(re+=38*(q+=f*Re))+(B=1)+65535)-65536*(B=Math.floor(f/65536)),ne=(f=ne+B+65535)-65536*(B=Math.floor(f/65536)),ae=(f=ae+B+65535)-65536*(B=Math.floor(f/65536)),S=(f=S+B+65535)-65536*(B=Math.floor(f/65536)),w=(f=w+B+65535)-65536*(B=Math.floor(f/65536)),x=(f=x+B+65535)-65536*(B=Math.floor(f/65536)),I=(f=I+B+65535)-65536*(B=Math.floor(f/65536)),V=(f=V+B+65535)-65536*(B=Math.floor(f/65536)),O=(f=O+B+65535)-65536*(B=Math.floor(f/65536)),W=(f=W+B+65535)-65536*(B=Math.floor(f/65536)),be=(f=be+B+65535)-65536*(B=Math.floor(f/65536)),ye=(f=ye+B+65535)-65536*(B=Math.floor(f/65536)),Ae=(f=Ae+B+65535)-65536*(B=Math.floor(f/65536)),ge=(f=ge+B+65535)-65536*(B=Math.floor(f/65536)),z=(f=z+B+65535)-65536*(B=Math.floor(f/65536)),G=(f=G+B+65535)-65536*(B=Math.floor(f/65536)),re=(f=(re+=B-1+37*(B-1))+(B=1)+65535)-65536*(B=Math.floor(f/65536)),ne=(f=ne+B+65535)-65536*(B=Math.floor(f/65536)),ae=(f=ae+B+65535)-65536*(B=Math.floor(f/65536)),S=(f=S+B+65535)-65536*(B=Math.floor(f/65536)),w=(f=w+B+65535)-65536*(B=Math.floor(f/65536)),x=(f=x+B+65535)-65536*(B=Math.floor(f/65536)),I=(f=I+B+65535)-65536*(B=Math.floor(f/65536)),V=(f=V+B+65535)-65536*(B=Math.floor(f/65536)),O=(f=O+B+65535)-65536*(B=Math.floor(f/65536)),W=(f=W+B+65535)-65536*(B=Math.floor(f/65536)),be=(f=be+B+65535)-65536*(B=Math.floor(f/65536)),ye=(f=ye+B+65535)-65536*(B=Math.floor(f/65536)),Ae=(f=Ae+B+65535)-65536*(B=Math.floor(f/65536)),ge=(f=ge+B+65535)-65536*(B=Math.floor(f/65536)),z=(f=z+B+65535)-65536*(B=Math.floor(f/65536)),G=(f=G+B+65535)-65536*(B=Math.floor(f/65536)),K[0]=re+=B-1+37*(B-1),K[1]=ne,K[2]=ae,K[3]=S,K[4]=w,K[5]=x,K[6]=I,K[7]=V,K[8]=O,K[9]=W,K[10]=be,K[11]=ye,K[12]=Ae,K[13]=ge,K[14]=z,K[15]=G}function h(K,Q){ee(K,Q,Q)}function b(K,Q){var te,f=r();for(te=0;te<16;te++)f[te]=Q[te];for(te=253;te>=0;te--)h(f,f),2!==te&&4!==te&&ee(f,f,Q);for(te=0;te<16;te++)K[te]=f[te]}function A(K,Q,te){var f,B,re=new Uint8Array(32),ne=new Float64Array(80),ae=r(),S=r(),w=r(),x=r(),I=r(),V=r();for(B=0;B<31;B++)re[B]=Q[B];for(re[31]=127&Q[31]|64,re[0]&=248,U(ne,te),B=0;B<16;B++)S[B]=ne[B],x[B]=ae[B]=w[B]=0;for(ae[0]=x[0]=1,B=254;B>=0;--B)T(ae,S,f=re[B>>>3]>>>(7&B)&1),T(w,x,f),ie(I,ae,w),X(ae,ae,w),ie(w,S,x),X(S,S,x),h(x,I),h(V,ae),ee(ae,w,ae),ee(w,S,I),ie(I,ae,w),X(ae,ae,w),h(S,ae),X(w,x,V),ee(ae,w,o),ie(ae,ae,x),ee(w,w,ae),ee(ae,x,V),ee(x,S,ne),h(S,I),T(ae,S,f),T(w,x,f);for(B=0;B<16;B++)ne[B+16]=ae[B],ne[B+32]=w[B],ne[B+48]=S[B],ne[B+64]=x[B];var O=ne.subarray(32),W=ne.subarray(16);return b(O,O),ee(W,W,O),Y(K,W),0}function v(K,Q){return A(K,Q,i)}function m(K,Q){var te=r(),f=r(),B=r(),re=r(),ne=r(),ae=r(),S=r(),w=r(),x=r();X(te,K[1],K[0]),X(x,Q[1],Q[0]),ee(te,te,x),ie(f,K[0],K[1]),ie(x,Q[0],Q[1]),ee(f,f,x),ee(B,K[3],Q[3]),ee(B,B,c),ee(re,K[2],Q[2]),ie(re,re,re),X(ne,f,te),X(ae,re,B),ie(S,re,B),ie(w,f,te),ee(K[0],ne,ae),ee(K[1],w,S),ee(K[2],S,ae),ee(K[3],ne,w)}function E(K,Q,te){var f;for(f=0;f<4;f++)T(K[f],Q[f],te)}function $(K,Q){var te=r(),f=r(),B=r();b(B,Q[2]),ee(te,Q[0],B),ee(f,Q[1],B),Y(K,f),K[31]^=j(te)<<7}function H(K,Q,te){var f,B;for(k(K[0],a),k(K[1],s),k(K[2],s),k(K[3],a),B=255;B>=0;--B)E(K,Q,f=te[B/8|0]>>(7&B)&1),m(Q,K),m(K,K),E(K,Q,f)}function ce(K,Q){var te=[r(),r(),r(),r()];k(te[0],l),k(te[1],d),k(te[2],s),ee(te[3],l,d),H(K,te,Q)}function F(K,Q,te){var f,B,re=[r(),r(),r(),r()];for(te||n(Q,32),(f=e.hash(Q.subarray(0,32)))[0]&=248,f[31]&=127,f[31]|=64,ce(re,f),$(K,re),B=0;B<32;B++)Q[B+32]=K[B];return 0}var K,se=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function le(K,Q){var te,f,B,re;for(f=63;f>=32;--f){for(te=0,B=f-32,re=f-12;B<re;++B)Q[B]+=te-16*Q[f]*se[B-(f-32)],te=Math.floor((Q[B]+128)/256),Q[B]-=256*te;Q[B]+=te,Q[f]=0}for(te=0,B=0;B<32;B++)Q[B]+=te-(Q[31]>>4)*se[B],te=Q[B]>>8,Q[B]&=255;for(B=0;B<32;B++)Q[B]-=te*se[B];for(f=0;f<32;f++)Q[f+1]+=Q[f]>>8,K[f]=255&Q[f]}function fe(K){var Q,te=new Float64Array(64);for(Q=0;Q<64;Q++)te[Q]=K[Q];for(Q=0;Q<64;Q++)K[Q]=0;le(K,te)}function we(){for(var K=0;K<arguments.length;K++)if(!(arguments[K]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ve(K){for(var Q=0;Q<K.length;Q++)K[Q]=0}e.scalarMult=function(K,Q){if(we(K,Q),32!==K.length)throw Error("bad n size");if(32!==Q.length)throw Error("bad p size");var te=new Uint8Array(32);return A(te,K,Q),te},e.box={},e.box.keyPair=function(){var K,Q,te=new Uint8Array(32),f=new Uint8Array(32);return K=te,n(Q=f,32),v(K,Q),{publicKey:te,secretKey:f}},e.box.keyPair.fromSecretKey=function(K){if(we(K),32!==K.length)throw Error("bad secret key size");var Q=new Uint8Array(32);return v(Q,K),{publicKey:Q,secretKey:new Uint8Array(K)}},e.sign=function(K,Q){if(we(K,Q),64!==Q.length)throw Error("bad secret key size");var te=new Uint8Array(64+K.length);return function(f,B,re,ne){var ae,S,w,x,I,V=new Float64Array(64),O=[r(),r(),r(),r()];(ae=e.hash(ne.subarray(0,32)))[0]&=248,ae[31]&=127,ae[31]|=64;var W=re+64;for(x=0;x<re;x++)f[64+x]=B[x];for(x=0;x<32;x++)f[32+x]=ae[32+x];for(fe(w=e.hash(f.subarray(32,W))),ce(O,w),$(f,O),x=32;x<64;x++)f[x]=ne[x];for(fe(S=e.hash(f.subarray(0,W))),x=0;x<64;x++)V[x]=0;for(x=0;x<32;x++)V[x]=w[x];for(x=0;x<32;x++)for(I=0;I<32;I++)V[x+I]+=S[x]*ae[I];le(f.subarray(32),V)}(te,K,K.length,Q),te},e.sign.detached=function(K,Q){for(var te=e.sign(K,Q),f=new Uint8Array(64),B=0;B<f.length;B++)f[B]=te[B];return f},e.sign.detached.verify=function(K,Q,te){if(we(K,Q,te),64!==Q.length)throw Error("bad signature size");if(32!==te.length)throw Error("bad public key size");var f,B=new Uint8Array(64+K.length),re=new Uint8Array(64+K.length);for(f=0;f<64;f++)B[f]=Q[f];for(f=0;f<K.length;f++)B[f+64]=K[f];return function(ne,ae,S,w){var x,I,V=new Uint8Array(32),O=[r(),r(),r(),r()],W=[r(),r(),r(),r()];if(S<64||function(K,Q){var te=r(),f=r(),B=r(),re=r(),ne=r(),ae=r(),S=r();return k(K[2],s),U(K[1],Q),h(B,K[1]),ee(re,B,u),X(B,B,K[2]),ie(re,K[2],re),h(ne,re),h(ae,ne),ee(S,ae,ne),ee(te,S,B),ee(te,te,re),function(w,x){var I,V=r();for(I=0;I<16;I++)V[I]=x[I];for(I=250;I>=0;I--)h(V,V),1!==I&&ee(V,V,x);for(I=0;I<16;I++)w[I]=V[I]}(te,te),ee(te,te,B),ee(te,te,re),ee(te,te,re),ee(K[0],te,re),h(f,K[0]),ee(f,f,re),J(f,B)&&ee(K[0],K[0],y),h(f,K[0]),ee(f,f,re),J(f,B)?-1:(j(K[0])===Q[31]>>7&&X(K[0],a,K[0]),ee(K[3],K[0],K[1]),0)}(W,w))return-1;for(x=0;x<S;x++)ne[x]=ae[x];for(x=0;x<32;x++)ne[x+32]=w[x];if(fe(I=e.hash(ne.subarray(0,S))),H(O,W,I),ce(W,ae.subarray(32)),m(O,W),$(V,O),S-=64,g(ae,0,V,0)){for(x=0;x<S;x++)ne[x]=0;return-1}for(x=0;x<S;x++)ne[x]=ae[x+64];return S}(re,B,B.length,te)>=0},e.sign.keyPair=function(){var K=new Uint8Array(32),Q=new Uint8Array(64);return F(K,Q),{publicKey:K,secretKey:Q}},e.sign.keyPair.fromSecretKey=function(K){if(we(K),64!==K.length)throw Error("bad secret key size");for(var Q=new Uint8Array(32),te=0;te<Q.length;te++)Q[te]=K[32+te];return{publicKey:Q,secretKey:new Uint8Array(K)}},e.sign.keyPair.fromSeed=function(K){if(we(K),32!==K.length)throw Error("bad seed size");for(var Q=new Uint8Array(32),te=new Uint8Array(64),f=0;f<32;f++)te[f]=K[f];return F(Q,te,!0),{publicKey:Q,secretKey:te}},e.setPRNG=function(K){n=K},(K="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&K.getRandomValues?e.setPRNG(function(Q,te){var f,B=new Uint8Array(te);for(f=0;f<te;f+=65536)K.getRandomValues(B.subarray(f,f+Math.min(te-f,65536)));for(f=0;f<te;f++)Q[f]=B[f];ve(B)}):(K=void 0)&&K.randomBytes&&e.setPRNG(function(Q,te){var f,B=K.randomBytes(te);for(f=0;f<te;f++)Q[f]=B[f];ve(B)})}(t.exports?t.exports:self.nacl=self.nacl||{})});const qd=C.getNodeCrypto();function Rr(t){return iu.apply(this,arguments)}function iu(){return iu=L(function*(t){const e=new Uint8Array(t);if("undefined"!=typeof crypto&&crypto.getRandomValues)crypto.getRandomValues(e);else if(qd){const r=qd.randomBytes(e.length);e.set(r)}else{if(!su.buffer)throw Error("No secure random number generator available.");yield su.get(e)}return e}),iu.apply(this,arguments)}function dn(t,e){return au.apply(this,arguments)}function au(){return au=L(function*(t,e){const r=yield C.getBigInteger();if(e.lt(t))throw Error("Illegal parameter value: max <= min");const n=e.sub(t),i=n.byteLength();return new r(yield Rr(i+8)).mod(n).add(t)}),au.apply(this,arguments)}const su=new class{constructor(){this.buffer=null,this.size=null,this.callback=null}init(t,e){this.buffer=new Uint8Array(t),this.size=0,this.callback=e}set(t){if(!this.buffer)throw Error("RandomBuffer is not initialized");if(!(t instanceof Uint8Array))throw Error("Invalid type: buf not an Uint8Array");const e=this.buffer.length-this.size;t.length>e&&(t=t.subarray(0,e)),this.buffer.set(t,this.size),this.size+=t.length}get(t){var e=this;return L(function*(){if(!e.buffer)throw Error("RandomBuffer is not initialized");if(!(t instanceof Uint8Array))throw Error("Invalid type: buf not an Uint8Array");if(e.size<t.length){if(!e.callback)throw Error("Random number buffer depleted");return yield e.callback(),e.get(t)}for(let r=0;r<t.length;r++)t[r]=e.buffer[--e.size],e.buffer[e.size]=0})()}};var o6=Object.freeze({__proto__:null,getRandomBytes:Rr,getRandomBigInteger:dn,randomBuffer:su});function Nd(t,e,r){return ou.apply(this,arguments)}function ou(){return ou=L(function*(t,e,r){const n=yield C.getBigInteger(),i=new n(1),a=i.leftShift(new n(t-1)),s=new n(30),o=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2],u=yield dn(a,a.leftShift(i));let c=u.mod(s).toNumber();do{u.iadd(new n(o[c])),c=(c+o[c])%o.length,u.bitLength()>t&&(u.imod(a.leftShift(i)).iadd(a),c=u.mod(s).toNumber())}while(!(yield jd(u,e,r)));return u}),ou.apply(this,arguments)}function jd(t,e,r){return cu.apply(this,arguments)}function cu(){return cu=L(function*(t,e,r){return!(e&&!t.dec().gcd(e).isOne()||!(yield(n=L(function*(i){const a=yield C.getBigInteger();return c6.every(s=>0!==i.mod(new a(s)))}),function(i){return n.apply(this,arguments)})(t))||!(yield function(){var n=L(function*(i,a){const s=yield C.getBigInteger();return(a=a||new s(2)).modExp(i.dec(),i).isOne()});return function(i,a){return n.apply(this,arguments)}}()(t))||!(yield function(){var n=L(function*(i,a,s){const o=yield C.getBigInteger(),u=i.bitLength();a||(a=Math.max(1,u/48|0));const c=i.dec();let l=0;for(;!c.getBit(l);)l++;const d=i.rightShift(new o(l));for(;a>0;a--){let y,g=(s?s():yield dn(new o(2),c)).modExp(d,i);if(!g.isOne()&&!g.equal(c)){for(y=1;y<l;y++){if(g=g.mul(g).mod(i),g.isOne())return!1;if(g.equal(c))break}if(y===l)return!1}}return!0});return function(i,a,s){return n.apply(this,arguments)}}()(t,r)));var n}),cu.apply(this,arguments)}const c6=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999],Kr=[];function uu(t,e){return lu.apply(this,arguments)}function lu(){return lu=L(function*(t,e){const r=t.length;if(r>e-11)throw Error("Message too long");const n=yield(a=L(function*(s){const o=new Uint8Array(s);let u=0;for(;u<s;){const c=yield Rr(s-u);for(let l=0;l<c.length;l++)0!==c[l]&&(o[u++]=c[l])}return o}),function(s){return a.apply(this,arguments)})(e-r-3),i=new Uint8Array(e);var a;return i[1]=2,i.set(n,2),i.set(t,e-r),i}),lu.apply(this,arguments)}function du(t){let e=2;for(;0!==t[e]&&e<t.length;)e++;const r=e-2,n=t[e++];if(0===t[0]&&2===t[1]&&r>=8&&0===n)return t.subarray(e);throw Error("Decryption error")}function hu(t,e,r){return fu.apply(this,arguments)}function fu(){return fu=L(function*(t,e,r){let n;if(e.length!==Ui.getHashByteLength(t))throw Error("Invalid hash length");const i=new Uint8Array(Kr[t].length);for(n=0;n<Kr[t].length;n++)i[n]=Kr[t][n];const a=i.length+e.length;if(r<a+11)throw Error("Intended encoded message length too short");const s=new Uint8Array(r-a-3).fill(255),o=new Uint8Array(r);return o[1]=1,o.set(s,2),o.set(i,r-a),o.set(e,r-e.length),o}),fu.apply(this,arguments)}Kr[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],Kr[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],Kr[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],Kr[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],Kr[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],Kr[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],Kr[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];var u6=Object.freeze({__proto__:null,emeEncode:uu,emeDecode:du,emsaEncode:hu});const Bi=C.getWebCrypto(),Ht=C.getNodeCrypto(),Oi=C.detectNode()?(void 0).define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}):void 0,zs=C.detectNode()?(void 0).define("RSAPubliceKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}):void 0;var l6=Object.freeze({__proto__:null,sign:function(){var t=L(function*(e,r,n,i,a,s,o,u,c){if(r&&!C.isStream(r))if(C.getWebCrypto())try{return yield(l=L(function*(d,y,g,k,D,T,Y,J){const j=yield(X=L(function*(ee,h,b,A,v,m){const E=yield C.getBigInteger(),$=new E(A),H=new E(v),ce=new E(b);let F=ce.mod(H.dec()),se=ce.mod($.dec());return se=se.toUint8Array(),F=F.toUint8Array(),{kty:"RSA",n:er(ee,!0),e:er(h,!0),d:er(b,!0),p:er(v,!0),q:er(A,!0),dp:er(F,!0),dq:er(se,!0),qi:er(m,!0),ext:!0}}),function(ee,h,b,A,v,m){return X.apply(this,arguments)})(g,k,D,T,Y,J),U={name:"RSASSA-PKCS1-v1_5",hash:{name:d}},ie=yield Bi.importKey("jwk",j,U,!1,["sign"]);var X;return new Uint8Array(yield Bi.sign({name:"RSASSA-PKCS1-v1_5",hash:d},ie,y))}),function(d,y,g,k,D,T,Y,J){return l.apply(this,arguments)})(_.read(_.webHash,e),r,n,i,a,s,o,u)}catch(l){C.printDebugError(l)}else if(C.getNodeCrypto())return function(){var l=L(function*(d,y,g,k,D,T,Y,J){const{default:j}=yield Promise.resolve().then(function(){return ns}),U=new j(T),ie=new j(Y),X=new j(D),ee=X.mod(ie.subn(1)),h=X.mod(U.subn(1)),b=Ht.createSign(_.read(_.hash,d));b.write(y),b.end();const A={version:0,modulus:new j(g),publicExponent:new j(k),privateExponent:new j(D),prime1:new j(Y),prime2:new j(T),exponent1:ee,exponent2:h,coefficient:new j(J)};if(void 0!==Ht.createPrivateKey){const m=Oi.encode(A,"der");return new Uint8Array(b.sign({key:m,format:"der",type:"pkcs1"}))}const v=Oi.encode(A,"pem",{label:"RSA PRIVATE KEY"});return new Uint8Array(b.sign(v))});return function(d,y,g,k,D,T,Y,J){return l.apply(this,arguments)}}()(e,r,n,i,a,s,o,u);var l;return function(){var l=L(function*(d,y,g,k){const D=yield C.getBigInteger();y=new D(y);const T=new D(yield hu(d,k,y.byteLength()));if(g=new D(g),T.gte(y))throw Error("Message size cannot exceed modulus size");return T.modExp(g,y).toUint8Array("be",y.byteLength())});return function(d,y,g,k){return l.apply(this,arguments)}}()(e,n,a,c)});return function(r,n,i,a,s,o,u,c,l){return t.apply(this,arguments)}}(),verify:function(){var t=L(function*(e,r,n,i,a,s){if(r&&!C.isStream(r))if(C.getWebCrypto())try{return yield(o=L(function*(u,c,l,d,y){const g=(T=y,{kty:"RSA",n:er(d,!0),e:er(T,!0),ext:!0}),k=yield Bi.importKey("jwk",g,{name:"RSASSA-PKCS1-v1_5",hash:{name:u}},!1,["verify"]);var T;return Bi.verify({name:"RSASSA-PKCS1-v1_5",hash:u},k,l,c)}),function(u,c,l,d,y){return o.apply(this,arguments)})(_.read(_.webHash,e),r,n,i,a)}catch(o){C.printDebugError(o)}else if(C.getNodeCrypto())return function(){var o=L(function*(u,c,l,d,y){const{default:g}=yield Promise.resolve().then(function(){return ns}),k=Ht.createVerify(_.read(_.hash,u));k.write(c),k.end();const D={modulus:new g(d),publicExponent:new g(y)};let T;T=void 0!==Ht.createPrivateKey?{key:zs.encode(D,"der"),format:"der",type:"pkcs1"}:zs.encode(D,"pem",{label:"RSA PUBLIC KEY"});try{return yield k.verify(T,l)}catch(Y){return!1}});return function(u,c,l,d,y){return o.apply(this,arguments)}}()(e,r,n,i,a);var o;return function(){var o=L(function*(u,c,l,d,y){const g=yield C.getBigInteger();if(l=new g(l),c=new g(c),d=new g(d),c.gte(l))throw Error("Signature size cannot exceed modulus size");const k=c.modExp(d,l).toUint8Array("be",l.byteLength()),D=yield hu(u,y,l.byteLength());return C.equalsUint8Array(k,D)});return function(u,c,l,d,y){return o.apply(this,arguments)}}()(e,n,i,a,s)});return function(r,n,i,a,s,o){return t.apply(this,arguments)}}(),encrypt:function(){var t=L(function*(e,r,n){return C.getNodeCrypto()?(i=L(function*(a,s,o){const{default:u}=yield Promise.resolve().then(function(){return ns}),c={modulus:new u(s),publicExponent:new u(o)};let l;return l=void 0!==Ht.createPrivateKey?{key:zs.encode(c,"der"),format:"der",type:"pkcs1",padding:Ht.constants.RSA_PKCS1_PADDING}:{key:zs.encode(c,"pem",{label:"RSA PUBLIC KEY"}),padding:Ht.constants.RSA_PKCS1_PADDING},new Uint8Array(Ht.publicEncrypt(l,a))}),function(a,s,o){return i.apply(this,arguments)})(e,r,n):function(){var i=L(function*(a,s,o){const u=yield C.getBigInteger();if(s=new u(s),a=new u(yield uu(a,s.byteLength())),o=new u(o),a.gte(s))throw Error("Message size cannot exceed modulus size");return a.modExp(o,s).toUint8Array("be",s.byteLength())});return function(a,s,o){return i.apply(this,arguments)}}()(e,r,n);var i});return function(r,n,i){return t.apply(this,arguments)}}(),decrypt:function(){var t=L(function*(e,r,n,i,a,s,o){return C.getNodeCrypto()?(u=L(function*(c,l,d,y,g,k,D){const{default:T}=yield Promise.resolve().then(function(){return ns}),Y=new T(g),J=new T(k),j=new T(y),U=j.mod(J.subn(1)),ie=j.mod(Y.subn(1)),X={version:0,modulus:new T(l),publicExponent:new T(d),privateExponent:new T(y),prime1:new T(k),prime2:new T(g),exponent1:U,exponent2:ie,coefficient:new T(D)};let ee;ee=void 0!==Ht.createPrivateKey?{key:Oi.encode(X,"der"),format:"der",type:"pkcs1",padding:Ht.constants.RSA_PKCS1_PADDING}:{key:Oi.encode(X,"pem",{label:"RSA PRIVATE KEY"}),padding:Ht.constants.RSA_PKCS1_PADDING};try{return new Uint8Array(Ht.privateDecrypt(ee,c))}catch(h){throw Error("Decryption error")}}),function(c,l,d,y,g,k,D){return u.apply(this,arguments)})(e,r,n,i,a,s,o):function(){var u=L(function*(c,l,d,y,g,k,D){const T=yield C.getBigInteger();if(c=new T(c),l=new T(l),d=new T(d),y=new T(y),g=new T(g),k=new T(k),D=new T(D),c.gte(l))throw Error("Data too large.");const Y=y.mod(k.dec()),J=y.mod(g.dec()),j=(yield dn(new T(2),l)).mod(l),U=j.modInv(l).modExp(d,l),ie=(c=c.mul(U).mod(l)).modExp(J,g),X=c.modExp(Y,k);let ee=D.mul(X.sub(ie)).mod(k).mul(g).add(ie);return ee=ee.mul(j).mod(l),du(ee.toUint8Array("be",l.byteLength()))});return function(c,l,d,y,g,k,D){return u.apply(this,arguments)}}()(e,r,n,i,a,s,o);var u});return function(r,n,i,a,s,o,u){return t.apply(this,arguments)}}(),generate:function(){var t=L(function*(e,r){if(r=new(yield C.getBigInteger())(r),C.getWebCrypto()){const o={name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:r.toUint8Array(),hash:{name:"SHA-1"}},u=yield Bi.generateKey(o,!0,["sign","verify"]),c=yield Bi.exportKey("jwk",u.privateKey);return{n:an(c.n),e:r.toUint8Array(),d:an(c.d),p:an(c.q),q:an(c.p),u:an(c.qi)}}if(C.getNodeCrypto()&&Ht.generateKeyPair&&Oi){const o={modulusLength:e,publicExponent:r.toNumber(),publicKeyEncoding:{type:"pkcs1",format:"der"},privateKeyEncoding:{type:"pkcs1",format:"der"}},u=yield new Promise((c,l)=>Ht.generateKeyPair("rsa",o,(d,y,g)=>{d?l(d):c(Oi.decode(g,"der"))}));return{n:u.modulus.toArrayLike(Uint8Array),e:u.publicExponent.toArrayLike(Uint8Array),d:u.privateExponent.toArrayLike(Uint8Array),p:u.prime2.toArrayLike(Uint8Array),q:u.prime1.toArrayLike(Uint8Array),u:u.coefficient.toArrayLike(Uint8Array)}}let n,i,a;do{i=yield Nd(e-(e>>1),r,40),n=yield Nd(e>>1,r,40),a=n.mul(i)}while(a.bitLength()!==e);const s=n.dec().imul(i.dec());return i.lt(n)&&([n,i]=[i,n]),{n:a.toUint8Array(),e:r.toUint8Array(),d:r.modInv(s).toUint8Array(),p:n.toUint8Array(),q:i.toUint8Array(),u:n.modInv(i).toUint8Array()}});return function(r,n){return t.apply(this,arguments)}}(),validateParams:function(){var t=L(function*(e,r,n,i,a,s){const o=yield C.getBigInteger();if(e=new o(e),i=new o(i),a=new o(a),!i.mul(a).equal(e))return!1;const u=new o(2);if(s=new o(s),!i.mul(s).mod(a).isOne())return!1;r=new o(r),n=new o(n);const c=new o(Math.floor(e.bitLength()/3)),l=yield dn(u,u.leftShift(c)),d=l.mul(n).mul(r);return!(!d.mod(i.dec()).equal(l)||!d.mod(a.dec()).equal(l))});return function(r,n,i,a,s,o){return t.apply(this,arguments)}}()}),d6=Object.freeze({__proto__:null,encrypt:function(){var t=L(function*(e,r,n,i){const a=yield C.getBigInteger();r=new a(r),n=new a(n),i=new a(i);const s=new a(yield uu(e,r.byteLength())),o=yield dn(new a(1),r.dec());return{c1:n.modExp(o,r).toUint8Array(),c2:i.modExp(o,r).imul(s).imod(r).toUint8Array()}});return function(r,n,i,a){return t.apply(this,arguments)}}(),decrypt:function(){var t=L(function*(e,r,n,i){const a=yield C.getBigInteger();return e=new a(e),r=new a(r),n=new a(n),i=new a(i),du(e.modExp(i,n).modInv(n).imul(r).imod(n).toUint8Array("be",n.byteLength()))});return function(r,n,i,a){return t.apply(this,arguments)}}(),validateParams:function(){var t=L(function*(e,r,n,i){const a=yield C.getBigInteger();e=new a(e),r=new a(r),n=new a(n);const s=new a(1);if(r.lte(s)||r.gte(e))return!1;const o=new a(e.bitLength()),u=new a(1023);if(o.lt(u)||!r.modExp(e.dec(),e).isOne())return!1;let c=r;const l=new a(1),d=new a(2).leftShift(new a(17));for(;l.lt(d);){if(c=c.mul(r).imod(e),c.isOne())return!1;l.iinc()}i=new a(i);const y=new a(2),g=yield dn(y.leftShift(o.dec()),y.leftShift(o)),k=e.dec().imul(g).iadd(i);return!!n.equal(r.modExp(k,e))});return function(r,n,i,a){return t.apply(this,arguments)}}()});class Br{constructor(e){if(e instanceof Br)this.oid=e.oid;else if(C.isArray(e)||C.isUint8Array(e)){if(6===(e=new Uint8Array(e))[0]){if(e[1]!==e.length-2)throw Error("Length mismatch in DER encoded oid");e=e.subarray(2)}this.oid=e}else this.oid=""}read(e){if(e.length>=1){const r=e[0];if(e.length>=1+r)return this.oid=e.subarray(1,1+r),1+this.oid.length}throw Error("Invalid oid")}write(){return C.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return C.uint8ArrayToHex(this.oid)}getName(){const e=this.toHex();if(_.curve[e])return _.write(_.curve,e);throw Error("Unknown curve object identifier.")}}function Vs(t,e){return t.keyPair({priv:e})}function qs(t,e){const r=t.keyPair({pub:e});if(!0!==r.validate().result)throw Error("Invalid elliptic public key");return r}function Fi(t){return pu.apply(this,arguments)}function pu(){return pu=L(function*(t){if(!_e.useIndutnyElliptic)throw Error("This curve is only supported in the full build of OpenPGP.js");const{default:e}=yield Promise.resolve().then(function(){return dp});return new e.ec(t)}),pu.apply(this,arguments)}const yu=C.getWebCrypto(),Ns=C.getNodeCrypto(),Or={p256:"P-256",p384:"P-384",p521:"P-521"},hn=Ns?Ns.getCurves():[],Un=Ns?{secp256k1:hn.includes("secp256k1")?"secp256k1":void 0,p256:hn.includes("prime256v1")?"prime256v1":void 0,p384:hn.includes("secp384r1")?"secp384r1":void 0,p521:hn.includes("secp521r1")?"secp521r1":void 0,ed25519:hn.includes("ED25519")?"ED25519":void 0,curve25519:hn.includes("X25519")?"X25519":void 0,brainpoolP256r1:hn.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,brainpoolP384r1:hn.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,brainpoolP512r1:hn.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},js={p256:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:_.publicKey.ecdsa,hash:_.hash.sha256,cipher:_.symmetric.aes128,node:Un.p256,web:Or.p256,payloadSize:32,sharedSize:256},p384:{oid:[6,5,43,129,4,0,34],keyType:_.publicKey.ecdsa,hash:_.hash.sha384,cipher:_.symmetric.aes192,node:Un.p384,web:Or.p384,payloadSize:48,sharedSize:384},p521:{oid:[6,5,43,129,4,0,35],keyType:_.publicKey.ecdsa,hash:_.hash.sha512,cipher:_.symmetric.aes256,node:Un.p521,web:Or.p521,payloadSize:66,sharedSize:528},secp256k1:{oid:[6,5,43,129,4,0,10],keyType:_.publicKey.ecdsa,hash:_.hash.sha256,cipher:_.symmetric.aes128,node:Un.secp256k1,payloadSize:32},ed25519:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:_.publicKey.eddsa,hash:_.hash.sha512,node:!1,payloadSize:32},curve25519:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:_.publicKey.ecdh,hash:_.hash.sha256,cipher:_.symmetric.aes128,node:!1,payloadSize:32},brainpoolP256r1:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:_.publicKey.ecdsa,hash:_.hash.sha256,cipher:_.symmetric.aes128,node:Un.brainpoolP256r1,payloadSize:32},brainpoolP384r1:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:_.publicKey.ecdsa,hash:_.hash.sha384,cipher:_.symmetric.aes192,node:Un.brainpoolP384r1,payloadSize:48},brainpoolP512r1:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:_.publicKey.ecdsa,hash:_.hash.sha512,cipher:_.symmetric.aes256,node:Un.brainpoolP512r1,payloadSize:64}};class Rn{constructor(e,r){try{(C.isArray(e)||C.isUint8Array(e))&&(e=new Br(e)),e instanceof Br&&(e=e.getName()),this.name=_.write(_.curve,e)}catch(n){throw Error("Not valid curve")}this.keyType=(r=r||js[this.name]).keyType,this.oid=r.oid,this.hash=r.hash,this.cipher=r.cipher,this.node=r.node&&js[this.name],this.web=r.web&&js[this.name],this.payloadSize=r.payloadSize,this.web&&C.getWebCrypto()?this.type="web":this.node&&C.getNodeCrypto()?this.type="node":"curve25519"===this.name?this.type="curve25519":"ed25519"===this.name&&(this.type="ed25519")}genKeyPair(){var e=this;return L(function*(){let r;switch(e.type){case"web":try{return yield(i=L(function*(a){const s=yield yu.generateKey({name:"ECDSA",namedCurve:Or[a]},!0,["sign","verify"]),o=yield yu.exportKey("jwk",s.privateKey);return{publicKey:Zd(yield yu.exportKey("jwk",s.publicKey)),privateKey:an(o.d)}}),function(a){return i.apply(this,arguments)})(e.name)}catch(i){C.printDebugError("Browser did not support generating ec key "+i.message);break}case"node":return function(){var i=L(function*(a){const s=Ns.createECDH(Un[a]);return yield s.generateKeys(),{publicKey:new Uint8Array(s.getPublicKey()),privateKey:new Uint8Array(s.getPrivateKey())}});return function(a){return i.apply(this,arguments)}}()(e.name);case"curve25519":{const i=yield Rr(32);i[0]=127&i[0]|64,i[31]&=248;const a=i.slice().reverse();return r=Ur.box.keyPair.fromSecretKey(a),{publicKey:C.concatUint8Array([new Uint8Array([64]),r.publicKey]),privateKey:i}}case"ed25519":{const i=yield Rr(32),a=Ur.sign.keyPair.fromSeed(i);return{publicKey:C.concatUint8Array([new Uint8Array([64]),a.publicKey]),privateKey:i}}}var i;return r=yield(yield Fi(e.name)).genKeyPair({entropy:C.uint8ArrayToString(yield Rr(32))}),{publicKey:new Uint8Array(r.getPublic("array",!1)),privateKey:r.getPrivate().toArrayLike(Uint8Array)}})()}}function Gd(t,e,r,n){return gu.apply(this,arguments)}function gu(){return gu=L(function*(t,e,r,n){const i={p256:!0,p384:!0,p521:!0,secp256k1:!0,curve25519:t===_.publicKey.ecdh,brainpoolP256r1:!0,brainpoolP384r1:!0,brainpoolP512r1:!0},a=e.getName();if(!i[a])return!1;if("curve25519"===a){n=n.slice().reverse();const{publicKey:o}=Ur.box.keyPair.fromSecretKey(n);r=new Uint8Array(r);const u=new Uint8Array([64,...o]);return!!C.equalsUint8Array(u,r)}const s=yield Fi(a);try{r=qs(s,r).getPublic()}catch(o){return!1}return!!Vs(s,n).getPublic().eq(r)}),gu.apply(this,arguments)}function Zd(t){const e=an(t.x),r=an(t.y),n=new Uint8Array(e.length+r.length+1);return n[0]=4,n.set(e,1),n.set(r,e.length+1),n}function Ls(t,e,r){const n=t,i=r.slice(1,n+1),a=r.slice(n+1,2*n+1);return{kty:"EC",crv:e,x:er(i,!0),y:er(a,!0),ext:!0}}function Hd(t,e,r,n){const i=Ls(t,e,r);return i.d=er(n,!0),i}const Gs=C.getWebCrypto(),zi=C.getNodeCrypto();function Wd(t,e,r,n,i,a){return mu.apply(this,arguments)}function mu(){return mu=L(function*(t,e,r,n,i,a){const s=new Rn(t);if(r&&!C.isStream(r)){const o={publicKey:n,privateKey:i};switch(s.type){case"web":try{return yield(u=L(function*(c,l,d,y){const g=c.payloadSize,k=Hd(c.payloadSize,Or[c.name],y.publicKey,y.privateKey),D=yield Gs.importKey("jwk",k,{name:"ECDSA",namedCurve:Or[c.name],hash:{name:_.read(_.webHash,c.hash)}},!1,["sign"]),T=new Uint8Array(yield Gs.sign({name:"ECDSA",namedCurve:Or[c.name],hash:{name:_.read(_.webHash,l)}},D,d));return{r:T.slice(0,g),s:T.slice(g,g<<1)}}),function(c,l,d,y){return u.apply(this,arguments)})(s,e,r,o)}catch(u){if("p521"!==s.name&&("DataError"===u.name||"OperationError"===u.name))throw u;C.printDebugError("Browser did not support signing: "+u.message)}break;case"node":{const u=yield(c=L(function*(l,d,y,g){const k=zi.createSign(_.read(_.hash,d));k.write(y),k.end();const D=h6.encode({version:1,parameters:l.oid,privateKey:Array.from(g.privateKey),publicKey:{unused:0,data:Array.from(g.publicKey)}},"pem",{label:"EC PRIVATE KEY"});return Yd.decode(k.sign(D),"der")}),function(l,d,y,g){return c.apply(this,arguments)})(s,e,r,o);return{r:u.r.toArrayLike(Uint8Array),s:u.s.toArrayLike(Uint8Array)}}}}var c,u,o;return(o=L(function*(u,c,l){const y=Vs(yield Fi(u.name),l).sign(c);return{r:y.r.toArrayLike(Uint8Array),s:y.s.toArrayLike(Uint8Array)}}),function(u,c,l){return o.apply(this,arguments)})(s,a,i)}),mu.apply(this,arguments)}function $d(t,e,r,n,i,a){return bu.apply(this,arguments)}function bu(){return bu=L(function*(t,e,r,n,i,a){const s=new Rn(t);if(n&&!C.isStream(n))switch(s.type){case"web":try{return yield(o=L(function*(u,c,{r:l,s:d},y,g){const k=Ls(u.payloadSize,Or[u.name],g),D=yield Gs.importKey("jwk",k,{name:"ECDSA",namedCurve:Or[u.name],hash:{name:_.read(_.webHash,u.hash)}},!1,["verify"]),T=C.concatUint8Array([l,d]).buffer;return Gs.verify({name:"ECDSA",namedCurve:Or[u.name],hash:{name:_.read(_.webHash,c)}},D,T,y)}),function(u,c,l,d,y){return o.apply(this,arguments)})(s,e,r,n,i)}catch(o){if("p521"!==s.name&&("DataError"===o.name||"OperationError"===o.name))throw o;C.printDebugError("Browser did not support verifying: "+o.message)}break;case"node":return function(){var o=L(function*(u,c,{r:l,s:d},y,g){const{default:k}=yield Promise.resolve().then(function(){return ns}),D=zi.createVerify(_.read(_.hash,c));D.write(y),D.end();const T=p6.encode({algorithm:{algorithm:[1,2,840,10045,2,1],parameters:u.oid},subjectPublicKey:{unused:0,data:Array.from(g)}},"pem",{label:"PUBLIC KEY"}),Y=Yd.encode({r:new k(l),s:new k(d)},"der");try{return D.verify(T,Y)}catch(J){return!1}});return function(u,c,l,d,y){return o.apply(this,arguments)}}()(s,e,r,n,i)}var o;return function(){var o=L(function*(u,c,l,d){return qs(yield Fi(u.name),d).verify(l,c)});return function(u,c,l,d){return o.apply(this,arguments)}}()(s,r,void 0===e?n:a,i)}),bu.apply(this,arguments)}const Zs=void 0,Yd=zi?Zs.define("ECDSASignature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}):void 0,h6=zi?Zs.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())}):void 0,f6=zi?Zs.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}):void 0,p6=zi?Zs.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(f6),this.key("subjectPublicKey").bitstr())}):void 0;var y6=Object.freeze({__proto__:null,sign:Wd,verify:$d,validateParams:function(){var t=L(function*(e,r,n){const i=new Rn(e);if(i.keyType!==_.publicKey.ecdsa)return!1;switch(i.type){case"web":case"node":{const a=yield Rr(8),s=_.hash.sha256,o=yield Ui.digest(s,a);try{const u=yield Wd(e,s,a,r,n,o);return yield $d(e,s,u,a,r,o)}catch(u){return!1}}default:return Gd(_.publicKey.ecdsa,e,r,n)}});return function(r,n,i){return t.apply(this,arguments)}}()});Ur.hash=t=>new Uint8Array(ka().update(t).digest());var g6=Object.freeze({__proto__:null,sign:function(){var t=L(function*(e,r,n,i,a,s){if(Ui.getHashByteLength(r)<Ui.getHashByteLength(_.hash.sha256))throw Error("Hash algorithm too weak: sha256 or stronger is required for EdDSA.");const o=C.concatUint8Array([a,i.subarray(1)]),u=Ur.sign.detached(s,o);return{r:u.subarray(0,32),s:u.subarray(32)}});return function(r,n,i,a,s,o){return t.apply(this,arguments)}}(),verify:function(){var t=L(function*(e,r,{r:n,s:i},a,s,o){const u=C.concatUint8Array([n,i]);return Ur.sign.detached.verify(o,u,s.subarray(1))});return function(r,n,i,a,s,o){return t.apply(this,arguments)}}(),validateParams:function(){var t=L(function*(e,r,n){if("ed25519"!==e.getName())return!1;const{publicKey:i}=Ur.sign.keyPair.fromSeed(n),a=new Uint8Array([64,...i]);return C.equalsUint8Array(r,a)});return function(r,n,i){return t.apply(this,arguments)}}()});function Jd(t,e){const r=new dr["aes"+8*t.length](t),n=new Uint32Array([2795939494,2795939494]),i=Hs(e);let a=n;const s=i,o=i.length/2,u=new Uint32Array([0,0]);let c=new Uint32Array(4);for(let l=0;l<=5;++l)for(let d=0;d<o;++d)u[1]=o*l+(1+d),c[0]=a[0],c[1]=a[1],c[2]=s[2*d],c[3]=s[2*d+1],c=Hs(r.encrypt(Ws(c))),a=c.subarray(0,2),a[0]^=u[0],a[1]^=u[1],s[2*d]=c[2],s[2*d+1]=c[3];return Ws(a,s)}function Qd(t,e){const r=new dr["aes"+8*t.length](t),n=new Uint32Array([2795939494,2795939494]),i=Hs(e);let a=i.subarray(0,2);const s=i.subarray(2),o=i.length/2-1,u=new Uint32Array([0,0]);let c=new Uint32Array(4);for(let l=5;l>=0;--l)for(let d=o-1;d>=0;--d)u[1]=o*l+(d+1),c[0]=a[0]^u[0],c[1]=a[1]^u[1],c[2]=s[2*d],c[3]=s[2*d+1],c=Hs(r.decrypt(Ws(c))),a=c.subarray(0,2),s[2*d]=c[2],s[2*d+1]=c[3];if(a[0]===n[0]&&a[1]===n[1])return Ws(s);throw Error("Key Data Integrity failed")}function Hs(t){const{length:e}=t,r=function(a){if(C.isString(a)){const{length:s}=a,o=new ArrayBuffer(s),u=new Uint8Array(o);for(let c=0;c<s;++c)u[c]=a.charCodeAt(c);return o}return new Uint8Array(a).buffer}(t),n=new DataView(r),i=new Uint32Array(e/4);for(let a=0;a<e/4;++a)i[a]=n.getUint32(4*a);return i}function Ws(){let t=0;for(let i=0;i<arguments.length;++i)t+=4*arguments[i].length;const e=new ArrayBuffer(t),r=new DataView(e);let n=0;for(let i=0;i<arguments.length;++i){for(let a=0;a<arguments[i].length;++a)r.setUint32(n+4*a,arguments[i][a]);n+=4*arguments[i].length}return new Uint8Array(e)}var m6=Object.freeze({__proto__:null,wrap:Jd,unwrap:Qd});function Xd(t){const e=8-t.length%8,r=new Uint8Array(t.length+e).fill(e);return r.set(t),r}function eh(t){const e=t.length;if(e>0){const r=t[e-1];if(r>=1){const n=t.subarray(e-r),i=new Uint8Array(r).fill(r);if(C.equalsUint8Array(n,i))return t.subarray(0,e-r)}}throw Error("Invalid padding")}var b6=Object.freeze({__proto__:null,encode:Xd,decode:eh});const Kn=C.getWebCrypto(),th=C.getNodeCrypto();function rh(t,e,r,n){return C.concatUint8Array([e.write(),new Uint8Array([t]),r.write(),C.stringToUint8Array("Anonymous Sender    "),n.subarray(0,20)])}function nh(t,e,r,n){return vu.apply(this,arguments)}function vu(){return vu=L(function*(t,e,r,n,i=!1,a=!1){let s;if(i){for(s=0;s<e.length&&0===e[s];s++);e=e.subarray(s)}if(a){for(s=e.length-1;s>=0&&0===e[s];s--);e=e.subarray(0,s+1)}return(yield Ui.digest(t,C.concatUint8Array([new Uint8Array([0,0,0,1]),e,n]))).subarray(0,r)}),vu.apply(this,arguments)}function _u(){return _u=L(function*(t,e){switch(t.type){case"curve25519":{const r=yield Rr(32),{secretKey:n,sharedKey:i}=yield ih(t,e,null,r);let{publicKey:a}=Ur.box.keyPair.fromSecretKey(n);return a=C.concatUint8Array([new Uint8Array([64]),a]),{publicKey:a,sharedKey:i}}case"web":if(t.web&&C.getWebCrypto())try{return yield(r=L(function*(n,i){const a=Ls(n.payloadSize,n.web.web,i);let s=Kn.generateKey({name:"ECDH",namedCurve:n.web.web},!0,["deriveKey","deriveBits"]),o=Kn.importKey("jwk",a,{name:"ECDH",namedCurve:n.web.web},!1,[]);[s,o]=yield Promise.all([s,o]);let u=Kn.deriveBits({name:"ECDH",namedCurve:n.web.web,public:o},s.privateKey,n.web.sharedSize),c=Kn.exportKey("jwk",s.publicKey);[u,c]=yield Promise.all([u,c]);const l=new Uint8Array(u);return{publicKey:new Uint8Array(Zd(c)),sharedKey:l}}),function(n,i){return r.apply(this,arguments)})(t,e)}catch(r){C.printDebugError(r)}break;case"node":return function(){var r=L(function*(n,i){const a=th.createECDH(n.node.node);a.generateKeys();const s=new Uint8Array(a.computeSecret(i));return{publicKey:new Uint8Array(a.getPublicKey()),sharedKey:s}});return function(n,i){return r.apply(this,arguments)}}()(t,e)}var r;return function(){var r=L(function*(n,i){const a=yield Fi(n.name),s=yield n.genKeyPair();i=qs(a,i);const o=Vs(a,s.privateKey),u=s.publicKey,c=o.derive(i.getPublic()),l=a.curve.p.byteLength();return{publicKey:u,sharedKey:c.toArrayLike(Uint8Array,"be",l)}});return function(n,i){return r.apply(this,arguments)}}()(t,e)}),_u.apply(this,arguments)}function ih(t,e,r,n){return wu.apply(this,arguments)}function wu(){return wu=L(function*(t,e,r,n){if(n.length!==t.payloadSize){const i=new Uint8Array(t.payloadSize);i.set(n,t.payloadSize-n.length),n=i}switch(t.type){case"curve25519":{const i=n.slice().reverse();return{secretKey:i,sharedKey:Ur.scalarMult(i,e.subarray(1))}}case"web":if(t.web&&C.getWebCrypto())try{return yield(i=L(function*(a,s,o,u){const c=Hd(a.payloadSize,a.web.web,o,u);let l=Kn.importKey("jwk",c,{name:"ECDH",namedCurve:a.web.web},!0,["deriveKey","deriveBits"]);const d=Ls(a.payloadSize,a.web.web,s);let y=Kn.importKey("jwk",d,{name:"ECDH",namedCurve:a.web.web},!0,[]);[l,y]=yield Promise.all([l,y]);let g=Kn.deriveBits({name:"ECDH",namedCurve:a.web.web,public:y},l,a.web.sharedSize),k=Kn.exportKey("jwk",l);[g,k]=yield Promise.all([g,k]);const D=new Uint8Array(g);return{secretKey:an(k.d),sharedKey:D}}),function(a,s,o,u){return i.apply(this,arguments)})(t,e,r,n)}catch(i){C.printDebugError(i)}break;case"node":return function(){var i=L(function*(a,s,o){const u=th.createECDH(a.node.node);u.setPrivateKey(o);const c=new Uint8Array(u.computeSecret(s));return{secretKey:new Uint8Array(u.getPrivateKey()),sharedKey:c}});return function(a,s,o){return i.apply(this,arguments)}}()(t,e,n)}var i;return function(){var i=L(function*(a,s,o){const u=yield Fi(a.name);s=qs(u,s),o=Vs(u,o);const c=new Uint8Array(o.getPrivate()),l=o.derive(s.getPublic()),d=u.curve.p.byteLength();return{secretKey:c,sharedKey:l.toArrayLike(Uint8Array,"be",d)}});return function(a,s,o){return i.apply(this,arguments)}}()(t,e,n)}),wu.apply(this,arguments)}var _6=Object.freeze({__proto__:null,validateParams:function(){var t=L(function*(e,r,n){return Gd(_.publicKey.ecdh,e,r,n)});return function(r,n,i){return t.apply(this,arguments)}}(),encrypt:function(){var t=L(function*(e,r,n,i,a){const s=Xd(n),o=new Rn(e),{publicKey:u,sharedKey:c}=yield function(t,e){return _u.apply(this,arguments)}(o,i),l=rh(_.publicKey.ecdh,e,r,a),d=_.read(_.symmetric,r.cipher);return{publicKey:u,wrappedKey:Jd(yield nh(r.hash,c,dr[d].keySize,l),s)}});return function(r,n,i,a,s){return t.apply(this,arguments)}}(),decrypt:function(){var t=L(function*(e,r,n,i,a,s,o){const u=new Rn(e),{sharedKey:c}=yield ih(u,n,a,s),l=rh(_.publicKey.ecdh,e,r,o),d=_.read(_.symmetric,r.cipher);let y;for(let g=0;g<3;g++)try{return eh(Qd(yield nh(r.hash,c,dr[d].keySize,l,1===g,2===g),i))}catch(k){y=k}throw y});return function(r,n,i,a,s,o,u){return t.apply(this,arguments)}}()}),at={rsa:l6,elgamal:d6,elliptic:Object.freeze({__proto__:null,Curve:Rn,ecdh:_6,ecdsa:y6,eddsa:g6,generate:function(){var t=L(function*(e){const r=yield C.getBigInteger();e=new Rn(e);const n=yield e.genKeyPair(),i=new r(n.publicKey).toUint8Array(),a=new r(n.privateKey).toUint8Array("be",e.payloadSize);return{oid:e.oid,Q:i,secret:a,hash:e.hash,cipher:e.cipher}});return function(r){return t.apply(this,arguments)}}(),getPreferredHashAlgo:function(t){return js[_.write(_.curve,t.toHex())].hash}}),dsa:Object.freeze({__proto__:null,sign:function(){var t=L(function*(e,r,n,i,a,s){const o=yield C.getBigInteger(),u=new o(1);let c,l,d,y;i=new o(i),a=new o(a),n=new o(n),s=new o(s),n=n.mod(i),s=s.mod(a);const g=new o(r.subarray(0,a.byteLength())).mod(a);for(;;){if(c=yield dn(u,a),l=n.modExp(c,i).imod(a),l.isZero())continue;const k=s.mul(l).imod(a);if(y=g.add(k).imod(a),d=c.modInv(a).imul(y).imod(a),!d.isZero())break}return{r:l.toUint8Array("be",a.byteLength()),s:d.toUint8Array("be",a.byteLength())}});return function(r,n,i,a,s,o){return t.apply(this,arguments)}}(),verify:function(){var t=L(function*(e,r,n,i,a,s,o,u){const c=yield C.getBigInteger(),l=new c(0);if(r=new c(r),n=new c(n),s=new c(s),o=new c(o),a=new c(a),u=new c(u),r.lte(l)||r.gte(o)||n.lte(l)||n.gte(o))return C.printDebug("invalid DSA Signature"),!1;const d=new c(i.subarray(0,o.byteLength())).imod(o),y=n.modInv(o);if(y.isZero())return C.printDebug("invalid DSA Signature"),!1;a=a.mod(s),u=u.mod(s);const g=d.mul(y).imod(o),k=r.mul(y).imod(o),D=a.modExp(g,s),T=u.modExp(k,s);return D.mul(T).imod(s).imod(o).equal(r)});return function(r,n,i,a,s,o,u,c){return t.apply(this,arguments)}}(),validateParams:function(){var t=L(function*(e,r,n,i,a){const s=yield C.getBigInteger();e=new s(e),r=new s(r),n=new s(n),i=new s(i);const o=new s(1);if(n.lte(o)||n.gte(e)||!e.dec().mod(r).isZero()||!n.modExp(r,e).isOne())return!1;const u=new s(r.bitLength()),c=new s(150);if(u.lt(c)||!(yield jd(r,null,32)))return!1;a=new s(a);const l=new s(2),d=yield dn(l.leftShift(u.dec()),l.leftShift(u)),y=r.mul(d).add(a);return!!i.equal(n.modExp(y,e))});return function(r,n,i,a,s){return t.apply(this,arguments)}}()}),nacl:Ur},w6=Object.freeze({__proto__:null,parseSignatureParams:function(t,e){let r=0;switch(t){case _.publicKey.rsaEncryptSign:case _.publicKey.rsaEncrypt:case _.publicKey.rsaSign:return{s:C.readMPI(e.subarray(r))};case _.publicKey.dsa:case _.publicKey.ecdsa:{const n=C.readMPI(e.subarray(r));return r+=n.length+2,{r:n,s:C.readMPI(e.subarray(r))}}case _.publicKey.eddsa:{let n=C.readMPI(e.subarray(r));r+=n.length+2,n=C.leftPad(n,32);let i=C.readMPI(e.subarray(r));return i=C.leftPad(i,32),{r:n,s:i}}default:throw Error("Invalid signature algorithm.")}},verify:function(){var t=L(function*(e,r,n,i,a,s){switch(e){case _.publicKey.rsaEncryptSign:case _.publicKey.rsaEncrypt:case _.publicKey.rsaSign:{const{n:o,e:u}=i,c=C.leftPad(n.s,o.length);return at.rsa.verify(r,a,c,o,u,s)}case _.publicKey.dsa:{const{g:o,p:u,q:c,y:l}=i,{r:d,s:y}=n;return at.dsa.verify(r,d,y,s,o,u,c,l)}case _.publicKey.ecdsa:{const{oid:o,Q:u}=i,c=new at.elliptic.Curve(o).payloadSize,l=C.leftPad(n.r,c),d=C.leftPad(n.s,c);return at.elliptic.ecdsa.verify(o,r,{r:l,s:d},a,u,s)}case _.publicKey.eddsa:{const{oid:o,Q:u}=i;return at.elliptic.eddsa.verify(o,r,n,a,u,s)}default:throw Error("Invalid signature algorithm.")}});return function(r,n,i,a,s,o){return t.apply(this,arguments)}}(),sign:function(){var t=L(function*(e,r,n,i,a,s){if(!n||!i)throw Error("Missing key parameters");switch(e){case _.publicKey.rsaEncryptSign:case _.publicKey.rsaEncrypt:case _.publicKey.rsaSign:{const{n:o,e:u}=n,{d:c,p:l,q:d,u:y}=i;return{s:yield at.rsa.sign(r,a,o,u,c,l,d,y,s)}}case _.publicKey.dsa:{const{g:o,p:u,q:c}=n,{x:l}=i;return at.dsa.sign(r,s,o,u,c,l)}case _.publicKey.elgamal:throw Error("Signing with Elgamal is not defined in the OpenPGP standard.");case _.publicKey.ecdsa:{const{oid:o,Q:u}=n,{d:c}=i;return at.elliptic.ecdsa.sign(o,r,a,u,c,s)}case _.publicKey.eddsa:{const{oid:o,Q:u}=n,{seed:c}=i;return at.elliptic.eddsa.sign(o,r,a,u,c,s)}default:throw Error("Invalid signature algorithm.")}});return function(r,n,i,a,s,o){return t.apply(this,arguments)}}()});class ah{constructor(e){e=void 0===e?new Uint8Array([]):C.isString(e)?C.stringToUint8Array(e):new Uint8Array(e),this.data=e}read(e){if(e.length>=1){const r=e[0];if(e.length>=1+r)return this.data=e.subarray(1,1+r),1+this.data.length}throw Error("Invalid symmetric key")}write(){return C.concatUint8Array([new Uint8Array([this.data.length]),this.data])}}class sh{constructor(e){if(e){const{hash:r,cipher:n}=e;this.hash=r,this.cipher=n}else this.hash=null,this.cipher=null}read(e){if(e.length<4||3!==e[0]||1!==e[1])throw Error("Cannot read KDFParams");return this.hash=e[2],this.cipher=e[3],4}write(){return new Uint8Array([3,1,this.hash,this.cipher])}}var A6=Object.freeze({__proto__:null,publicKeyEncrypt:function(){var t=L(function*(e,r,n,i){switch(e){case _.publicKey.rsaEncrypt:case _.publicKey.rsaEncryptSign:{const{n:a,e:s}=r;return{c:yield at.rsa.encrypt(n,a,s)}}case _.publicKey.elgamal:{const{p:a,g:s,y:o}=r;return at.elgamal.encrypt(n,a,s,o)}case _.publicKey.ecdh:{const{oid:a,Q:s,kdfParams:o}=r,{publicKey:u,wrappedKey:c}=yield at.elliptic.ecdh.encrypt(a,o,n,s,i);return{V:u,C:new ah(c)}}default:return[]}});return function(r,n,i,a){return t.apply(this,arguments)}}(),publicKeyDecrypt:function(){var t=L(function*(e,r,n,i,a){switch(e){case _.publicKey.rsaEncryptSign:case _.publicKey.rsaEncrypt:{const{c:s}=i,{n:o,e:u}=r,{d:c,p:l,q:d,u:y}=n;return at.rsa.decrypt(s,o,u,c,l,d,y)}case _.publicKey.elgamal:{const{c1:s,c2:o}=i;return at.elgamal.decrypt(s,o,r.p,n.x)}case _.publicKey.ecdh:{const{oid:s,Q:o,kdfParams:u}=r,{d:c}=n,{V:l,C:d}=i;return at.elliptic.ecdh.decrypt(s,u,l,d.data,o,c,a)}default:throw Error("Invalid public key encryption algorithm.")}});return function(r,n,i,a,s){return t.apply(this,arguments)}}(),parsePublicKeyParams:function(t,e){let r=0;switch(t){case _.publicKey.rsaEncrypt:case _.publicKey.rsaEncryptSign:case _.publicKey.rsaSign:{const n=C.readMPI(e.subarray(r));r+=n.length+2;const i=C.readMPI(e.subarray(r));return r+=i.length+2,{read:r,publicParams:{n,e:i}}}case _.publicKey.dsa:{const n=C.readMPI(e.subarray(r));r+=n.length+2;const i=C.readMPI(e.subarray(r));r+=i.length+2;const a=C.readMPI(e.subarray(r));r+=a.length+2;const s=C.readMPI(e.subarray(r));return r+=s.length+2,{read:r,publicParams:{p:n,q:i,g:a,y:s}}}case _.publicKey.elgamal:{const n=C.readMPI(e.subarray(r));r+=n.length+2;const i=C.readMPI(e.subarray(r));r+=i.length+2;const a=C.readMPI(e.subarray(r));return r+=a.length+2,{read:r,publicParams:{p:n,g:i,y:a}}}case _.publicKey.ecdsa:{const n=new Br;r+=n.read(e);const i=C.readMPI(e.subarray(r));return r+=i.length+2,{read:r,publicParams:{oid:n,Q:i}}}case _.publicKey.eddsa:{const n=new Br;r+=n.read(e);let i=C.readMPI(e.subarray(r));return r+=i.length+2,i=C.leftPad(i,33),{read:r,publicParams:{oid:n,Q:i}}}case _.publicKey.ecdh:{const n=new Br;r+=n.read(e);const i=C.readMPI(e.subarray(r));r+=i.length+2;const a=new sh;return r+=a.read(e.subarray(r)),{read:r,publicParams:{oid:n,Q:i,kdfParams:a}}}default:throw Error("Invalid public key encryption algorithm.")}},parsePrivateKeyParams:function(t,e,r){let n=0;switch(t){case _.publicKey.rsaEncrypt:case _.publicKey.rsaEncryptSign:case _.publicKey.rsaSign:{const i=C.readMPI(e.subarray(n));n+=i.length+2;const a=C.readMPI(e.subarray(n));n+=a.length+2;const s=C.readMPI(e.subarray(n));n+=s.length+2;const o=C.readMPI(e.subarray(n));return n+=o.length+2,{read:n,privateParams:{d:i,p:a,q:s,u:o}}}case _.publicKey.dsa:case _.publicKey.elgamal:{const i=C.readMPI(e.subarray(n));return n+=i.length+2,{read:n,privateParams:{x:i}}}case _.publicKey.ecdsa:case _.publicKey.ecdh:{const i=new Rn(r.oid);let a=C.readMPI(e.subarray(n));return n+=a.length+2,a=C.leftPad(a,i.payloadSize),{read:n,privateParams:{d:a}}}case _.publicKey.eddsa:{let i=C.readMPI(e.subarray(n));return n+=i.length+2,i=C.leftPad(i,32),{read:n,privateParams:{seed:i}}}default:throw Error("Invalid public key encryption algorithm.")}},parseEncSessionKeyParams:function(t,e){let r=0;switch(t){case _.publicKey.rsaEncrypt:case _.publicKey.rsaEncryptSign:return{c:C.readMPI(e.subarray(r))};case _.publicKey.elgamal:{const n=C.readMPI(e.subarray(r));return r+=n.length+2,{c1:n,c2:C.readMPI(e.subarray(r))}}case _.publicKey.ecdh:{const n=C.readMPI(e.subarray(r));r+=n.length+2;const i=new ah;return i.read(e.subarray(r)),{V:n,C:i}}default:throw Error("Invalid public key encryption algorithm.")}},serializeParams:function(t,e){const r=Object.keys(e).map(n=>{const i=e[n];return C.isUint8Array(i)?C.uint8ArrayToMPI(i):i.write()});return C.concatUint8Array(r)},generateParams:function(t,e,r){switch(t){case _.publicKey.rsaEncrypt:case _.publicKey.rsaEncryptSign:case _.publicKey.rsaSign:return at.rsa.generate(e,65537).then(({n,e:i,d:a,p:s,q:o,u})=>({privateParams:{d:a,p:s,q:o,u},publicParams:{n,e:i}}));case _.publicKey.ecdsa:return at.elliptic.generate(r).then(({oid:n,Q:i,secret:a})=>({privateParams:{d:a},publicParams:{oid:new Br(n),Q:i}}));case _.publicKey.eddsa:return at.elliptic.generate(r).then(({oid:n,Q:i,secret:a})=>({privateParams:{seed:a},publicParams:{oid:new Br(n),Q:i}}));case _.publicKey.ecdh:return at.elliptic.generate(r).then(({oid:n,Q:i,secret:a,hash:s,cipher:o})=>({privateParams:{d:a},publicParams:{oid:new Br(n),Q:i,kdfParams:new sh({hash:s,cipher:o})}}));case _.publicKey.dsa:case _.publicKey.elgamal:throw Error("Unsupported algorithm for key generation.");default:throw Error("Invalid public key algorithm.")}},validateParams:function(){var t=L(function*(e,r,n){if(!r||!n)throw Error("Missing key parameters");switch(e){case _.publicKey.rsaEncrypt:case _.publicKey.rsaEncryptSign:case _.publicKey.rsaSign:{const{n:i,e:a}=r,{d:s,p:o,q:u,u:c}=n;return at.rsa.validateParams(i,a,s,o,u,c)}case _.publicKey.dsa:{const{p:i,q:a,g:s,y:o}=r,{x:u}=n;return at.dsa.validateParams(i,a,s,o,u)}case _.publicKey.elgamal:{const{p:i,g:a,y:s}=r,{x:o}=n;return at.elgamal.validateParams(i,a,s,o)}case _.publicKey.ecdsa:case _.publicKey.ecdh:{const i=at.elliptic[_.read(_.publicKey,e)],{oid:a,Q:s}=r,{d:o}=n;return i.validateParams(a,s,o)}case _.publicKey.eddsa:{const{oid:i,Q:a}=r,{seed:s}=n;return at.elliptic.eddsa.validateParams(i,a,s)}default:throw Error("Invalid public key algorithm.")}});return function(r,n,i){return t.apply(this,arguments)}}(),getPrefixRandom:function(){var t=L(function*(e){const r=yield Rr(dr[e].blockSize),n=new Uint8Array([r[r.length-2],r[r.length-1]]);return C.concat([r,n])});return function(r){return t.apply(this,arguments)}}(),generateSessionKey:function(t){return Rr(dr[t].keySize)}});const Se={cipher:dr,hash:Ui,mode:s6,publicKey:at,signature:w6,random:o6,pkcs1:u6,pkcs5:b6,aesKW:m6};Object.assign(Se,A6);var Ca="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function oh(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)}const ch={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(let a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){let e,r,n,i,a;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;const s=new Uint8Array(n);for(i=0,e=0,r=t.length;e<r;e++)a=t[e],s.set(a,i),i+=a.length;return s}},uh={arraySet:function(t,e,r,n,i){for(let a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){return[].concat.apply([],t)}};let Fr=Ca?Uint8Array:Array,ar=Ca?Uint16Array:Array,$s=Ca?Int32Array:Array,lh=Ca?ch.flattenChunks:uh.flattenChunks,zr=Ca?ch.arraySet:uh.arraySet;function Vi(t){let e=t.length;for(;--e>=0;)t[e]=0}const Au=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ys=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k6=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],dh=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fn=Array(576);Vi(fn);const Ma=Array(60);Vi(Ma);const Pa=Array(512);Vi(Pa);const Da=Array(256);Vi(Da);const ku=Array(29);Vi(ku);const Js=Array(30);function Su(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let hh,fh,ph;function xu(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function yh(t){return t<256?Pa[t]:Pa[256+(t>>>7)]}function Ta(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function Wt(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,Ta(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function Vr(t,e,r){Wt(t,r[2*e],r[2*e+1])}function gh(t,e){let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1}function mh(t,e,r){const n=Array(16);let i,a,s=0;for(i=1;i<=15;i++)n[i]=s=s+r[i-1]<<1;for(a=0;a<=e;a++){const o=t[2*a+1];0!==o&&(t[2*a]=gh(n[o]++,o))}}function bh(t){let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function vh(t){t.bi_valid>8?Ta(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function _h(t,e,r,n){const i=2*e,a=2*r;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]}function Eu(t,e,r){const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&_h(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!_h(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function wh(t,e,r){let n,i,a,s,o=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],i=t.pending_buf[t.l_buf+o],o++,0===n?Vr(t,i,e):(a=Da[i],Vr(t,a+256+1,e),s=Au[a],0!==s&&(i-=ku[a],Wt(t,i,s)),n--,a=yh(n),Vr(t,a,r),s=Ys[a],0!==s&&(n-=Js[a],Wt(t,n,s)))}while(o<t.last_lit);Vr(t,256,e)}function Cu(t,e){const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,a=e.stat_desc.elems;let s,o,u,c=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<a;s++)0!==r[2*s]?(t.heap[++t.heap_len]=c=s,t.depth[s]=0):r[2*s+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=c<2?++c:0,r[2*u]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=n[2*u+1]);for(e.max_code=c,s=t.heap_len>>1;s>=1;s--)Eu(t,r,s);u=a;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Eu(t,r,1),o=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=o,r[2*u]=r[2*s]+r[2*o],t.depth[u]=(t.depth[s]>=t.depth[o]?t.depth[s]:t.depth[o])+1,r[2*s+1]=r[2*o+1]=u,t.heap[1]=u++,Eu(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(l,d){const y=d.dyn_tree,g=d.max_code,k=d.stat_desc.static_tree,D=d.stat_desc.has_stree,T=d.stat_desc.extra_bits,Y=d.stat_desc.extra_base,J=d.stat_desc.max_length;let j,U,ie,X,ee,h,b=0;for(X=0;X<=15;X++)l.bl_count[X]=0;for(y[2*l.heap[l.heap_max]+1]=0,j=l.heap_max+1;j<573;j++)U=l.heap[j],X=y[2*y[2*U+1]+1]+1,X>J&&(X=J,b++),y[2*U+1]=X,U>g||(l.bl_count[X]++,ee=0,U>=Y&&(ee=T[U-Y]),h=y[2*U],l.opt_len+=h*(X+ee),D&&(l.static_len+=h*(k[2*U+1]+ee)));if(0!==b){do{for(X=J-1;0===l.bl_count[X];)X--;l.bl_count[X]--,l.bl_count[X+1]+=2,l.bl_count[J]--,b-=2}while(b>0);for(X=J;0!==X;X--)for(U=l.bl_count[X];0!==U;)ie=l.heap[--j],ie>g||(y[2*ie+1]!==X&&(l.opt_len+=(X-y[2*ie+1])*y[2*ie],y[2*ie+1]=X),U--)}}(t,e),mh(r,c,t.bl_count)}function Ah(t,e,r){let n,i,a=-1,s=e[1],o=0,u=7,c=4;for(0===s&&(u=138,c=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=e[2*(n+1)+1],++o<u&&i===s||(o<c?t.bl_tree[2*i]+=o:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,a=i,0===s?(u=138,c=3):i===s?(u=6,c=3):(u=7,c=4))}function kh(t,e,r){let n,i,a=-1,s=e[1],o=0,u=7,c=4;for(0===s&&(u=138,c=3),n=0;n<=r;n++)if(i=s,s=e[2*(n+1)+1],!(++o<u&&i===s)){if(o<c)do{Vr(t,i,t.bl_tree)}while(0!=--o);else 0!==i?(i!==a&&(Vr(t,i,t.bl_tree),o--),Vr(t,16,t.bl_tree),Wt(t,o-3,2)):o<=10?(Vr(t,17,t.bl_tree),Wt(t,o-3,3)):(Vr(t,18,t.bl_tree),Wt(t,o-11,7));o=0,a=i,0===s?(u=138,c=3):i===s?(u=6,c=3):(u=7,c=4)}}Vi(Js);let Sh=!1;function xh(t,e,r,n){var i,a,s;Wt(t,0+(n?1:0),3),a=e,s=r,vh(i=t),Ta(i,s),Ta(i,~s),zr(i.pending_buf,i.window,a,s,i.pending),i.pending+=s}function Bn(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(Da[r]+256+1)]++,t.dyn_dtree[2*yh(e)]++),t.last_lit===t.lit_bufsize-1}function Ia(t,e,r,n){let i=65535&t|0,a=t>>>16&65535|0,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do{i=i+e[n++]|0,a=a+i|0}while(--s);i%=65521,a%=65521}return i|a<<16|0}const C6=function(){let t;const e=[];for(let r=0;r<256;r++){t=r;for(let n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();function _t(t,e,r,n){const i=C6,a=n+r;t^=-1;for(let s=n;s<a;s++)t=t>>>8^i[255&(t^e[s])];return-1^t}var Ua={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function On(t,e){return t.msg=Ua[e],e}function Eh(t){return(t<<1)-(t>4?9:0)}function Fn(t){let e=t.length;for(;--e>=0;)t[e]=0}function zn(t){const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(zr(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function xt(t,e){(function(t,e,r,n){let i,a,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(o){let u,c=4093624447;for(u=0;u<=31;u++,c>>>=1)if(1&c&&0!==o.dyn_ltree[2*u])return 0;if(0!==o.dyn_ltree[18]||0!==o.dyn_ltree[20]||0!==o.dyn_ltree[26])return 1;for(u=32;u<256;u++)if(0!==o.dyn_ltree[2*u])return 1;return 0}(t)),Cu(t,t.l_desc),Cu(t,t.d_desc),s=function(o){let u;for(Ah(o,o.dyn_ltree,o.l_desc.max_code),Ah(o,o.dyn_dtree,o.d_desc.max_code),Cu(o,o.bl_desc),u=18;u>=3&&0===o.bl_tree[2*dh[u]+1];u--);return o.opt_len+=3*(u+1)+5+5+4,u}(t),i=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&-1!==e?xh(t,e,r,n):4===t.strategy||a===i?(Wt(t,2+(n?1:0),3),wh(t,fn,Ma)):(Wt(t,4+(n?1:0),3),function(o,u,c,l){let d;for(Wt(o,u-257,5),Wt(o,c-1,5),Wt(o,l-4,4),d=0;d<l;d++)Wt(o,o.bl_tree[2*dh[d]+1],3);kh(o,o.dyn_ltree,u-1),kh(o,o.dyn_dtree,c-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),wh(t,t.dyn_ltree,t.dyn_dtree)),bh(t),n&&vh(t)})(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,zn(t.strm)}function Qe(t,e){t.pending_buf[t.pending++]=e}function Ra(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function M6(t,e,r,n){let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,zr(e,t.input,t.next_in,i,r),1===t.state.wrap?t.adler=Ia(t.adler,e,i,r):2===t.state.wrap&&(t.adler=_t(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)}function Ch(t,e){let r,n,i=t.max_chain_length,a=t.strstart,s=t.prev_length,o=t.nice_match;const u=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,c=t.window,l=t.w_mask,d=t.prev,y=t.strstart+258;let g=c[a+s-1],k=c[a+s];t.prev_length>=t.good_match&&(i>>=2),o>t.lookahead&&(o=t.lookahead);do{if(r=e,c[r+s]===k&&c[r+s-1]===g&&c[r]===c[a]&&c[++r]===c[a+1]){a+=2,r++;do{}while(c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&a<y);if(n=258-(y-a),a=y-258,n>s){if(t.match_start=e,s=n,n>=o)break;g=c[a+s-1],k=c[a+s]}}}while((e=d[e&l])>u&&0!=--i);return s<=t.lookahead?s:t.lookahead}function hi(t){const e=t.w_size;let r,n,i,a,s;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-262)){zr(t.window,t.window,e,e,0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do{i=t.head[--r],t.head[r]=i>=e?i-e:0}while(--n);n=e,r=n;do{i=t.prev[--r],t.prev[r]=i>=e?i-e:0}while(--n);a+=e}if(0===t.strm.avail_in)break;if(n=M6(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=n,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+3-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function Mu(t,e){let r,n;for(;;){if(t.lookahead<262){if(hi(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-262&&(t.match_length=Ch(t,r)),t.match_length>=3)if(n=Bn(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=Bn(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(xt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(xt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(xt(t,!1),0===t.strm.avail_out)?1:2}function qi(t,e){let r,n,i;for(;;){if(t.lookahead<262){if(hi(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-262&&(t.match_length=Ch(t,r),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=Bn(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(xt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=Bn(t,0,t.window[t.strstart-1]),n&&xt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Bn(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(xt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(xt(t,!1),0===t.strm.avail_out)?1:2}class qr{constructor(e,r,n,i,a){this.good_length=e,this.max_lazy=r,this.nice_length=n,this.max_chain=i,this.func=a}}const Ka=[new qr(0,0,0,0,function(t,e){let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(hi(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,xt(t,!1),0===t.strm.avail_out)||t.strstart-t.block_start>=t.w_size-262&&(xt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(xt(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&xt(t,!1),1)}),new qr(4,4,8,4,Mu),new qr(4,5,16,8,Mu),new qr(4,6,32,32,Mu),new qr(4,4,16,16,qi),new qr(8,16,32,32,qi),new qr(8,16,128,128,qi),new qr(8,32,128,256,qi),new qr(32,128,258,1024,qi),new qr(32,258,258,4096,qi)];class P6{constructor(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ar(1146),this.dyn_dtree=new ar(122),this.bl_tree=new ar(78),Fn(this.dyn_ltree),Fn(this.dyn_dtree),Fn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ar(16),this.heap=new ar(573),Fn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ar(573),Fn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}}function T6(t,e){let r,n,i,a;if(!t||!t.state||e>5||e<0)return t?On(t,-2):-2;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||666===n.status&&4!==e)return On(t,0===t.avail_out?-5:-2);if(n.strm=t,r=n.last_flush,n.last_flush=e,42===n.status)if(2===n.wrap)t.adler=0,Qe(n,31),Qe(n,139),Qe(n,8),n.gzhead?(Qe(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Qe(n,255&n.gzhead.time),Qe(n,n.gzhead.time>>8&255),Qe(n,n.gzhead.time>>16&255),Qe(n,n.gzhead.time>>24&255),Qe(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),Qe(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Qe(n,255&n.gzhead.extra.length),Qe(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=_t(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(Qe(n,0),Qe(n,0),Qe(n,0),Qe(n,0),Qe(n,0),Qe(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),Qe(n,3),n.status=113);else{let o=8+(n.w_bits-8<<4)<<8,u=-1;u=n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3,o|=u<<6,0!==n.strstart&&(o|=32),o+=31-o%31,n.status=113,Ra(n,o),0!==n.strstart&&(Ra(n,t.adler>>>16),Ra(n,65535&t.adler)),t.adler=1}if(69===n.status)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(t.adler=_t(t.adler,n.pending_buf,n.pending-i,i)),zn(t),i=n.pending,n.pending!==n.pending_buf_size));)Qe(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(t.adler=_t(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=_t(t.adler,n.pending_buf,n.pending-i,i)),zn(t),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}a=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Qe(n,a)}while(0!==a);n.gzhead.hcrc&&n.pending>i&&(t.adler=_t(t.adler,n.pending_buf,n.pending-i,i)),0===a&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=_t(t.adler,n.pending_buf,n.pending-i,i)),zn(t),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}a=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Qe(n,a)}while(0!==a);n.gzhead.hcrc&&n.pending>i&&(t.adler=_t(t.adler,n.pending_buf,n.pending-i,i)),0===a&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&zn(t),n.pending+2<=n.pending_buf_size&&(Qe(n,255&t.adler),Qe(n,t.adler>>8&255),t.adler=0,n.status=113)):n.status=113),0!==n.pending){if(zn(t),0===t.avail_out)return n.last_flush=-1,0}else if(0===t.avail_in&&Eh(e)<=Eh(r)&&4!==e)return On(t,-5);if(666===n.status&&0!==t.avail_in)return On(t,-5);if(0!==t.avail_in||0!==n.lookahead||0!==e&&666!==n.status){var s=2===n.strategy?function(o,u){let c;for(;;){if(0===o.lookahead&&(hi(o),0===o.lookahead)){if(0===u)return 1;break}if(o.match_length=0,c=Bn(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++,c&&(xt(o,!1),0===o.strm.avail_out))return 1}return o.insert=0,4===u?(xt(o,!0),0===o.strm.avail_out?3:4):o.last_lit&&(xt(o,!1),0===o.strm.avail_out)?1:2}(n,e):3===n.strategy?function(o,u){let c,l,d,y;const g=o.window;for(;;){if(o.lookahead<=258){if(hi(o),o.lookahead<=258&&0===u)return 1;if(0===o.lookahead)break}if(o.match_length=0,o.lookahead>=3&&o.strstart>0&&(d=o.strstart-1,l=g[d],l===g[++d]&&l===g[++d]&&l===g[++d])){y=o.strstart+258;do{}while(l===g[++d]&&l===g[++d]&&l===g[++d]&&l===g[++d]&&l===g[++d]&&l===g[++d]&&l===g[++d]&&l===g[++d]&&d<y);o.match_length=258-(y-d),o.match_length>o.lookahead&&(o.match_length=o.lookahead)}if(o.match_length>=3?(c=Bn(o,1,o.match_length-3),o.lookahead-=o.match_length,o.strstart+=o.match_length,o.match_length=0):(c=Bn(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++),c&&(xt(o,!1),0===o.strm.avail_out))return 1}return o.insert=0,4===u?(xt(o,!0),0===o.strm.avail_out?3:4):o.last_lit&&(xt(o,!1),0===o.strm.avail_out)?1:2}(n,e):Ka[n.level].func(n,e);if(3!==s&&4!==s||(n.status=666),1===s||3===s)return 0===t.avail_out&&(n.last_flush=-1),0;if(2===s&&(1===e?function(t){var e;Wt(t,2,3),Vr(t,256,fn),16===(e=t).bi_valid?(Ta(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(n):5!==e&&(xh(n,0,0,!1),3===e&&(Fn(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),zn(t),0===t.avail_out))return n.last_flush=-1,0}return 4!==e?0:n.wrap<=0?1:(2===n.wrap?(Qe(n,255&t.adler),Qe(n,t.adler>>8&255),Qe(n,t.adler>>16&255),Qe(n,t.adler>>24&255),Qe(n,255&t.total_in),Qe(n,t.total_in>>8&255),Qe(n,t.total_in>>16&255),Qe(n,t.total_in>>24&255)):(Ra(n,t.adler>>>16),Ra(n,65535&t.adler)),zn(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?0:1)}try{String.fromCharCode.call(null,0)}catch(t){}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){}const Pu=new Fr(256);for(let t=0;t<256;t++)Pu[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;function Du(t){let e,r,n,i,a=0;const s=t.length;for(n=0;n<s;n++)e=t.charCodeAt(n),55296==(64512&e)&&n+1<s&&(r=t.charCodeAt(n+1),56320==(64512&r)&&(e=65536+(e-55296<<10)+(r-56320),n++)),a+=e<128?1:e<2048?2:e<65536?3:4;const o=new Fr(a);for(i=0,n=0;i<a;n++)e=t.charCodeAt(n),55296==(64512&e)&&n+1<s&&(r=t.charCodeAt(n+1),56320==(64512&r)&&(e=65536+(e-55296<<10)+(r-56320),n++)),e<128?o[i++]=e:e<2048?(o[i++]=192|e>>>6,o[i++]=128|63&e):e<65536?(o[i++]=224|e>>>12,o[i++]=128|e>>>6&63,o[i++]=128|63&e):(o[i++]=240|e>>>18,o[i++]=128|e>>>12&63,o[i++]=128|e>>>6&63,o[i++]=128|63&e);return o}Pu[254]=Pu[254]=1;class Mh{constructor(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}}class Tu{constructor(e){this.options=Be({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0},e||{});const r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Mh,this.strm.avail_out=0;var n,a=function(s,o,u,c,l,d){if(!s)return-2;let y=1;if(-1===o&&(o=6),c<0?(y=0,c=-c):c>15&&(y=2,c-=16),l<1||l>9||8!==u||c<8||c>15||o<0||o>9||d<0||d>4)return On(s,-2);8===c&&(c=9);const g=new P6;return s.state=g,g.strm=s,g.wrap=y,g.gzhead=null,g.w_bits=c,g.w_size=1<<g.w_bits,g.w_mask=g.w_size-1,g.hash_bits=l+7,g.hash_size=1<<g.hash_bits,g.hash_mask=g.hash_size-1,g.hash_shift=~~((g.hash_bits+3-1)/3),g.window=new Fr(2*g.w_size),g.head=new ar(g.hash_size),g.prev=new ar(g.w_size),g.lit_bufsize=1<<l+6,g.pending_buf_size=4*g.lit_bufsize,g.pending_buf=new Fr(g.pending_buf_size),g.d_buf=1*g.lit_bufsize,g.l_buf=3*g.lit_bufsize,g.level=o,g.strategy=d,g.method=u,function(t){const e=function(r){let n;return r&&r.state?(r.total_in=r.total_out=0,r.data_type=2,n=r.state,n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap?42:113,r.adler=2===n.wrap?0:1,n.last_flush=0,function(t){Sh||(function(){let e,r,n,i,a;const s=Array(16);for(n=0,i=0;i<28;i++)for(ku[i]=n,e=0;e<1<<Au[i];e++)Da[n++]=i;for(Da[n-1]=i,a=0,i=0;i<16;i++)for(Js[i]=a,e=0;e<1<<Ys[i];e++)Pa[a++]=i;for(a>>=7;i<30;i++)for(Js[i]=a<<7,e=0;e<1<<Ys[i]-7;e++)Pa[256+a++]=i;for(r=0;r<=15;r++)s[r]=0;for(e=0;e<=143;)fn[2*e+1]=8,e++,s[8]++;for(;e<=255;)fn[2*e+1]=9,e++,s[9]++;for(;e<=279;)fn[2*e+1]=7,e++,s[7]++;for(;e<=287;)fn[2*e+1]=8,e++,s[8]++;for(mh(fn,287,s),e=0;e<30;e++)Ma[2*e+1]=5,Ma[2*e]=gh(e,5);hh=new Su(fn,Au,257,286,15),fh=new Su(Ma,Ys,0,30,15),ph=new Su([],k6,0,19,7)}(),Sh=!0),t.l_desc=new xu(t.dyn_ltree,hh),t.d_desc=new xu(t.dyn_dtree,fh),t.bl_desc=new xu(t.bl_tree,ph),t.bi_buf=0,t.bi_valid=0,bh(t)}(n),0):On(r,-2)}(t);return 0===e&&((r=t.state).window_size=2*r.w_size,Fn(r.head),r.max_lazy_match=Ka[r.level].max_lazy,r.good_match=Ka[r.level].good_length,r.nice_match=Ka[r.level].nice_length,r.max_chain_length=Ka[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),e;var r}(s)}(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(0!==a)throw Error(Ua[a]);if(r.header&&(n=this.strm)&&n.state&&(2!==n.state.wrap||(n.state.gzhead=r.header)),r.dictionary){let s;if(s="string"==typeof r.dictionary?Du(r.dictionary):r.dictionary instanceof ArrayBuffer?new Uint8Array(r.dictionary):r.dictionary,0!==(a=function(o,u){let c,l,d,y,g,k,D,T,Y=u.length;if(!o||!o.state||(c=o.state,y=c.wrap,2===y||1===y&&42!==c.status||c.lookahead))return-2;for(1===y&&(o.adler=Ia(o.adler,u,Y,0)),c.wrap=0,Y>=c.w_size&&(0===y&&(Fn(c.head),c.strstart=0,c.block_start=0,c.insert=0),T=new Fr(c.w_size),zr(T,u,Y-c.w_size,c.w_size,0),u=T,Y=c.w_size),g=o.avail_in,k=o.next_in,D=o.input,o.avail_in=Y,o.next_in=0,o.input=u,hi(c);c.lookahead>=3;){l=c.strstart,d=c.lookahead-2;do{c.ins_h=(c.ins_h<<c.hash_shift^c.window[l+3-1])&c.hash_mask,c.prev[l&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=l,l++}while(--d);c.strstart=l,c.lookahead=2,hi(c)}return c.strstart+=c.lookahead,c.block_start=c.strstart,c.insert=c.lookahead,c.lookahead=0,c.match_length=c.prev_length=2,c.match_available=0,o.next_in=k,o.input=D,o.avail_in=g,c.wrap=y,0}(this.strm,s)))throw Error(Ua[a]);this._dict_set=!0}}push(e,r){const{strm:n,options:{chunkSize:i}}=this;var a,s;if(this.ended)return!1;s=r===~~r?r:!0===r?4:0,n.input="string"==typeof e?Du(e):e instanceof ArrayBuffer?new Uint8Array(e):e,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new Fr(i),n.next_out=0,n.avail_out=i),1!==(a=T6(n,s))&&0!==a)return this.onEnd(a),this.ended=!0,!1;0!==n.avail_out&&(0!==n.avail_in||4!==s&&2!==s)||this.onData(oh(n.output,n.next_out))}while((n.avail_in>0||0===n.avail_out)&&1!==a);return 4===s?(a=function(o){let u;return o&&o.state?(u=o.state.status,42!==u&&69!==u&&73!==u&&91!==u&&103!==u&&113!==u&&666!==u?On(o,-2):(o.state=null,113===u?On(o,-3):0)):-2}(this.strm),this.onEnd(a),this.ended=!0,0===a):2!==s||(this.onEnd(0),n.avail_out=0,!0)}onData(e){this.chunks.push(e)}onEnd(e){0===e&&(this.result=lh(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}}function I6(t,e){let r,n,i,a,s,o,u,c,l,d;const y=t.state;r=t.next_in;const g=t.input,k=r+(t.avail_in-5);n=t.next_out;const D=t.output,T=n-(e-t.avail_out),Y=n+(t.avail_out-257),J=y.dmax,j=y.wsize,U=y.whave,ie=y.wnext,X=y.window;i=y.hold,a=y.bits;const ee=y.lencode,h=y.distcode,b=(1<<y.lenbits)-1,A=(1<<y.distbits)-1;e:do{a<15&&(i+=g[r++]<<a,a+=8,i+=g[r++]<<a,a+=8),s=ee[i&b];t:for(;;){if(o=s>>>24,i>>>=o,a-=o,o=s>>>16&255,0===o)D[n++]=65535&s;else{if(!(16&o)){if(0==(64&o)){s=ee[(65535&s)+(i&(1<<o)-1)];continue t}if(32&o){y.mode=12;break e}t.msg="invalid literal/length code",y.mode=30;break e}u=65535&s,o&=15,o&&(a<o&&(i+=g[r++]<<a,a+=8),u+=i&(1<<o)-1,i>>>=o,a-=o),a<15&&(i+=g[r++]<<a,a+=8,i+=g[r++]<<a,a+=8),s=h[i&A];r:for(;;){if(o=s>>>24,i>>>=o,a-=o,o=s>>>16&255,!(16&o)){if(0==(64&o)){s=h[(65535&s)+(i&(1<<o)-1)];continue r}t.msg="invalid distance code",y.mode=30;break e}if(c=65535&s,o&=15,a<o&&(i+=g[r++]<<a,a+=8,a<o&&(i+=g[r++]<<a,a+=8)),c+=i&(1<<o)-1,c>J){t.msg="invalid distance too far back",y.mode=30;break e}if(i>>>=o,a-=o,o=n-T,c>o){if(o=c-o,o>U&&y.sane){t.msg="invalid distance too far back",y.mode=30;break e}if(l=0,d=X,0===ie){if(l+=j-o,o<u){u-=o;do{D[n++]=X[l++]}while(--o);l=n-c,d=D}}else if(ie<o){if(l+=j+ie-o,o-=ie,o<u){u-=o;do{D[n++]=X[l++]}while(--o);if(l=0,ie<u){o=ie,u-=o;do{D[n++]=X[l++]}while(--o);l=n-c,d=D}}}else if(l+=ie-o,o<u){u-=o;do{D[n++]=X[l++]}while(--o);l=n-c,d=D}for(;u>2;)D[n++]=d[l++],D[n++]=d[l++],D[n++]=d[l++],u-=3;u&&(D[n++]=d[l++],u>1&&(D[n++]=d[l++]))}else{l=n-c;do{D[n++]=D[l++],D[n++]=D[l++],D[n++]=D[l++],u-=3}while(u>2);u&&(D[n++]=D[l++],u>1&&(D[n++]=D[l++]))}break}}break}}while(r<k&&n<Y);u=a>>3,r-=u,a-=u<<3,i&=(1<<a)-1,t.next_in=r,t.next_out=n,t.avail_in=r<k?k-r+5:5-(r-k),t.avail_out=n<Y?Y-n+257:257-(n-Y),y.hold=i,y.bits=a}const U6=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],R6=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],K6=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],B6=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function Ba(t,e,r,n,i,a,s,o){const u=o.bits;let c,l,d,y,g,k=0,D=0,T=0,Y=0,J=0,j=0,U=0,ie=0,X=0,ee=0,h=null,b=0;const A=new ar(16),v=new ar(16);let m,E,$,H=null,ce=0;for(k=0;k<=15;k++)A[k]=0;for(D=0;D<n;D++)A[e[r+D]]++;for(J=u,Y=15;Y>=1&&0===A[Y];Y--);if(J>Y&&(J=Y),0===Y)return i[a++]=20971520,i[a++]=20971520,o.bits=1,0;for(T=1;T<Y&&0===A[T];T++);for(J<T&&(J=T),ie=1,k=1;k<=15;k++)if(ie<<=1,ie-=A[k],ie<0)return-1;if(ie>0&&(0===t||1!==Y))return-1;for(v[1]=0,k=1;k<15;k++)v[k+1]=v[k]+A[k];for(D=0;D<n;D++)0!==e[r+D]&&(s[v[e[r+D]]++]=D);0===t?(h=H=s,g=19):1===t?(h=U6,b-=257,H=R6,ce-=257,g=256):(h=K6,H=B6,g=-1),ee=0,D=0,k=T,y=a,j=J,U=0,d=-1,X=1<<J;const F=X-1;if(1===t&&X>852||2===t&&X>592)return 1;for(;;){m=k-U,s[D]<g?(E=0,$=s[D]):s[D]>g?(E=H[ce+s[D]],$=h[b+s[D]]):(E=96,$=0),c=1<<k-U,l=1<<j,T=l;do{l-=c,i[y+(ee>>U)+l]=m<<24|E<<16|$|0}while(0!==l);for(c=1<<k-1;ee&c;)c>>=1;if(0!==c?(ee&=c-1,ee+=c):ee=0,D++,0==--A[k]){if(k===Y)break;k=e[r+s[D]]}if(k>J&&(ee&F)!==d){for(0===U&&(U=J),y+=T,j=k-U,ie=1<<j;j+U<Y&&(ie-=A[j+U],!(ie<=0));)j++,ie<<=1;if(X+=1<<j,1===t&&X>852||2===t&&X>592)return 1;d=ee&F,i[d]=J<<24|j<<16|y-a|0}}return 0!==ee&&(i[y+ee]=k-U<<24|64<<16|0),o.bits=J,0}function Ph(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}class O6{constructor(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new ar(320),this.work=new ar(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}}let Iu,Uu,Dh=!0;function V6(t){if(Dh){let e;for(Iu=new $s(512),Uu=new $s(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ba(1,t.lens,0,288,Iu,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ba(2,t.lens,0,32,Uu,0,t.work,{bits:5}),Dh=!1}t.lencode=Iu,t.lenbits=9,t.distcode=Uu,t.distbits=5}function Th(t,e,r,n){let i;const a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Fr(a.wsize)),n>=a.wsize?(zr(a.window,e,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),zr(a.window,e,r-n,i,a.wnext),(n-=i)?(zr(a.window,e,r-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function q6(t,e){let r,n,i,a,s,o,u,c,l,d,y,g,k,D,T,Y,J,j,U,ie,X,ee,h,b,A=0,v=new Fr(4);const m=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;r=t.state,12===r.mode&&(r.mode=13),s=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,c=r.hold,l=r.bits,d=o,y=u,ee=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}if(2&r.wrap&&35615===c){r.check=0,v[0]=255&c,v[1]=c>>>8&255,r.check=_t(r.check,v,2,0),c=0,l=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=30;break}if(8!=(15&c)){t.msg="unknown compression method",r.mode=30;break}if(c>>>=4,l-=4,X=8+(15&c),0===r.wbits)r.wbits=X;else if(X>r.wbits){t.msg="invalid window size",r.mode=30;break}r.dmax=1<<X,t.adler=r.check=1,r.mode=512&c?10:12,c=0,l=0;break;case 2:for(;l<16;){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}if(r.flags=c,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&(v[0]=255&c,v[1]=c>>>8&255,r.check=_t(r.check,v,2,0)),c=0,l=0,r.mode=3;case 3:for(;l<32;){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}r.head&&(r.head.time=c),512&r.flags&&(v[0]=255&c,v[1]=c>>>8&255,v[2]=c>>>16&255,v[3]=c>>>24&255,r.check=_t(r.check,v,4,0)),c=0,l=0,r.mode=4;case 4:for(;l<16;){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&(v[0]=255&c,v[1]=c>>>8&255,r.check=_t(r.check,v,2,0)),c=0,l=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&(v[0]=255&c,v[1]=c>>>8&255,r.check=_t(r.check,v,2,0)),c=0,l=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(g=r.length,g>o&&(g=o),g&&(r.head&&(X=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),zr(r.head.extra,n,a,g,X)),512&r.flags&&(r.check=_t(r.check,n,g,a)),o-=g,a+=g,r.length-=g),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break e;g=0;do{X=n[a+g++],r.head&&X&&r.length<65536&&(r.head.name+=String.fromCharCode(X))}while(X&&g<o);if(512&r.flags&&(r.check=_t(r.check,n,g,a)),o-=g,a+=g,X)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break e;g=0;do{X=n[a+g++],r.head&&X&&r.length<65536&&(r.head.comment+=String.fromCharCode(X))}while(X&&g<o);if(512&r.flags&&(r.check=_t(r.check,n,g,a)),o-=g,a+=g,X)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}if(c!==(65535&r.check)){t.msg="header crc mismatch",r.mode=30;break}c=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;l<32;){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}t.adler=r.check=Ph(c),c=0,l=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=l,2;t.adler=r.check=1,r.mode=12;case 12:if(5===e||6===e)break e;case 13:if(r.last){c>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}switch(r.last=1&c,c>>>=1,l-=1,3&c){case 0:r.mode=14;break;case 1:if(V6(r),r.mode=20,6===e){c>>>=2,l-=2;break e}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=30}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&c,c=0,l=0,r.mode=15,6===e)break e;case 15:r.mode=16;case 16:if(g=r.length,g){if(g>o&&(g=o),g>u&&(g=u),0===g)break e;zr(i,n,a,g,s),o-=g,a+=g,u-=g,s+=g,r.length-=g;break}r.mode=12;break;case 17:for(;l<14;){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}if(r.nlen=257+(31&c),c>>>=5,l-=5,r.ndist=1+(31&c),c>>>=5,l-=5,r.ncode=4+(15&c),c>>>=4,l-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}r.lens[m[r.have++]]=7&c,c>>>=3,l-=3}for(;r.have<19;)r.lens[m[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,h={bits:r.lenbits},ee=Ba(0,r.lens,0,19,r.lencode,0,r.work,h),r.lenbits=h.bits,ee){t.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;A=r.lencode[c&(1<<r.lenbits)-1],T=A>>>24,Y=A>>>16&255,J=65535&A,!(T<=l);){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}if(J<16)c>>>=T,l-=T,r.lens[r.have++]=J;else{if(16===J){for(b=T+2;l<b;){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}if(c>>>=T,l-=T,0===r.have){t.msg="invalid bit length repeat",r.mode=30;break}X=r.lens[r.have-1],g=3+(3&c),c>>>=2,l-=2}else if(17===J){for(b=T+3;l<b;){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}c>>>=T,l-=T,X=0,g=3+(7&c),c>>>=3,l-=3}else{for(b=T+7;l<b;){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}c>>>=T,l-=T,X=0,g=11+(127&c),c>>>=7,l-=7}if(r.have+g>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=30;break}for(;g--;)r.lens[r.have++]=X}}if(30===r.mode)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,h={bits:r.lenbits},ee=Ba(1,r.lens,0,r.nlen,r.lencode,0,r.work,h),r.lenbits=h.bits,ee){t.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,h={bits:r.distbits},ee=Ba(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,h),r.distbits=h.bits,ee){t.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===e)break e;case 20:r.mode=21;case 21:if(o>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=l,I6(t,y),s=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,c=r.hold,l=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;A=r.lencode[c&(1<<r.lenbits)-1],T=A>>>24,Y=A>>>16&255,J=65535&A,!(T<=l);){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}if(Y&&0==(240&Y)){for(j=T,U=Y,ie=J;A=r.lencode[ie+((c&(1<<j+U)-1)>>j)],T=A>>>24,Y=A>>>16&255,J=65535&A,!(j+T<=l);){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}c>>>=j,l-=j,r.back+=j}if(c>>>=T,l-=T,r.back+=T,r.length=J,0===Y){r.mode=26;break}if(32&Y){r.back=-1,r.mode=12;break}if(64&Y){t.msg="invalid literal/length code",r.mode=30;break}r.extra=15&Y,r.mode=22;case 22:if(r.extra){for(b=r.extra;l<b;){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;A=r.distcode[c&(1<<r.distbits)-1],T=A>>>24,Y=A>>>16&255,J=65535&A,!(T<=l);){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}if(0==(240&Y)){for(j=T,U=Y,ie=J;A=r.distcode[ie+((c&(1<<j+U)-1)>>j)],T=A>>>24,Y=A>>>16&255,J=65535&A,!(j+T<=l);){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}c>>>=j,l-=j,r.back+=j}if(c>>>=T,l-=T,r.back+=T,64&Y){t.msg="invalid distance code",r.mode=30;break}r.offset=J,r.extra=15&Y,r.mode=24;case 24:if(r.extra){for(b=r.extra;l<b;){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===u)break e;if(g=y-u,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=30;break}g>r.wnext?(g-=r.wnext,k=r.wsize-g):k=r.wnext-g,g>r.length&&(g=r.length),D=r.window}else D=i,k=s-r.offset,g=r.length;g>u&&(g=u),u-=g,r.length-=g;do{i[s++]=D[k++]}while(--g);0===r.length&&(r.mode=21);break;case 26:if(0===u)break e;i[s++]=r.length,u--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===o)break e;o--,c|=n[a++]<<l,l+=8}if(y-=u,t.total_out+=y,r.total+=y,y&&(t.adler=r.check=r.flags?_t(r.check,i,y,s-y):Ia(r.check,i,y,s-y)),y=u,(r.flags?c:Ph(c))!==r.check){t.msg="incorrect data check",r.mode=30;break}c=0,l=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break e;o--,c+=n[a++]<<l,l+=8}if(c!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=30;break}c=0,l=0}r.mode=29;case 29:ee=1;break e;case 30:ee=-3;break e;default:return-2}return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=l,(r.wsize||y!==t.avail_out&&r.mode<30&&(r.mode<27||4!==e))&&Th(t,t.output,t.next_out,y-t.avail_out),d-=t.avail_in,y-=t.avail_out,t.total_in+=d,t.total_out+=y,r.total+=y,r.wrap&&y&&(t.adler=r.check=r.flags?_t(r.check,i,y,t.next_out-y):Ia(r.check,i,y,t.next_out-y)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===d&&0===y||4===e)&&0===ee&&(ee=-5),ee}function Ih(t,e){const r=e.length;let n,i;return t&&t.state?(n=t.state,0!==n.wrap&&11!==n.mode?-2:11===n.mode&&(i=1,i=Ia(i,e,r,0),i!==n.check)?-3:(Th(t,e,r,r),n.havedict=1,0)):-2}class N6{constructor(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}class Uh{constructor(e){this.options=Be({chunkSize:16384,windowBits:0},e||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,0===r.windowBits&&(r.windowBits=-15)),!(r.windowBits>=0&&r.windowBits<16)||e&&e.windowBits||(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&0==(15&r.windowBits)&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Mh,this.strm.avail_out=0;let n=function(t,e){let r,n;return t?(n=new O6,t.state=n,n.window=null,r=function(i,a){let s,o;return i&&i.state?(o=i.state,a<0?(s=0,a=-a):(s=1+(a>>4),a<48&&(a&=15)),a&&(a<8||a>15)?-2:(null!==o.window&&o.wbits!==a&&(o.window=null),o.wrap=s,o.wbits=a,function(t){let e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,function(r){let n;return r&&r.state?(n=r.state,r.total_in=r.total_out=n.total=0,r.msg="",n.wrap&&(r.adler=1&n.wrap),n.mode=1,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new $s(852),n.distcode=n.distdyn=new $s(592),n.sane=1,n.back=-1,0):-2}(t)):-2}(i))):-2}(t,e),0!==r&&(t.state=null),r):-2}(this.strm,r.windowBits);if(0!==n||(this.header=new N6,function(i,a){let s;i&&i.state&&(s=i.state,0==(2&s.wrap)||(s.head=a,a.done=!1))}(this.strm,this.header),r.dictionary&&("string"==typeof r.dictionary?r.dictionary=Du(r.dictionary):r.dictionary instanceof ArrayBuffer&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(n=Ih(this.strm,r.dictionary),0!==n))))throw Error(Ua[n])}push(e,r){const{strm:n,options:{chunkSize:i,dictionary:a}}=this;let s,o,u=!1;if(this.ended)return!1;o=r===~~r?r:!0===r?4:0,n.input="string"==typeof e?function(c){const l=new Fr(c.length);for(let d=0,y=l.length;d<y;d++)l[d]=c.charCodeAt(d);return l}(e):e instanceof ArrayBuffer?new Uint8Array(e):e,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new Fr(i),n.next_out=0,n.avail_out=i),s=q6(n,0),2===s&&a&&(s=Ih(this.strm,a)),-5===s&&!0===u&&(s=0,u=!1),1!==s&&0!==s)return this.onEnd(s),this.ended=!0,!1;n.next_out&&(0!==n.avail_out&&1!==s&&(0!==n.avail_in||4!==o&&2!==o)||this.onData(oh(n.output,n.next_out))),0===n.avail_in&&0===n.avail_out&&(u=!0)}while((n.avail_in>0||0===n.avail_out)&&1!==s);return 1===s&&(o=4),4===o?(s=function(c){if(!c||!c.state)return-2;const l=c.state;return l.window&&(l.window=null),c.state=null,0}(this.strm),this.onEnd(s),this.ended=!0,0===s):2!==o||(this.onEnd(0),n.avail_out=0,!0)}onData(e){this.chunks.push(e)}onEnd(e){0===e&&(this.result=lh(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}}var Rh=[0,1,3,7,15,31,63,127,255],Oa=function(t){this.stream=t,this.bitOffset=0,this.curByte=0,this.hasByte=!1};Oa.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)},Oa.prototype.read=function(t){for(var e=0;t>0;){this._ensureByte();var r=8-this.bitOffset;if(t>=r)e<<=r,e|=Rh[r]&this.curByte,this.hasByte=!1,this.bitOffset=0,t-=r;else{e<<=t;var n=r-t;e|=(this.curByte&Rh[t]<<n)>>n,this.bitOffset+=t,t=0}}return e},Oa.prototype.seek=function(t){var e=t%8,r=(t-e)/8;this.bitOffset=e,this.stream.seek(r),this.hasByte=!1},Oa.prototype.pi=function(){var t,e=new Uint8Array(6);for(t=0;t<e.length;t++)e[t]=this.read(8);return Array.prototype.map.call(e,n=>("00"+n.toString(16)).slice(-2)).join("")};var j6=Oa,fi=function(){};fi.prototype.readByte=function(){throw Error("abstract method readByte() not implemented")},fi.prototype.read=function(t,e,r){for(var n=0;n<r;){var i=this.readByte();if(i<0)return 0===n?-1:n;t[e++]=i,n++}return n},fi.prototype.seek=function(t){throw Error("abstract method seek() not implemented")},fi.prototype.writeByte=function(t){throw Error("abstract method readByte() not implemented")},fi.prototype.write=function(t,e,r){var n;for(n=0;n<r;n++)this.writeByte(t[e++]);return r},fi.prototype.flush=function(){};var Ru,Kh=fi,L6=(Ru=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),function(){var t=4294967295;this.getCRC=function(){return~t>>>0},this.updateCRC=function(e){t=t<<8^Ru[255&(t>>>24^e)]},this.updateCRCRun=function(e,r){for(;r-- >0;)t=t<<8^Ru[255&(t>>>24^e)]}}),Bh=function(t,e){var r,n=t[e];for(r=e;r>0;r--)t[r]=t[r-1];return t[0]=n,n},Vn={"-1":"Bad file checksum","-2":"Not bzip data","-3":"Unexpected input EOF","-4":"Unexpected output EOF","-5":"Data error","-6":"Out of memory","-7":"Obsolete (pre 0.9.5) bzip format not supported."},Et=function(t,e){var r=Vn[t]||"unknown error";e&&(r+=": "+e);var n=new TypeError(r);throw n.errorCode=t,n},Fa=function(t,e){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(t,e)};Fa.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new L6,!0):(this.writeCount=-1,!1)},Fa.prototype._start_bunzip=function(t,e){var r=new Uint8Array(4);4===t.read(r,0,4)&&"BZh"===String.fromCharCode(r[0],r[1],r[2])||Et(-2,"bad magic");var n=r[3]-48;(n<1||n>9)&&Et(-2,"level out of range"),this.reader=new j6(t),this.dbufSize=1e5*n,this.nextoutput=0,this.outputStream=e,this.streamCRC=0},Fa.prototype._get_next_block=function(){var t,e,r,n=this.reader,i=n.pi();if("177245385090"===i)return!1;"314159265359"!==i&&Et(-2),this.targetBlockCRC=n.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,n.read(1)&&Et(-7);var a=n.read(24);a>this.dbufSize&&Et(-5,"initial position out of bounds");var s=n.read(16),o=new Uint8Array(256),u=0;for(t=0;t<16;t++)if(s&1<<15-t){var c=16*t;for(r=n.read(16),e=0;e<16;e++)r&1<<15-e&&(o[u++]=c+e)}var l=n.read(3);(l<2||l>6)&&Et(-5);var d=n.read(15);0===d&&Et(-5);var y=new Uint8Array(256);for(t=0;t<l;t++)y[t]=t;var g=new Uint8Array(d);for(t=0;t<d;t++){for(e=0;n.read(1);e++)e>=l&&Et(-5);g[t]=Bh(y,e)}var k,D=u+2,T=[];for(e=0;e<l;e++){var Y,J,j=new Uint8Array(D),U=new Uint16Array(21);for(s=n.read(5),t=0;t<D;t++){for(;(s<1||s>20)&&Et(-5),n.read(1);)n.read(1)?s--:s++;j[t]=s}for(Y=J=j[0],t=1;t<D;t++)j[t]>J?J=j[t]:j[t]<Y&&(Y=j[t]);T.push(k={}),k.permute=new Uint16Array(258),k.limit=new Uint32Array(22),k.base=new Uint32Array(21),k.minLen=Y,k.maxLen=J;var ie=0;for(t=Y;t<=J;t++)for(U[t]=k.limit[t]=0,s=0;s<D;s++)j[s]===t&&(k.permute[ie++]=s);for(t=0;t<D;t++)U[j[t]]++;for(ie=s=0,t=Y;t<J;t++)k.limit[t]=(ie+=U[t])-1,k.base[t+1]=(ie<<=1)-(s+=U[t]);k.limit[J+1]=Number.MAX_VALUE,k.limit[J]=ie+U[J]-1,k.base[Y]=0}var X=new Uint32Array(256);for(t=0;t<256;t++)y[t]=t;var ee,h=0,b=0,A=0,v=this.dbuf=new Uint32Array(this.dbufSize);for(D=0;;){for(D--||(D=49,A>=d&&Et(-5),k=T[g[A++]]),e=n.read(t=k.minLen);t>k.maxLen&&Et(-5),!(e<=k.limit[t]);t++)e=e<<1|n.read(1);((e-=k.base[t])<0||e>=258)&&Et(-5);var m=k.permute[e];if(0!==m&&1!==m){if(h)for(h=0,b+s>this.dbufSize&&Et(-5),X[ee=o[y[0]]]+=s;s--;)v[b++]=ee;if(m>u)break;b>=this.dbufSize&&Et(-5),X[ee=o[ee=Bh(y,t=m-1)]]++,v[b++]=ee}else h||(h=1,s=0),s+=0===m?h:2*h,h<<=1}for((a<0||a>=b)&&Et(-5),e=0,t=0;t<256;t++)r=e+X[t],X[t]=e,e=r;for(t=0;t<b;t++)v[X[ee=255&v[t]]]|=t<<8,X[ee]++;var E=0,$=0,H=0;return b&&($=255&(E=v[a]),E>>=8,H=-1),this.writePos=E,this.writeCurrent=$,this.writeCount=b,this.writeRun=H,!0},Fa.prototype._read_bunzip=function(t,e){var r,n,i;if(this.writeCount<0)return 0;for(var a=this.dbuf,s=this.writePos,o=this.writeCurrent,u=this.writeCount,c=this.writeRun;u;){for(u--,n=o,o=255&(s=a[s]),s>>=8,3==c++?(r=o,i=n,o=-1):(r=1,i=o),this.blockCRC.updateCRCRun(i,r);r--;)this.outputStream.writeByte(i),this.nextoutput++;o!=n&&(c=0)}return this.writeCount=u,this.blockCRC.getCRC()!==this.targetBlockCRC&&Et(-5,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var Oh=function(t,e,r){for(var n=function(t){if("readByte"in t)return t;var e=new Kh;return e.pos=0,e.readByte=function(){return t[this.pos++]},e.seek=function(r){this.pos=r},e.eof=function(){return this.pos>=t.length},e}(t),i=function(t){var e=new Kh,r=!0;if(t)if("number"==typeof t)e.buffer=new Uint8Array(t),r=!1;else{if("writeByte"in t)return t;e.buffer=t,r=!1}else e.buffer=new Uint8Array(16384);return e.pos=0,e.writeByte=function(n){if(r&&this.pos>=this.buffer.length){var i=new Uint8Array(2*this.buffer.length);i.set(this.buffer),this.buffer=i}this.buffer[this.pos++]=n},e.getBuffer=function(){if(this.pos!==this.buffer.length){if(!r)throw new TypeError("outputsize does not match decoded input");var n=new Uint8Array(this.pos);n.set(this.buffer.subarray(0,this.pos)),this.buffer=n}return this.buffer},e._coerced=!0,e}(e),a=new Fa(n,i);!("eof"in n)||!n.eof();)if(a._init_block())a._read_bunzip();else{var s=a.reader.read(32)>>>0;if(s!==a.streamCRC&&Et(-5,"Bad stream CRC (got "+a.streamCRC.toString(16)+" expected "+s.toString(16)+")"),!r||!("eof"in n)||n.eof())break;a._start_bunzip(n,i)}if("getBuffer"in i)return i.getBuffer()};class qn{static get tag(){return _.packet.literalData}constructor(e=new Date){this.format="utf8",this.date=C.normalizeDate(e),this.text=null,this.data=null,this.filename=""}setText(e,r="utf8"){this.format=r,this.text=e,this.data=null}getText(e=!1){return(null===this.text||C.isStream(this.text))&&(this.text=C.decodeUTF8(C.nativeEOL(this.getBytes(e)))),this.text}setBytes(e,r){this.format=r,this.data=e,this.text=null}getBytes(e=!1){return null===this.data&&(this.data=C.canonicalizeEOL(C.encodeUTF8(this.text))),e?Ti(this.data):this.data}setFilename(e){this.filename=e}getFilename(){return this.filename}read(e){var r=this;return L(function*(){yield Ss(e,function(){var n=L(function*(i){const a=_.read(_.literal,yield i.readByte()),s=yield i.readByte();r.filename=C.decodeUTF8(yield i.readBytes(s)),r.date=C.readDate(yield i.readBytes(4));let o=i.remainder();dt(o)&&(o=yield ht(o)),r.setBytes(o,a)});return function(i){return n.apply(this,arguments)}}())})()}writeHeader(){const e=C.encodeUTF8(this.filename),r=new Uint8Array([e.length]),n=new Uint8Array([_.write(_.literal,this.format)]),i=C.writeDate(this.date);return C.concatUint8Array([n,r,e,i])}write(){const e=this.writeHeader(),r=this.getBytes();return C.concat([e,r])}}function Fh(t){let e,r=0;const n=t[0];return n<192?([r]=t,e=1):n<255?(r=(t[0]-192<<8)+t[1]+192,e=2):255===n&&(r=C.readNumber(t.subarray(1,5)),e=5),{len:r,offset:e}}function za(t){return t<192?new Uint8Array([t]):t>191&&t<8384?new Uint8Array([192+(t-192>>8),t-192&255]):C.concatUint8Array([new Uint8Array([255]),C.writeNumber(t,4)])}function H6(t){if(t<0||t>30)throw Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+t])}function zh(t){return new Uint8Array([192|t])}function Vh(t,e){return C.concatUint8Array([zh(t),za(e)])}function Qs(t){return[_.packet.literalData,_.packet.compressedData,_.packet.symmetricallyEncryptedData,_.packet.symEncryptedIntegrityProtectedData,_.packet.aeadEncryptedData].includes(t)}function W6(t,e){return Ku.apply(this,arguments)}function Ku(){return Ku=L(function*(t,e){const r=Sr(t);let n,i;try{const a=yield r.peekBytes(2);if(!a||a.length<2||0==(128&a[0]))throw Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");const s=yield r.readByte();let o,u,c=-1,l=-1;l=0,0!=(64&s)&&(l=1),l?c=63&s:(c=(63&s)>>2,u=3&s);const d=Qs(c);let y,g=null;if(d){if("array"===C.isStream(t)){const D=new Ar;n=Gt(D),g=D}else{const D=new Di;n=Gt(D.writable),g=D.readable}i=e({tag:c,packet:g})}else g=[];do{if(l){const D=yield r.readByte();if(y=!1,D<192)o=D;else if(D>=192&&D<224)o=(D-192<<8)+(yield r.readByte())+192;else if(D>223&&D<255){if(o=1<<(31&D),y=!0,!d)throw new TypeError("This packet type does not support partial lengths.")}else o=(yield r.readByte())<<24|(yield r.readByte())<<16|(yield r.readByte())<<8|(yield r.readByte())}else switch(u){case 0:o=yield r.readByte();break;case 1:o=(yield r.readByte())<<8|(yield r.readByte());break;case 2:o=(yield r.readByte())<<24|(yield r.readByte())<<16|(yield r.readByte())<<8|(yield r.readByte());break;default:o=1/0}if(o>0){let D=0;for(;;){n&&(yield n.ready);const{done:T,value:Y}=yield r.read();if(T){if(o===1/0)break;throw Error("Unexpected end of packet")}const J=o===1/0?Y:Y.subarray(0,o-D);if(n?yield n.write(J):g.push(J),D+=Y.length,D>=o){r.unshift(Y.subarray(o-D+Y.length));break}}}}while(y);const k=yield r.peekBytes(d?1/0:2);return n?(yield n.ready,yield n.close()):(g=C.concatUint8Array(g),yield e({tag:c,packet:g})),!k||!k.length}catch(a){if(n)return yield n.abort(a),!0;throw a}finally{n&&(yield i),r.releaseLock()}}),Ku.apply(this,arguments)}class $t extends Error{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,$t),this.name="UnsupportedError"}}const Va=Symbol("verified"),$6=new Set([_.signatureSubpacket.issuer,_.signatureSubpacket.issuerFingerprint,_.signatureSubpacket.embeddedSignature]);class gt{static get tag(){return _.packet.signature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.signedHashValue=null,this.created=null,this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyID=new xn,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserID=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAEADAlgorithms=null,this.revoked=null,this[Va]=null}read(e){let r=0;if(this.version=e[r++],4!==this.version&&5!==this.version)throw new $t(`Version ${this.version} of the signature packet is unsupported.`);if(this.signatureType=e[r++],this.publicKeyAlgorithm=e[r++],this.hashAlgorithm=e[r++],r+=this.readSubPackets(e.subarray(r,e.length),!0),!this.created)throw Error("Missing signature creation time subpacket.");this.signatureData=e.subarray(0,r),r+=this.readSubPackets(e.subarray(r,e.length),!1),this.signedHashValue=e.subarray(r,r+2),r+=2,this.params=Se.signature.parseSignatureParams(this.publicKeyAlgorithm,e.subarray(r,e.length))}writeParams(){var e=this;return this.params instanceof Promise?rn(L(function*(){return Se.serializeParams(e.publicKeyAlgorithm,yield e.params)})):Se.serializeParams(this.publicKeyAlgorithm,this.params)}write(){const e=[];return e.push(this.signatureData),e.push(this.writeUnhashedSubPackets()),e.push(this.signedHashValue),e.push(this.writeParams()),C.concat(e)}sign(e,r,n=new Date,i=!1){var a=this;return L(function*(){const s=_.write(_.signature,a.signatureType),o=_.write(_.publicKey,a.publicKeyAlgorithm),u=_.write(_.hash,a.hashAlgorithm);a.version=5===e.version?5:4;const c=[new Uint8Array([a.version,s,o,u])];a.created=C.normalizeDate(n),a.issuerKeyVersion=e.version,a.issuerFingerprint=e.getFingerprintBytes(),a.issuerKeyID=e.getKeyID(),c.push(a.writeHashedSubPackets()),a.signatureData=C.concat(c);const l=a.toHash(s,r,i),d=yield a.hash(s,r,l,i);a.signedHashValue=St(ii(d),0,2);const y=function(){var g=L(function*(){return Se.signature.sign(o,u,e.publicParams,e.privateParams,l,yield ht(d))});return function(){return g.apply(this,arguments)}}();C.isStream(d)?a.params=y():(a.params=yield y(),a[Va]=!0)})()}writeHashedSubPackets(){const e=_.signatureSubpacket,r=[];let n;if(null===this.created)throw Error("Missing signature creation time");r.push(st(e.signatureCreationTime,C.writeDate(this.created))),null!==this.signatureExpirationTime&&r.push(st(e.signatureExpirationTime,C.writeNumber(this.signatureExpirationTime,4))),null!==this.exportable&&r.push(st(e.exportableCertification,new Uint8Array([this.exportable?1:0]))),null!==this.trustLevel&&(n=new Uint8Array([this.trustLevel,this.trustAmount]),r.push(st(e.trustSignature,n))),null!==this.regularExpression&&r.push(st(e.regularExpression,this.regularExpression)),null!==this.revocable&&r.push(st(e.revocable,new Uint8Array([this.revocable?1:0]))),null!==this.keyExpirationTime&&r.push(st(e.keyExpirationTime,C.writeNumber(this.keyExpirationTime,4))),null!==this.preferredSymmetricAlgorithms&&(n=C.stringToUint8Array(C.uint8ArrayToString(this.preferredSymmetricAlgorithms)),r.push(st(e.preferredSymmetricAlgorithms,n))),null!==this.revocationKeyClass&&(n=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),n=C.concat([n,this.revocationKeyFingerprint]),r.push(st(e.revocationKey,n))),this.rawNotations.forEach(([{name:s,value:o,humanReadable:u}])=>{n=[new Uint8Array([u?128:0,0,0,0])],n.push(C.writeNumber(s.length,2)),n.push(C.writeNumber(o.length,2)),n.push(C.stringToUint8Array(s)),n.push(o),n=C.concat(n),r.push(st(e.notationData,n))}),null!==this.preferredHashAlgorithms&&(n=C.stringToUint8Array(C.uint8ArrayToString(this.preferredHashAlgorithms)),r.push(st(e.preferredHashAlgorithms,n))),null!==this.preferredCompressionAlgorithms&&(n=C.stringToUint8Array(C.uint8ArrayToString(this.preferredCompressionAlgorithms)),r.push(st(e.preferredCompressionAlgorithms,n))),null!==this.keyServerPreferences&&(n=C.stringToUint8Array(C.uint8ArrayToString(this.keyServerPreferences)),r.push(st(e.keyServerPreferences,n))),null!==this.preferredKeyServer&&r.push(st(e.preferredKeyServer,C.stringToUint8Array(this.preferredKeyServer))),null!==this.isPrimaryUserID&&r.push(st(e.primaryUserID,new Uint8Array([this.isPrimaryUserID?1:0]))),null!==this.policyURI&&r.push(st(e.policyURI,C.stringToUint8Array(this.policyURI))),null!==this.keyFlags&&(n=C.stringToUint8Array(C.uint8ArrayToString(this.keyFlags)),r.push(st(e.keyFlags,n))),null!==this.signersUserID&&r.push(st(e.signersUserID,C.stringToUint8Array(this.signersUserID))),null!==this.reasonForRevocationFlag&&(n=C.stringToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),r.push(st(e.reasonForRevocation,n))),null!==this.features&&(n=C.stringToUint8Array(C.uint8ArrayToString(this.features)),r.push(st(e.features,n))),null!==this.signatureTargetPublicKeyAlgorithm&&(n=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],n.push(C.stringToUint8Array(this.signatureTargetHash)),n=C.concat(n),r.push(st(e.signatureTarget,n))),null!==this.preferredAEADAlgorithms&&(n=C.stringToUint8Array(C.uint8ArrayToString(this.preferredAEADAlgorithms)),r.push(st(e.preferredAEADAlgorithms,n)));const i=C.concat(r),a=C.writeNumber(i.length,2);return C.concat([a,i])}writeUnhashedSubPackets(){const e=_.signatureSubpacket,r=[];let n;this.issuerKeyID.isNull()||5===this.issuerKeyVersion||r.push(st(e.issuer,this.issuerKeyID.write())),null!==this.embeddedSignature&&r.push(st(e.embeddedSignature,this.embeddedSignature.write())),null!==this.issuerFingerprint&&(n=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],n=C.concat(n),r.push(st(e.issuerFingerprint,n))),this.unhashedSubpackets.forEach(s=>{r.push(za(s.length)),r.push(s)});const i=C.concat(r),a=C.writeNumber(i.length,2);return C.concat([a,i])}readSubPacket(e,r=!0){let n=0;const i=128&e[n],a=127&e[n];if(r||$6.has(a))switch(n++,a){case _.signatureSubpacket.signatureCreationTime:this.created=C.readDate(e.subarray(n,e.length));break;case _.signatureSubpacket.signatureExpirationTime:{const s=C.readNumber(e.subarray(n,e.length));this.signatureNeverExpires=0===s,this.signatureExpirationTime=s;break}case _.signatureSubpacket.exportableCertification:this.exportable=1===e[n++];break;case _.signatureSubpacket.trustSignature:this.trustLevel=e[n++],this.trustAmount=e[n++];break;case _.signatureSubpacket.regularExpression:this.regularExpression=e[n];break;case _.signatureSubpacket.revocable:this.revocable=1===e[n++];break;case _.signatureSubpacket.keyExpirationTime:{const s=C.readNumber(e.subarray(n,e.length));this.keyExpirationTime=s,this.keyNeverExpires=0===s;break}case _.signatureSubpacket.preferredSymmetricAlgorithms:this.preferredSymmetricAlgorithms=[...e.subarray(n,e.length)];break;case _.signatureSubpacket.revocationKey:this.revocationKeyClass=e[n++],this.revocationKeyAlgorithm=e[n++],this.revocationKeyFingerprint=e.subarray(n,n+20);break;case _.signatureSubpacket.issuer:this.issuerKeyID.read(e.subarray(n,e.length));break;case _.signatureSubpacket.notationData:{const s=!!(128&e[n]);n+=4;const o=C.readNumber(e.subarray(n,n+2));n+=2;const u=C.readNumber(e.subarray(n,n+2));n+=2;const c=C.uint8ArrayToString(e.subarray(n,n+o)),l=e.subarray(n+o,n+o+u);this.rawNotations.push({name:c,humanReadable:s,value:l,critical:i}),s&&(this.notations[c]=C.uint8ArrayToString(l));break}case _.signatureSubpacket.preferredHashAlgorithms:this.preferredHashAlgorithms=[...e.subarray(n,e.length)];break;case _.signatureSubpacket.preferredCompressionAlgorithms:this.preferredCompressionAlgorithms=[...e.subarray(n,e.length)];break;case _.signatureSubpacket.keyServerPreferences:this.keyServerPreferences=[...e.subarray(n,e.length)];break;case _.signatureSubpacket.preferredKeyServer:this.preferredKeyServer=C.uint8ArrayToString(e.subarray(n,e.length));break;case _.signatureSubpacket.primaryUserID:this.isPrimaryUserID=0!==e[n++];break;case _.signatureSubpacket.policyURI:this.policyURI=C.uint8ArrayToString(e.subarray(n,e.length));break;case _.signatureSubpacket.keyFlags:this.keyFlags=[...e.subarray(n,e.length)];break;case _.signatureSubpacket.signersUserID:this.signersUserID=C.uint8ArrayToString(e.subarray(n,e.length));break;case _.signatureSubpacket.reasonForRevocation:this.reasonForRevocationFlag=e[n++],this.reasonForRevocationString=C.uint8ArrayToString(e.subarray(n,e.length));break;case _.signatureSubpacket.features:this.features=[...e.subarray(n,e.length)];break;case _.signatureSubpacket.signatureTarget:{this.signatureTargetPublicKeyAlgorithm=e[n++],this.signatureTargetHashAlgorithm=e[n++];const s=Se.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=C.uint8ArrayToString(e.subarray(n,n+s));break}case _.signatureSubpacket.embeddedSignature:this.embeddedSignature=new gt,this.embeddedSignature.read(e.subarray(n,e.length));break;case _.signatureSubpacket.issuerFingerprint:this.issuerKeyVersion=e[n++],this.issuerFingerprint=e.subarray(n,e.length),this.issuerKeyID.read(5===this.issuerKeyVersion?this.issuerFingerprint:this.issuerFingerprint.subarray(-8));break;case _.signatureSubpacket.preferredAEADAlgorithms:this.preferredAEADAlgorithms=[...e.subarray(n,e.length)];break;default:{const s=Error("Unknown signature subpacket type "+a);if(i)throw s;C.printDebug(s)}}else this.unhashedSubpackets.push(e.subarray(n,e.length))}readSubPackets(e,r=!0,n){const i=C.readNumber(e.subarray(0,2));let a=2;for(;a<2+i;){const s=Fh(e.subarray(a,e.length));a+=s.offset,this.readSubPacket(e.subarray(a,a+s.len),r,n),a+=s.len}return a}toSign(e,r){const n=_.signature;switch(e){case n.binary:return null!==r.text?C.encodeUTF8(r.getText(!0)):r.getBytes(!0);case n.text:{const i=r.getBytes(!0);return C.canonicalizeEOL(i)}case n.standalone:case n.timestamp:return new Uint8Array(0);case n.certGeneric:case n.certPersona:case n.certCasual:case n.certPositive:case n.certRevocation:{let i,a;if(r.userID)a=180,i=r.userID;else{if(!r.userAttribute)throw Error("Either a userID or userAttribute packet needs to be supplied for certification.");a=209,i=r.userAttribute}const s=i.write();return C.concat([this.toSign(n.key,r),new Uint8Array([a]),C.writeNumber(s.length,4),s])}case n.subkeyBinding:case n.subkeyRevocation:case n.keyBinding:return C.concat([this.toSign(n.key,r),this.toSign(n.key,{key:r.bind})]);case n.key:if(void 0===r.key)throw Error("Key packet is required for this signature.");return r.key.writeForHash(this.version);case n.keyRevocation:return this.toSign(n.key,r);case n.thirdParty:throw Error("Not implemented");default:throw Error("Unknown signature type.")}}calculateTrailer(e,r){let n=0;return lt(ii(this.signatureData),i=>{n+=i.length},()=>{const i=[];return 5!==this.version||this.signatureType!==_.signature.binary&&this.signatureType!==_.signature.text||i.push(r?new Uint8Array(6):e.writeHeader()),i.push(new Uint8Array([this.version,255])),5===this.version&&i.push(new Uint8Array(4)),i.push(C.writeNumber(n,4)),C.concat(i)})}toHash(e,r,n=!1){const i=this.toSign(e,r);return C.concat([i,this.signatureData,this.calculateTrailer(r,n)])}hash(e,r,n,i=!1){var a=this;return L(function*(){const s=_.write(_.hash,a.hashAlgorithm);return n||(n=a.toHash(e,r,i)),Se.hash.digest(s,n)})()}verify(e,r,n,i=new Date,a=!1,s=_e){var o=this;return L(function*(){const u=_.write(_.publicKey,o.publicKeyAlgorithm),c=_.write(_.hash,o.hashAlgorithm);if(!o.issuerKeyID.equals(e.getKeyID()))throw Error("Signature was not issued by the given public key");if(u!==_.write(_.publicKey,e.algorithm))throw Error("Public key algorithm used to sign signature does not match issuer key algorithm.");if(!o[Va]||r===_.signature.binary||r===_.signature.text){let y,g;if(o.hashed?g=yield o.hashed:(y=o.toHash(r,n,a),g=yield o.hash(r,n,y)),g=yield ht(g),o.signedHashValue[0]!==g[0]||o.signedHashValue[1]!==g[1])throw Error("Signed digest did not match");if(o.params=yield o.params,o[Va]=yield Se.signature.verify(u,c,o.params,e.publicParams,y,g),!o[Va])throw Error("Signature verification failed")}const d=C.normalizeDate(i);if(d&&o.created>d)throw Error("Signature creation time is in the future");if(d&&d>=o.getExpirationTime())throw Error("Signature is expired");if(s.rejectHashAlgorithms.has(c))throw Error("Insecure hash algorithm: "+_.read(_.hash,c).toUpperCase());if(s.rejectMessageHashAlgorithms.has(c)&&[_.signature.binary,_.signature.text].includes(o.signatureType))throw Error("Insecure message hash algorithm: "+_.read(_.hash,c).toUpperCase());if(o.rawNotations.forEach(({name:y,critical:g})=>{if(g&&s.knownNotations.indexOf(y)<0)throw Error("Unknown critical notation: "+y)}),null!==o.revocationKeyClass)throw Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.")})()}isExpired(e=new Date){const r=C.normalizeDate(e);return null!==r&&!(this.created<=r&&r<this.getExpirationTime())}getExpirationTime(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)}}function st(t,e){const r=[];return r.push(za(e.length+1)),r.push(new Uint8Array([t])),r.push(e),C.concat(r)}class pr{static get tag(){return _.packet.onePassSignature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.issuerKeyID=null,this.flags=null}read(e){let r=0;if(this.version=e[r++],3!==this.version)throw new $t(`Version ${this.version} of the one-pass signature packet is unsupported.`);return this.signatureType=e[r++],this.hashAlgorithm=e[r++],this.publicKeyAlgorithm=e[r++],this.issuerKeyID=new xn,this.issuerKeyID.read(e.subarray(r,r+8)),r+=8,this.flags=e[r++],this}write(){const e=new Uint8Array([3,_.write(_.signature,this.signatureType),_.write(_.hash,this.hashAlgorithm),_.write(_.publicKey,this.publicKeyAlgorithm)]),r=new Uint8Array([this.flags]);return C.concatUint8Array([e,this.issuerKeyID.write(),r])}calculateTrailer(...e){var r=this;return rn(L(function*(){return gt.prototype.calculateTrailer.apply(yield r.correspondingSig,e)}))}verify(){var e=arguments,r=this;return L(function*(){const n=yield r.correspondingSig;if(!n||n.constructor.tag!==_.packet.signature)throw Error("Corresponding signature packet missing");if(n.signatureType!==r.signatureType||n.hashAlgorithm!==r.hashAlgorithm||n.publicKeyAlgorithm!==r.publicKeyAlgorithm||!n.issuerKeyID.equals(r.issuerKeyID))throw Error("Corresponding signature packet does not match one-pass signature packet");return n.hashed=r.hashed,n.verify.apply(n,e)})()}}function Y6(t,e){if(!e[t]){let r;try{r=_.read(_.packet,t)}catch(n){throw new $t("Unknown packet type with tag: "+t)}throw Error("Packet not allowed in this context: "+r)}return new e[t]}pr.prototype.hash=gt.prototype.hash,pr.prototype.toHash=gt.prototype.toHash,pr.prototype.toSign=gt.prototype.toSign;class Ye extends Array{static fromBinary(e,r,n=_e){return L(function*(){const i=new Ye;return yield i.read(e,r,n),i})()}read(e,r,n=_e){var i=this;return L(function*(){i.stream=xr(e,function(){var s=L(function*(o,u){const c=Gt(u);try{for(;;)if(yield c.ready,yield W6(o,function(){var l=L(function*(d){try{if(d.tag===_.packet.marker||d.tag===_.packet.trust)return;const y=Y6(d.tag,r);y.packets=new Ye,y.fromStream=C.isStream(d.packet),yield y.read(d.packet,n),yield c.write(y)}catch(y){const k=!(n.ignoreMalformedPackets||y instanceof $t);(!n.ignoreUnsupportedPackets&&y instanceof $t||k||Qs(d.tag))&&(yield c.abort(y)),C.printDebugError(y)}});return function(d){return l.apply(this,arguments)}}()))return yield c.ready,void(yield c.close())}catch(l){yield c.abort(l)}});return function(o,u){return s.apply(this,arguments)}}());const a=Sr(i.stream);for(;;){const{done:s,value:o}=yield a.read();if(s?i.stream=null:i.push(o),s||Qs(o.constructor.tag))break}a.releaseLock()})()}write(){const e=[];for(let r=0;r<this.length;r++){const n=this[r].write();if(C.isStream(n)&&Qs(this[r].constructor.tag)){let i=[],a=0;const s=512;e.push(zh(this[r].constructor.tag)),e.push(lt(n,o=>{if(i.push(o),a+=o.length,a>=s){const u=Math.min(Math.log(a)/Math.LN2|0,30),c=2**u,l=C.concat([H6(u)].concat(i));return i=[l.subarray(1+c)],a=i[0].length,l.subarray(0,1+c)}},()=>C.concat([za(a)].concat(i))))}else{if(C.isStream(n)){let i=0;e.push(lt(ii(n),a=>{i+=a.length},()=>Vh(this[r].constructor.tag,i)))}else e.push(Vh(this[r].constructor.tag,n.length));e.push(n)}}return C.concat(e)}filterByTag(...e){const r=new Ye,n=i=>a=>i===a;for(let i=0;i<this.length;i++)e.some(n(this[i].constructor.tag))&&r.push(this[i]);return r}findPacket(e){return this.find(r=>r.constructor.tag===e)}indexOfTag(...e){const r=[],n=this,i=a=>s=>a===s;for(let a=0;a<this.length;a++)e.some(i(n[a].constructor.tag))&&r.push(a);return r}}const J6=C.constructAllowedPackets([qn,pr,gt]);class qa{static get tag(){return _.packet.compressedData}constructor(e=_e){this.packets=null,this.algorithm=_.read(_.compression,e.preferredCompressionAlgorithm),this.compressed=null,this.deflateLevel=e.deflateLevel}read(e,r=_e){var n=this;return L(function*(){yield Ss(e,function(){var i=L(function*(a){n.algorithm=_.read(_.compression,yield a.readByte()),n.compressed=a.remainder(),yield n.decompress(r)});return function(a){return i.apply(this,arguments)}}())})()}write(){return null===this.compressed&&this.compress(),C.concat([new Uint8Array([_.write(_.compression,this.algorithm)]),this.compressed])}decompress(e=_e){var r=this;return L(function*(){if(!Lh[r.algorithm])throw Error(r.algorithm+" decompression not supported");r.packets=yield Ye.fromBinary(Lh[r.algorithm](r.compressed),J6,e)})()}compress(){if(!jh[this.algorithm])throw Error(this.algorithm+" compression not supported");this.compressed=jh[this.algorithm](this.packets.write(),this.deflateLevel)}}const Nr=C.getNodeZlib();function qh(t){return t}function Xs(t,e,r={}){return function(n){return!C.isStream(n)||dt(n)?rn(()=>ht(n).then(i=>new Promise((a,s)=>{t(i,r,(o,u)=>{if(o)return s(o);a(u)})}))):ks(Ic(n).pipe(e(r)))}}function eo(t,e={}){return function(r){const n=new t(e);return lt(r,i=>{if(i.length)return n.push(i,2),n.result},()=>{if(t===Tu)return n.push([],4),n.result})}}function Nh(t){return function(e){return rn(L(function*(){return t(yield ht(e))}))}}const jh=Nr?{zip:(t,e)=>Xs(Nr.deflateRaw,Nr.createDeflateRaw,{level:e})(t),zlib:(t,e)=>Xs(Nr.deflate,Nr.createDeflate,{level:e})(t)}:{zip:(t,e)=>eo(Tu,{raw:!0,level:e})(t),zlib:(t,e)=>eo(Tu,{level:e})(t)},Lh=Nr?{uncompressed:qh,zip:Xs(Nr.inflateRaw,Nr.createInflateRaw),zlib:Xs(Nr.inflate,Nr.createInflate),bzip2:Nh(Oh)}:{uncompressed:qh,zip:eo(Uh,{raw:!0}),zlib:eo(Uh),bzip2:Nh(Oh)},Q6=C.constructAllowedPackets([qn,qa,pr,gt]);class Gh{static get tag(){return _.packet.symEncryptedIntegrityProtectedData}constructor(){this.version=1,this.encrypted=null,this.packets=null}read(e){var r=this;return L(function*(){yield Ss(e,function(){var n=L(function*(i){const a=yield i.readByte();if(1!==a)throw new $t(`Version ${a} of the SEIP packet is unsupported.`);r.encrypted=i.remainder()});return function(i){return n.apply(this,arguments)}}())})()}write(){return C.concat([new Uint8Array([1]),this.encrypted])}encrypt(e,r,n=_e){var i=this;return L(function*(){let a=i.packets.write();dt(a)&&(a=yield ht(a));const s=yield Se.getPrefixRandom(e),o=new Uint8Array([211,20]),u=C.concat([s,a,o]),c=yield Se.hash.sha1(Ti(u)),l=C.concat([u,c]);return i.encrypted=yield Se.mode.cfb.encrypt(e,r,l,new Uint8Array(Se.cipher[e].blockSize),n),!0})()}decrypt(e,r,n=_e){var i=this;return L(function*(){let a=ii(i.encrypted);dt(a)&&(a=yield ht(a));const s=yield Se.mode.cfb.decrypt(e,r,a,new Uint8Array(Se.cipher[e].blockSize)),o=St(Ti(s),-20),u=St(s,0,-20),c=Promise.all([ht(yield Se.hash.sha1(Ti(u))),ht(o)]).then(([y,g])=>{if(!C.equalsUint8Array(y,g))throw Error("Modification detected.");return new Uint8Array}),l=St(u,Se.cipher[e].blockSize+2);let d=St(l,0,-2);return d=Ot([d,rn(()=>c)]),C.isStream(a)&&n.allowUnauthenticatedStream||(d=yield ht(d)),i.packets=yield Ye.fromBinary(d,Q6,n),!0})()}}const X6=C.constructAllowedPackets([qn,qa,pr,gt]);class to{static get tag(){return _.packet.aeadEncryptedData}constructor(){this.version=1,this.cipherAlgo=null,this.aeadAlgorithm="eax",this.aeadAlgo=null,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}read(e){var r=this;return L(function*(){yield Ss(e,function(){var n=L(function*(i){const a=yield i.readByte();if(1!==a)throw new $t(`Version ${a} of the AEAD-encrypted data packet is not supported.`);r.cipherAlgo=yield i.readByte(),r.aeadAlgo=yield i.readByte(),r.chunkSizeByte=yield i.readByte();const s=Se.mode[_.read(_.aead,r.aeadAlgo)];r.iv=yield i.readBytes(s.ivLength),r.encrypted=i.remainder()});return function(i){return n.apply(this,arguments)}}())})()}write(){return C.concat([new Uint8Array([this.version,this.cipherAlgo,this.aeadAlgo,this.chunkSizeByte]),this.iv,this.encrypted])}decrypt(e,r,n=_e){var i=this;return L(function*(){i.packets=yield Ye.fromBinary(yield i.crypt("decrypt",r,ii(i.encrypted)),X6,n)})()}encrypt(e,r,n=_e){var i=this;return L(function*(){i.cipherAlgo=_.write(_.symmetric,e),i.aeadAlgo=_.write(_.aead,i.aeadAlgorithm);const a=Se.mode[_.read(_.aead,i.aeadAlgo)];i.iv=yield Se.random.getRandomBytes(a.ivLength),i.chunkSizeByte=n.aeadChunkSizeByte;const s=i.packets.write();i.encrypted=yield i.crypt("encrypt",r,s)})()}crypt(e,r,n){var i=this;return L(function*(){const a=_.read(_.symmetric,i.cipherAlgo),s=Se.mode[_.read(_.aead,i.aeadAlgo)],o=yield s(a,r),u="decrypt"===e?s.tagLength:0,c="encrypt"===e?s.tagLength:0,l=2**(i.chunkSizeByte+6)+u,d=new ArrayBuffer(21),y=new Uint8Array(d,0,13),g=new Uint8Array(d),k=new DataView(d),D=new Uint8Array(d,5,8);y.set([192|to.tag,i.version,i.cipherAlgo,i.aeadAlgo,i.chunkSizeByte],0);let T=0,Y=Promise.resolve(),J=0,j=0;const U=i.iv;return xr(n,function(){var ie=L(function*(X,ee){if("array"!==C.isStream(X)){const A=new Di({},{highWaterMark:C.getHardwareConcurrency()*2**(i.chunkSizeByte+6),size:v=>v.length});tn(A.readable,ee),ee=A.writable}const h=Sr(X),b=Gt(ee);try{for(;;){let A=(yield h.readBytes(l+u))||new Uint8Array;const v=A.subarray(A.length-u);let m,E;if(A=A.subarray(0,A.length-u),!T||A.length?(h.unshift(v),m=o[e](A,s.getNonce(U,D),y),j+=A.length-u+c):(k.setInt32(17,J),m=o[e](v,s.getNonce(U,D),g),j+=c,E=!0),J+=A.length-u,Y=Y.then(()=>m).then(function(){var $=L(function*(H){yield b.ready,yield b.write(H),j-=H.length});return function(H){return $.apply(this,arguments)}}()).catch($=>b.abort($)),(E||j>b.desiredSize)&&(yield Y),E){yield b.close();break}k.setInt32(9,++T)}}catch(A){yield b.abort(A)}});return function(X,ee){return ie.apply(this,arguments)}}())})()}}class Zh{static get tag(){return _.packet.publicKeyEncryptedSessionKey}constructor(){this.version=3,this.publicKeyID=new xn,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}read(e){if(this.version=e[0],3!==this.version)throw new $t(`Version ${this.version} of the PKESK packet is unsupported.`);this.publicKeyID.read(e.subarray(1,e.length)),this.publicKeyAlgorithm=_.read(_.publicKey,e[9]);const r=_.write(_.publicKey,this.publicKeyAlgorithm);this.encrypted=Se.parseEncSessionKeyParams(r,e.subarray(10))}write(){const e=_.write(_.publicKey,this.publicKeyAlgorithm),r=[new Uint8Array([this.version]),this.publicKeyID.write(),new Uint8Array([_.write(_.publicKey,this.publicKeyAlgorithm)]),Se.serializeParams(e,this.encrypted)];return C.concatUint8Array(r)}encrypt(e){var r=this;return L(function*(){const n=C.concatUint8Array([new Uint8Array([_.write(_.symmetric,r.sessionKeyAlgorithm)]),r.sessionKey,C.writeChecksum(r.sessionKey)]),i=_.write(_.publicKey,r.publicKeyAlgorithm);r.encrypted=yield Se.publicKeyEncrypt(i,e.publicParams,n,e.getFingerprintBytes())})()}decrypt(e){var r=this;return L(function*(){const n=_.write(_.publicKey,r.publicKeyAlgorithm);if(n!==_.write(_.publicKey,e.algorithm))throw Error("Decryption error");const i=yield Se.publicKeyDecrypt(n,e.publicParams,e.privateParams,r.encrypted,e.getFingerprintBytes()),a=i.subarray(i.length-2),s=i.subarray(1,i.length-2);if(!C.equalsUint8Array(a,C.writeChecksum(s)))throw Error("Decryption error");r.sessionKey=s,r.sessionKeyAlgorithm=_.read(_.symmetric,i[0])})()}}class Na{constructor(e=_e){this.algorithm="sha256",this.type="iterated",this.c=e.s2kIterationCountByte,this.salt=null}getCount(){return 16+(15&this.c)<<6+(this.c>>4)}read(e){let r=0;switch(this.type=_.read(_.s2k,e[r++]),this.algorithm=e[r++],"gnu"!==this.type&&(this.algorithm=_.read(_.hash,this.algorithm)),this.type){case"simple":break;case"salted":this.salt=e.subarray(r,r+8),r+=8;break;case"iterated":this.salt=e.subarray(r,r+8),r+=8,this.c=e[r++];break;case"gnu":if("GNU"!==C.uint8ArrayToString(e.subarray(r,r+3)))throw Error("Unknown s2k type.");if(r+=3,1e3+e[r++]!==1001)throw Error("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw Error("Unknown s2k type.")}return r}write(){if("gnu-dummy"===this.type)return new Uint8Array([101,0,...C.stringToUint8Array("GNU"),1]);const e=[new Uint8Array([_.write(_.s2k,this.type),_.write(_.hash,this.algorithm)])];switch(this.type){case"simple":break;case"salted":e.push(this.salt);break;case"iterated":e.push(this.salt),e.push(new Uint8Array([this.c]));break;case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}return C.concatUint8Array(e)}produceKey(e,r){var n=this;return L(function*(){e=C.encodeUTF8(e);const i=_.write(_.hash,n.algorithm),a=[];let s=0,o=0;for(;s<r;){let u;switch(n.type){case"simple":u=C.concatUint8Array([new Uint8Array(o),e]);break;case"salted":u=C.concatUint8Array([new Uint8Array(o),n.salt,e]);break;case"iterated":{const l=C.concatUint8Array([n.salt,e]);let d=l.length;const y=Math.max(n.getCount(),d);u=new Uint8Array(o+y),u.set(l,o);for(let g=o+d;g<y;g+=d,d*=2)u.copyWithin(g,o,g);break}case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}const c=yield Se.hash.digest(i,u);a.push(c),s+=c.length,o++}return C.concatUint8Array(a).subarray(0,r)})()}}class Ni{static get tag(){return _.packet.symEncryptedSessionKey}constructor(e=_e){this.version=e.aeadProtect?5:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm="aes256",this.aeadAlgorithm=_.read(_.aead,e.preferredAEADAlgorithm),this.encrypted=null,this.s2k=null,this.iv=null}read(e){let r=0;if(this.version=e[r++],4!==this.version&&5!==this.version)throw new $t(`Version ${this.version} of the SKESK packet is unsupported.`);const n=_.read(_.symmetric,e[r++]);5===this.version&&(this.aeadAlgorithm=_.read(_.aead,e[r++])),this.s2k=new Na,r+=this.s2k.read(e.subarray(r,e.length)),5===this.version&&(this.iv=e.subarray(r,r+=Se.mode[this.aeadAlgorithm].ivLength)),5===this.version||r<e.length?(this.encrypted=e.subarray(r,e.length),this.sessionKeyEncryptionAlgorithm=n):this.sessionKeyAlgorithm=n}write(){const e=null===this.encrypted?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm;let r;return 5===this.version?r=C.concatUint8Array([new Uint8Array([this.version,_.write(_.symmetric,e),_.write(_.aead,this.aeadAlgorithm)]),this.s2k.write(),this.iv,this.encrypted]):(r=C.concatUint8Array([new Uint8Array([this.version,_.write(_.symmetric,e)]),this.s2k.write()]),null!==this.encrypted&&(r=C.concatUint8Array([r,this.encrypted]))),r}decrypt(e){var r=this;return L(function*(){const n=null!==r.sessionKeyEncryptionAlgorithm?r.sessionKeyEncryptionAlgorithm:r.sessionKeyAlgorithm,i=Se.cipher[n].keySize,a=yield r.s2k.produceKey(e,i);if(5===r.version){const s=Se.mode[r.aeadAlgorithm],o=new Uint8Array([192|Ni.tag,r.version,_.write(_.symmetric,r.sessionKeyEncryptionAlgorithm),_.write(_.aead,r.aeadAlgorithm)]),u=yield s(n,a);r.sessionKey=yield u.decrypt(r.encrypted,r.iv,o)}else if(null!==r.encrypted){const s=yield Se.mode.cfb.decrypt(n,a,r.encrypted,new Uint8Array(Se.cipher[n].blockSize));r.sessionKeyAlgorithm=_.read(_.symmetric,s[0]),r.sessionKey=s.subarray(1,s.length)}else r.sessionKey=a})()}encrypt(e,r=_e){var n=this;return L(function*(){const i=null!==n.sessionKeyEncryptionAlgorithm?n.sessionKeyEncryptionAlgorithm:n.sessionKeyAlgorithm;n.sessionKeyEncryptionAlgorithm=i,n.s2k=new Na(r),n.s2k.salt=yield Se.random.getRandomBytes(8);const a=Se.cipher[i].keySize,s=yield n.s2k.produceKey(e,a);if(null===n.sessionKey&&(n.sessionKey=yield Se.generateSessionKey(n.sessionKeyAlgorithm)),5===n.version){const o=Se.mode[n.aeadAlgorithm];n.iv=yield Se.random.getRandomBytes(o.ivLength);const u=new Uint8Array([192|Ni.tag,n.version,_.write(_.symmetric,n.sessionKeyEncryptionAlgorithm),_.write(_.aead,n.aeadAlgorithm)]),c=yield o(i,s);n.encrypted=yield c.encrypt(n.sessionKey,n.iv,u)}else{const o=new Uint8Array([_.write(_.symmetric,n.sessionKeyAlgorithm)]),u=C.concatUint8Array([o,n.sessionKey]);n.encrypted=yield Se.mode.cfb.encrypt(i,s,u,new Uint8Array(Se.cipher[i].blockSize),r)}})()}}class yr{static get tag(){return _.packet.publicKey}constructor(e=new Date,r=_e){this.version=r.v5Keys?5:4,this.created=C.normalizeDate(e),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyID=null}static fromSecretKeyPacket(e){const r=new yr,{version:n,created:i,algorithm:a,publicParams:s,keyID:o,fingerprint:u}=e;return r.version=n,r.created=i,r.algorithm=a,r.publicParams=s,r.keyID=o,r.fingerprint=u,r}read(e){var r=this;return L(function*(){let n=0;if(r.version=e[n++],4===r.version||5===r.version){r.created=C.readDate(e.subarray(n,n+4)),n+=4,r.algorithm=_.read(_.publicKey,e[n++]);const i=_.write(_.publicKey,r.algorithm);5===r.version&&(n+=4);try{const{read:a,publicParams:s}=Se.parsePublicKeyParams(i,e.subarray(n));r.publicParams=s,n+=a}catch(a){throw Error("Error reading MPIs")}return yield r.computeFingerprintAndKeyID(),n}throw new $t(`Version ${r.version} of the key packet is unsupported.`)})()}write(){const e=[];e.push(new Uint8Array([this.version])),e.push(C.writeDate(this.created));const r=_.write(_.publicKey,this.algorithm);e.push(new Uint8Array([r]));const n=Se.serializeParams(r,this.publicParams);return 5===this.version&&e.push(C.writeNumber(n.length,4)),e.push(n),C.concatUint8Array(e)}writeForHash(e){const r=this.writePublicKey();return C.concatUint8Array(5===e?[new Uint8Array([154]),C.writeNumber(r.length,4),r]:[new Uint8Array([153]),C.writeNumber(r.length,2),r])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyID(){return this.keyID}computeFingerprintAndKeyID(){var e=this;return L(function*(){if(yield e.computeFingerprint(),e.keyID=new xn,5===e.version)e.keyID.read(e.fingerprint.subarray(0,8));else{if(4!==e.version)throw Error("Unsupported key version");e.keyID.read(e.fingerprint.subarray(12,20))}})()}computeFingerprint(){var e=this;return L(function*(){const r=e.writeForHash(e.version);if(5===e.version)e.fingerprint=yield Se.hash.sha256(r);else{if(4!==e.version)throw Error("Unsupported key version");e.fingerprint=yield Se.hash.sha1(r)}})()}getFingerprintBytes(){return this.fingerprint}getFingerprint(){return C.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(e){return this.version===e.version&&C.equalsUint8Array(this.writePublicKey(),e.writePublicKey())}getAlgorithmInfo(){const e={};e.algorithm=this.algorithm;const r=this.publicParams.n||this.publicParams.p;return r?e.bits=C.uint8ArrayBitLength(r):e.curve=this.publicParams.oid.getName(),e}}yr.prototype.readPublicKey=yr.prototype.read,yr.prototype.writePublicKey=yr.prototype.write;class ja extends yr{static get tag(){return _.packet.publicSubkey}constructor(e,r){super(e,r)}static fromSecretSubkeyPacket(e){const r=new ja,{version:n,created:i,algorithm:a,publicParams:s,keyID:o,fingerprint:u}=e;return r.version=n,r.created=i,r.algorithm=a,r.publicParams=s,r.keyID=o,r.fingerprint=u,r}}class Bu{static get tag(){return _.packet.userAttribute}constructor(){this.attributes=[]}read(e){let r=0;for(;r<e.length;){const n=Fh(e.subarray(r,e.length));r+=n.offset,this.attributes.push(C.uint8ArrayToString(e.subarray(r,r+n.len))),r+=n.len}}write(){const e=[];for(let r=0;r<this.attributes.length;r++)e.push(za(this.attributes[r].length)),e.push(C.stringToUint8Array(this.attributes[r]));return C.concatUint8Array(e)}equals(e){return!!(e&&e instanceof Bu)&&this.attributes.every(function(r,n){return r===e.attributes[n]})}}class ro extends yr{static get tag(){return _.packet.secretKey}constructor(e=new Date,r=_e){super(e,r),this.keyMaterial=null,this.isEncrypted=null,this.s2kUsage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.privateParams=null}read(e){var r=this;return L(function*(){let n=yield r.readPublicKey(e);if(r.s2kUsage=e[n++],5===r.version&&n++,255===r.s2kUsage||254===r.s2kUsage||253===r.s2kUsage){if(r.symmetric=e[n++],r.symmetric=_.read(_.symmetric,r.symmetric),253===r.s2kUsage&&(r.aead=e[n++],r.aead=_.read(_.aead,r.aead)),r.s2k=new Na,n+=r.s2k.read(e.subarray(n,e.length)),"gnu-dummy"===r.s2k.type)return}else r.s2kUsage&&(r.symmetric=r.s2kUsage,r.symmetric=_.read(_.symmetric,r.symmetric));if(r.s2kUsage&&(r.iv=e.subarray(n,n+Se.cipher[r.symmetric].blockSize),n+=r.iv.length),5===r.version&&(n+=4),r.keyMaterial=e.subarray(n),r.isEncrypted=!!r.s2kUsage,!r.isEncrypted){const i=r.keyMaterial.subarray(0,-2);if(!C.equalsUint8Array(C.writeChecksum(i),r.keyMaterial.subarray(-2)))throw Error("Key checksum mismatch");try{const a=_.write(_.publicKey,r.algorithm),{privateParams:s}=Se.parsePrivateKeyParams(a,i,r.publicParams);r.privateParams=s}catch(a){throw Error("Error reading MPIs")}}})()}write(){const e=[this.writePublicKey()];e.push(new Uint8Array([this.s2kUsage]));const r=[];if(255!==this.s2kUsage&&254!==this.s2kUsage&&253!==this.s2kUsage||(r.push(_.write(_.symmetric,this.symmetric)),253===this.s2kUsage&&r.push(_.write(_.aead,this.aead)),r.push(...this.s2k.write())),this.s2kUsage&&"gnu-dummy"!==this.s2k.type&&r.push(...this.iv),5===this.version&&e.push(new Uint8Array([r.length])),e.push(new Uint8Array(r)),!this.isDummy()){if(!this.s2kUsage){const n=_.write(_.publicKey,this.algorithm);this.keyMaterial=Se.serializeParams(n,this.privateParams)}5===this.version&&e.push(C.writeNumber(this.keyMaterial.length,4)),e.push(this.keyMaterial),this.s2kUsage||e.push(C.writeChecksum(this.keyMaterial))}return C.concatUint8Array(e)}isDecrypted(){return!1===this.isEncrypted}isDummy(){return!(!this.s2k||"gnu-dummy"!==this.s2k.type)}makeDummy(e=_e){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),this.isEncrypted=null,this.keyMaterial=null,this.s2k=new Na(e),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2kUsage=254,this.symmetric="aes256")}encrypt(e,r=_e){var n=this;return L(function*(){if(n.isDummy())return;if(!n.isDecrypted())throw Error("Key packet is already encrypted");if(n.isDecrypted()&&!e)return void(n.s2kUsage=0);if(!e)throw Error("The key must be decrypted before removing passphrase protection.");n.s2k=new Na(r),n.s2k.salt=yield Se.random.getRandomBytes(8);const i=_.write(_.publicKey,n.algorithm),a=Se.serializeParams(i,n.privateParams);n.symmetric="aes256";const s=yield Hh(n.s2k,e,n.symmetric),o=Se.cipher[n.symmetric].blockSize;if(n.iv=yield Se.random.getRandomBytes(o),r.aeadProtect){n.s2kUsage=253,n.aead="eax";const u=Se.mode[n.aead],c=yield u(n.symmetric,s);n.keyMaterial=yield c.encrypt(a,n.iv.subarray(0,u.ivLength),new Uint8Array)}else n.s2kUsage=254,n.keyMaterial=yield Se.mode.cfb.encrypt(n.symmetric,s,C.concatUint8Array([a,yield Se.hash.sha1(a,r)]),n.iv,r)})()}decrypt(e){var r=this;return L(function*(){if(r.isDummy())return!1;if(r.isDecrypted())throw Error("Key packet is already decrypted.");let n,i;if(254!==r.s2kUsage&&253!==r.s2kUsage)throw 255===r.s2kUsage?Error("Encrypted private key is authenticated using an insecure two-byte hash"):Error("Private key is encrypted using an insecure S2K function: unsalted MD5");if(n=yield Hh(r.s2k,e,r.symmetric),253===r.s2kUsage){const a=Se.mode[r.aead];try{i=yield(yield a(r.symmetric,n)).decrypt(r.keyMaterial,r.iv.subarray(0,a.ivLength),new Uint8Array)}catch(s){throw"Authentication tag mismatch"===s.message?Error("Incorrect key passphrase: "+s.message):s}}else{const a=yield Se.mode.cfb.decrypt(r.symmetric,n,r.keyMaterial,r.iv);i=a.subarray(0,-20);const s=yield Se.hash.sha1(i);if(!C.equalsUint8Array(s,a.subarray(-20)))throw Error("Incorrect key passphrase")}try{const a=_.write(_.publicKey,r.algorithm),{privateParams:s}=Se.parsePrivateKeyParams(a,i,r.publicParams);r.privateParams=s}catch(a){throw Error("Error reading MPIs")}r.isEncrypted=!1,r.keyMaterial=null,r.s2kUsage=0})()}validate(){var e=this;return L(function*(){if(e.isDummy())return;if(!e.isDecrypted())throw Error("Key is not decrypted");const r=_.write(_.publicKey,e.algorithm);let n;try{n=yield Se.validateParams(r,e.publicParams,e.privateParams)}catch(i){n=!1}if(!n)throw Error("Key is invalid")})()}generate(e,r){var n=this;return L(function*(){const i=_.write(_.publicKey,n.algorithm),{privateParams:a,publicParams:s}=yield Se.generateParams(i,e,r);n.privateParams=a,n.publicParams=s,n.isEncrypted=!1})()}clearPrivateParams(){this.isDummy()||(Object.keys(this.privateParams).forEach(e=>{this.privateParams[e].fill(0),delete this.privateParams[e]}),this.privateParams=null,this.isEncrypted=!0)}}function Hh(t,e,r){return Ou.apply(this,arguments)}function Ou(){return Ou=L(function*(t,e,r){return t.produceKey(e,Se.cipher[r].keySize)}),Ou.apply(this,arguments)}var r4=Cr(function(t){!function(e){function r(i){function a(){return Ce<ze}function s(){return Ce}function o(oe){Ce=oe}function u(){Ce=0,ze=$e.length}function c(oe,ue){return{name:oe,tokens:ue||"",semantic:ue||"",children:[]}}function l(oe,ue){var me;return null===ue?null:((me=c(oe)).tokens=ue.tokens,me.semantic=ue.semantic,me.children.push(ue),me)}function d(oe,ue){return null!==ue&&(oe.tokens+=ue.tokens,oe.semantic+=ue.semantic),oe.children.push(ue),oe}function y(oe){var ue;return a()&&oe(ue=$e[Ce])?(Ce+=1,c("token",ue)):null}function g(oe){return function(){return l("literal",y(function(ue){return ue===oe}))}}function k(){var oe=arguments;return function(){var ue,me,ke,Ue;for(Ue=s(),me=c("and"),ue=0;ue<oe.length;ue+=1){if(null===(ke=oe[ue]()))return o(Ue),null;d(me,ke)}return me}}function D(){var oe=arguments;return function(){var ue,me,ke;for(ke=s(),ue=0;ue<oe.length;ue+=1){if(null!==(me=oe[ue]()))return me;o(ke)}return null}}function T(oe){return function(){var ue,me;return me=s(),null!==(ue=oe())?ue:(o(me),c("opt"))}}function Y(oe){return function(){var ue=oe();return null!==ue&&(ue.semantic=""),ue}}function J(oe){return function(){var ue=oe();return null!==ue&&ue.semantic.length>0&&(ue.semantic=" "),ue}}function j(oe,ue){return function(){var me,ke,Ue,Pe,Ee;for(Pe=s(),me=c("star"),Ue=0,Ee=void 0===ue?0:ue;null!==(ke=oe());)Ue+=1,d(me,ke);return Ue>=Ee?me:(o(Pe),null)}}function U(oe){return oe.charCodeAt(0)>=128}function ie(){return l("cr",g("\r")())}function X(){return l("crlf",k(ie,b)())}function ee(){return l("dquote",g('"')())}function h(){return l("htab",g("\t")())}function b(){return l("lf",g("\n")())}function A(){return l("sp",g(" ")())}function v(){return l("vchar",y(function(oe){var ue=oe.charCodeAt(0),me=33<=ue&&ue<=126;return i.rfc6532&&(me=me||U(oe)),me}))}function m(){return l("wsp",D(A,h)())}function E(){var oe=l("quoted-pair",D(k(g("\\"),D(v,m)),z)());return null===oe?null:(oe.semantic=oe.semantic[1],oe)}function $(){return l("fws",D(q,k(T(k(j(m),Y(X))),j(m,1)))())}function H(){return l("ctext",D(function(){return y(function(oe){var ue=oe.charCodeAt(0),me=33<=ue&&ue<=39||42<=ue&&ue<=91||93<=ue&&ue<=126;return i.rfc6532&&(me=me||U(oe)),me})},Ae)())}function ce(){return l("ccontent",D(H,E,F)())}function F(){return l("comment",k(g("("),j(k(T($),ce)),T($),g(")"))())}function se(){return l("cfws",D(k(j(k(T($),F),1),T($)),$)())}function le(){return l("atext",y(function(oe){var ue="a"<=oe&&oe<="z"||"A"<=oe&&oe<="Z"||"0"<=oe&&oe<="9"||["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"].indexOf(oe)>=0;return i.rfc6532&&(ue=ue||U(oe)),ue}))}function fe(){return l("atom",k(J(T(se)),j(le,1),J(T(se)))())}function de(){var oe,ue;return null===(oe=l("dot-atom-text",j(le,1)()))||null!==(ue=j(k(g("."),j(le,1)))())&&d(oe,ue),oe}function pe(){return l("dot-atom",k(Y(T(se)),de,Y(T(se)))())}function we(){return l("qtext",D(function(){return y(function(oe){var ue=oe.charCodeAt(0),me=33===ue||35<=ue&&ue<=91||93<=ue&&ue<=126;return i.rfc6532&&(me=me||U(oe)),me})},ge)())}function ve(){return l("qcontent",D(we,E)())}function K(){return l("quoted-string",k(Y(T(se)),Y(ee),j(k(T(J($)),ve)),T(Y($)),Y(ee),Y(T(se)))())}function Q(){return l("word",D(fe,K)())}function te(){return l("address",D(f,ne)())}function f(){return l("mailbox",D(B,be)())}function B(){return l("name-addr",k(T(ae),re)())}function re(){return l("angle-addr",D(k(Y(T(se)),g("<"),be,g(">"),Y(T(se))),N)())}function ne(){return l("group",k(ae,g(":"),T(x),g(";"),Y(T(se)))())}function ae(){return l("display-name",(null!==(oe=l("phrase",D(G,j(Q,1))()))&&(oe.semantic=oe.semantic.replace(/([ \t]|\r\n)+/g," ").replace(/^\s*/,"").replace(/\s*$/,"")),oe));var oe}function S(){return l("mailbox-list",D(k(f,j(k(g(","),f))),M)())}function w(){return l("address-list",D(k(te,j(k(g(","),te))),R)())}function x(){return l("group-list",D(S,Y(se),he)())}function I(){return l("local-part",D(Me,pe,K)())}function V(){return l("dtext",D(function(){return y(function(oe){var ue=oe.charCodeAt(0),me=33<=ue&&ue<=90||94<=ue&&ue<=126;return i.rfc6532&&(me=me||U(oe)),me})},Ie)())}function O(){return l("domain-literal",k(Y(T(se)),g("["),j(k(T($),V)),T($),g("]"),Y(T(se)))())}function W(){return l("domain",(oe=D(Ze,pe,O)(),i.rejectTLD&&oe&&oe.semantic&&oe.semantic.indexOf(".")<0?null:(oe&&(oe.semantic=oe.semantic.replace(/\s+/g,"")),oe)));var oe}function be(){return l("addr-spec",k(I,g("@"),W)())}function ye(){return i.strict?null:l("obs-NO-WS-CTL",y(function(oe){var ue=oe.charCodeAt(0);return 1<=ue&&ue<=8||11===ue||12===ue||14<=ue&&ue<=31||127===ue}))}function Ae(){return i.strict?null:l("obs-ctext",ye())}function ge(){return i.strict?null:l("obs-qtext",ye())}function z(){return i.strict?null:l("obs-qp",k(g("\\"),D(g("\0"),ye,b,ie))())}function G(){return i.strict?null:l("obs-phrase",i.atInDisplayName?k(Q,j(D(Q,g("."),g("@"),J(se))))():k(Q,j(D(Q,g("."),J(se))))())}function q(){return i.strict?null:l("obs-FWS",j(k(Y(T(X)),m),1)())}function N(){return i.strict?null:l("obs-angle-addr",k(Y(T(se)),g("<"),Z,be,g(">"),Y(T(se)))())}function Z(){return i.strict?null:l("obs-route",k(P,g(":"))())}function P(){return i.strict?null:l("obs-domain-list",k(j(D(Y(se),g(","))),g("@"),W,j(k(g(","),Y(T(se)),T(k(g("@"),W)))))())}function M(){return i.strict?null:l("obs-mbox-list",k(j(k(Y(T(se)),g(","))),f,j(k(g(","),T(k(f,Y(se))))))())}function R(){return i.strict?null:l("obs-addr-list",k(j(k(Y(T(se)),g(","))),te,j(k(g(","),T(k(te,Y(se))))))())}function he(){return i.strict?null:l("obs-group-list",k(j(k(Y(T(se)),g(",")),1),Y(T(se)))())}function Me(){return i.strict?null:l("obs-local-part",k(Q,j(k(g("."),Q)))())}function Ze(){return i.strict?null:l("obs-domain",k(fe,j(k(g("."),fe)))())}function Ie(){return i.strict?null:l("obs-dtext",D(ye,E)())}function Te(oe,ue){var me,ke,Ue;if(null==ue)return null;for(ke=[ue];ke.length>0;){if((Ue=ke.pop()).name===oe)return Ue;for(me=Ue.children.length-1;me>=0;me-=1)ke.push(Ue.children[me])}return null}function rt(oe,ue){var me,ke,Ue,Pe,Ee;if(null==ue)return null;for(ke=[ue],Pe=[],Ee={},me=0;me<oe.length;me+=1)Ee[oe[me]]=!0;for(;ke.length>0;)if((Ue=ke.pop()).name in Ee)Pe.push(Ue);else for(me=Ue.children.length-1;me>=0;me-=1)ke.push(Ue.children[me]);return Pe}function je(oe){var ue,me,ke,Ue,Pe,Ee;if(null===oe)return null;for(ue=[],me=rt(["group","mailbox"],oe),ke=0;ke<me.length;ke+=1)"group"===(Ue=me[ke]).name?ue.push(Le(Ue)):"mailbox"===Ue.name&&ue.push(ft(Ue));return Pe={ast:oe,addresses:ue},i.simple&&(Pe=function(Ee){var Je;if(Ee&&Ee.addresses)for(Je=0;Je<Ee.addresses.length;Je+=1)delete Ee.addresses[Je].node;return Ee}(Pe)),i.oneResult?!(Ee=Pe)||!i.partial&&Ee.addresses.length>1?null:Ee.addresses&&Ee.addresses[0]:i.simple?Pe&&Pe.addresses:Pe}function Le(oe){var ue,me=Te("display-name",oe),ke=[],Ue=rt(["mailbox"],oe);for(ue=0;ue<Ue.length;ue+=1)ke.push(ft(Ue[ue]));return{node:oe,parts:{name:me},type:oe.name,name:De(me),addresses:ke}}function ft(oe){var ue=Te("display-name",oe),me=Te("addr-spec",oe),ke=function(Je,Ve){var Xe,Nt,jt,Xt;if(null==Ve)return null;for(Nt=[Ve],Xt=[];Nt.length>0;)for("cfws"===(jt=Nt.pop()).name&&Xt.push(jt),Xe=jt.children.length-1;Xe>=0;Xe-=1)Nt.push(jt.children[Xe]);return Xt}(0,oe),Ue=rt(["comment"],oe),Pe=Te("local-part",me),Ee=Te("domain",me);return{node:oe,parts:{name:ue,address:me,local:Pe,domain:Ee,comments:ke},type:oe.name,name:De(ue),address:De(me),local:De(Pe),domain:De(Ee),comments:Re(Ue),groupName:De(oe.groupName)}}function De(oe){return null!=oe?oe.semantic:null}function Re(oe){var ue="";if(oe)for(var me=0;me<oe.length;me+=1)ue+=De(oe[me]);return ue}var $e,Ce,ze,et,Fe;if(null===(i=n(i,{})))return null;if($e=i.input,Fe={address:te,"address-list":w,"angle-addr":re,from:function(){return l("from",D(S,w)())},group:ne,mailbox:f,"mailbox-list":S,"reply-to":function(){return l("reply-to",w())},sender:function(){return l("sender",D(f,te)())}}[i.startAt]||w,!i.strict){if(u(),i.strict=!0,et=Fe($e),i.partial||!a())return je(et);i.strict=!1}return u(),et=Fe($e),!i.partial&&a()?null:je(et)}function n(i,a){function s(l){return"[object String]"===Object.prototype.toString.call(l)}function o(l){return null==l}var u,c,l;if(s(i))i={input:i};else if((l=i)!==Object(l))return null;if(!s(i.input)||!a)return null;for(c in u={oneResult:!1,partial:!1,rejectTLD:!1,rfc6532:!1,simple:!1,startAt:"address-list",strict:!1,atInDisplayName:!1})o(i[c])&&(i[c]=o(a[c])?u[c]:a[c]);return i}r.parseOneAddress=function(i){return r(n(i,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"address-list"}))},r.parseAddressList=function(i){return r(n(i,{rfc6532:!0,simple:!0,startAt:"address-list"}))},r.parseFrom=function(i){return r(n(i,{rfc6532:!0,simple:!0,startAt:"from"}))},r.parseSender=function(i){return r(n(i,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"sender"}))},r.parseReplyTo=function(i){return r(n(i,{rfc6532:!0,simple:!0,startAt:"reply-to"}))},t.exports=r}()});class no{static get tag(){return _.packet.userID}constructor(){this.userID="",this.name="",this.email="",this.comment=""}static fromObject(e){if(C.isString(e)||e.name&&!C.isString(e.name)||e.email&&!C.isEmailAddress(e.email)||e.comment&&!C.isString(e.comment))throw Error("Invalid user ID format");const r=new no;Object.assign(r,e);const n=[];return r.name&&n.push(r.name),r.comment&&n.push(`(${r.comment})`),r.email&&n.push(`<${r.email}>`),r.userID=n.join(" "),r}read(e,r=_e){const n=C.decodeUTF8(e);if(n.length>r.maxUserIDLength)throw Error("User ID string is too long");try{const{name:i,address:a,comments:s}=r4.parseOneAddress({input:n,atInDisplayName:!0});this.comment=s.replace(/^\(|\)$/g,""),this.name=i,this.email=a}catch(i){}this.userID=n}write(){return C.encodeUTF8(this.userID)}equals(e){return e&&e.userID===this.userID}}class Fu extends ro{static get tag(){return _.packet.secretSubkey}constructor(e=new Date,r=_e){super(e,r)}}const n4=C.constructAllowedPackets([gt]);class pi{constructor(e){this.packets=e||new Ye}write(){return this.packets.write()}armor(e=_e){return Ii(_.armor.signature,this.write(),void 0,void 0,void 0,e)}getSigningKeyIDs(){return this.packets.map(e=>e.issuerKeyID)}}function zu(){return zu=L(function*(i){var a=i,{armoredSignature:t,binarySignature:e,config:r}=a,n=pt(a,["armoredSignature","binarySignature","config"]);r=Be(Be({},_e),r);let s=t||e;if(!s)throw Error("readSignature: must pass options object containing `armoredSignature` or `binarySignature`");if(t&&!C.isString(t))throw Error("readSignature: options.armoredSignature must be a string");if(e&&!C.isUint8Array(e))throw Error("readSignature: options.binarySignature must be a Uint8Array");const o=Object.keys(n);if(o.length>0)throw Error("Unknown option: "+o.join(", "));if(t){const{type:c,data:l}=yield sn(s,r);if(c!==_.armor.signature)throw Error("Armored text not of type signature");s=l}const u=yield Ye.fromBinary(s,n4,r);return new pi(u)}),zu.apply(this,arguments)}function Vu(){return Vu=L(function*(t,e){const r=new Fu(t.date,e);return r.packets=null,r.algorithm=_.read(_.publicKey,t.algorithm),yield r.generate(t.rsaBits,t.curve),yield r.computeFingerprintAndKeyID(),r}),Vu.apply(this,arguments)}function gr(t,e,r,n){return Nu.apply(this,arguments)}function Nu(){return Nu=L(function*(t,e,r,n,i=new Date,a){let s,o;for(let u=t.length-1;u>=0;u--)try{(!s||t[u].created>=s.created)&&(yield t[u].verify(e,r,n,i,void 0,a),s=t[u])}catch(c){o=c}if(!s)throw C.wrapError(`Could not find valid ${_.read(_.signature,r)} signature in key ${e.getKeyID().toHex()}`.replace("certGeneric ","self-").replace(/([a-z])([A-Z])/g,(u,c,l)=>c+" "+l.toLowerCase()),o);return s}),Nu.apply(this,arguments)}function ju(t,e,r=new Date){const n=C.normalizeDate(r);if(null!==n){const i=ao(t,e);return!(t.created<=n&&n<i)}return!1}function Lu(){return Lu=L(function*(t,e,r,n){const i={};i.key=e,i.bind=t;const a=new gt;return a.signatureType=_.signature.subkeyBinding,a.publicKeyAlgorithm=e.algorithm,a.hashAlgorithm=yield io(null,t,void 0,void 0,n),r.sign?(a.keyFlags=[_.keyFlags.signData],a.embeddedSignature=yield ji(i,null,t,{signatureType:_.signature.keyBinding},r.date,void 0,void 0,n)):a.keyFlags=[_.keyFlags.encryptCommunication|_.keyFlags.encryptStorage],r.keyExpirationTime>0&&(a.keyExpirationTime=r.keyExpirationTime,a.keyNeverExpires=!1),yield a.sign(e,i,r.date),a}),Lu.apply(this,arguments)}function io(t,e){return Gu.apply(this,arguments)}function Gu(){return Gu=L(function*(t,e,r=new Date,n={},i){let a=i.preferredHashAlgorithm,s=a;if(t){const o=yield t.getPrimaryUser(r,n,i);o.selfCertification.preferredHashAlgorithms&&([s]=o.selfCertification.preferredHashAlgorithms,a=Se.hash.getHashByteLength(a)<=Se.hash.getHashByteLength(s)?s:a)}switch(Object.getPrototypeOf(e)){case ro.prototype:case yr.prototype:case Fu.prototype:case ja.prototype:switch(e.algorithm){case"ecdh":case"ecdsa":case"eddsa":s=Se.publicKey.elliptic.getPreferredHashAlgo(e.publicParams.oid)}}return Se.hash.getHashByteLength(a)<=Se.hash.getHashByteLength(s)?s:a}),Gu.apply(this,arguments)}function Zu(t){return Hu.apply(this,arguments)}function Hu(){return Hu=L(function*(t,e=[],r=new Date,n=[],i=_e){const a={symmetric:_.symmetric.aes128,aead:_.aead.eax,compression:_.compression.uncompressed}[t],s={symmetric:i.preferredSymmetricAlgorithm,aead:i.preferredAEADAlgorithm,compression:i.preferredCompressionAlgorithm}[t],o={symmetric:"preferredSymmetricAlgorithms",aead:"preferredAEADAlgorithms",compression:"preferredCompressionAlgorithms"}[t];return(yield Promise.all(e.map(function(){var u=L(function*(c,l){const d=(yield c.getPrimaryUser(r,n[l],i)).selfCertification[o];return!!d&&d.indexOf(s)>=0});return function(c,l){return u.apply(this,arguments)}}()))).every(Boolean)?s:a}),Hu.apply(this,arguments)}function ji(t,e,r,n,i,a){return Wu.apply(this,arguments)}function Wu(){return Wu=L(function*(t,e,r,n,i,a,s=!1,o){if(r.isDummy())throw Error("Cannot sign with a gnu-dummy key.");if(!r.isDecrypted())throw Error("Signing key is not decrypted.");const u=new gt;return Object.assign(u,n),u.publicKeyAlgorithm=r.algorithm,u.hashAlgorithm=yield io(e,r,i,a,o),yield u.sign(r,t,i,s),u}),Wu.apply(this,arguments)}function yi(t,e,r){return $u.apply(this,arguments)}function $u(){return $u=L(function*(t,e,r,n=new Date,i){(t=t[r])&&(e[r].length?yield Promise.all(t.map(function(){var a=L(function*(s){s.isExpired(n)||i&&!(yield i(s))||e[r].some(function(o){return C.equalsUint8Array(o.writeParams(),s.writeParams())})||e[r].push(s)});return function(s){return a.apply(this,arguments)}}())):e[r]=t)}),$u.apply(this,arguments)}function Li(t,e,r,n,i,a){return Yu.apply(this,arguments)}function Yu(){return Yu=L(function*(t,e,r,n,i,a,s=new Date,o){a=a||t;const u=[];return yield Promise.all(n.map(function(){var c=L(function*(l){try{i&&!l.issuerKeyID.equals(i.issuerKeyID)||(yield l.verify(a,e,r,o.revocationsExpire?s:null,!1,o),u.push(l.issuerKeyID))}catch(d){}});return function(l){return c.apply(this,arguments)}}())),i?(i.revoked=!!u.some(c=>c.equals(i.issuerKeyID))||i.revoked||!1,i.revoked):u.length>0}),Yu.apply(this,arguments)}function ao(t,e){let r;return!1===e.keyNeverExpires&&(r=t.created.getTime()+1e3*e.keyExpirationTime),r?new Date(r):1/0}function Yh(t,e){const r=_.write(_.publicKey,t.algorithm);return r!==_.publicKey.rsaEncrypt&&r!==_.publicKey.elgamal&&r!==_.publicKey.ecdh&&(!e.keyFlags||0!=(e.keyFlags[0]&_.keyFlags.signData))}function Jh(t,e){const r=_.write(_.publicKey,t.algorithm);return r!==_.publicKey.dsa&&r!==_.publicKey.rsaSign&&r!==_.publicKey.ecdsa&&r!==_.publicKey.eddsa&&(!e.keyFlags||0!=(e.keyFlags[0]&_.keyFlags.encryptCommunication)||0!=(e.keyFlags[0]&_.keyFlags.encryptStorage))}function Qh(t,e){return!!e.allowInsecureDecryptionWithSigningKeys||!t.keyFlags||0!=(t.keyFlags[0]&_.keyFlags.encryptCommunication)||0!=(t.keyFlags[0]&_.keyFlags.encryptStorage)}function La(t,e){const r=_.write(_.publicKey,t.algorithm);if(e.rejectPublicKeyAlgorithms.has(r))throw Error(t.algorithm+" keys are considered too weak.");const n=t.getAlgorithmInfo();switch(r){case _.publicKey.rsaEncryptSign:case _.publicKey.rsaSign:case _.publicKey.rsaEncrypt:if(n.bits<e.minRSABits)throw Error(`RSA keys shorter than ${e.minRSABits} bits are considered too weak.`);break;case _.publicKey.ecdsa:case _.publicKey.eddsa:case _.publicKey.ecdh:if(e.rejectCurves.has(n.curve))throw Error(`Support for ${t.algorithm} keys using curve ${n.curve} is disabled.`)}}class so{constructor(e,r){this.userID=e.constructor.tag===_.packet.userID?e:null,this.userAttribute=e.constructor.tag===_.packet.userAttribute?e:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[],this.mainKey=r}toPacketList(){const e=new Ye;return e.push(this.userID||this.userAttribute),e.push(...this.revocationSignatures),e.push(...this.selfCertifications),e.push(...this.otherCertifications),e}clone(){const e=new so(this.userID||this.userAttribute,this.mainKey);return e.selfCertifications=[...this.selfCertifications],e.otherCertifications=[...this.otherCertifications],e.revocationSignatures=[...this.revocationSignatures],e}certify(e,r,n){var i=this;return L(function*(){const a=i.mainKey.keyPacket,s={userID:i.userID,userAttribute:i.userAttribute,key:a},o=new so(s.userID||s.userAttribute,i.mainKey);return o.otherCertifications=yield Promise.all(e.map(function(){var u=L(function*(c){if(!c.isPrivate())throw Error("Need private key for signing");if(c.hasSameFingerprintAs(a))throw Error("The user's own key can only be used for self-certifications");const l=yield c.getSigningKey(void 0,r,void 0,n);return ji(s,c,l.keyPacket,{signatureType:_.signature.certGeneric,keyFlags:[_.keyFlags.certifyKeys|_.keyFlags.signData]},r,void 0,void 0,n)});return function(c){return u.apply(this,arguments)}}())),yield o.update(i,r,n),o})()}isRevoked(e,r,n=new Date,i){var a=this;return L(function*(){const s=a.mainKey.keyPacket;return Li(s,_.signature.certRevocation,{key:s,userID:a.userID,userAttribute:a.userAttribute},a.revocationSignatures,e,r,n,i)})()}verifyCertificate(e,r,n=new Date,i){var a=this;return L(function*(){const s=a,u={userID:a.userID,userAttribute:a.userAttribute,key:a.mainKey.keyPacket},{issuerKeyID:c}=e,l=r.filter(d=>d.getKeys(c).length>0);return 0===l.length?null:(yield Promise.all(l.map(function(){var d=L(function*(y){const g=yield y.getSigningKey(c,e.created,void 0,i);if(e.revoked||(yield s.isRevoked(e,g.keyPacket,n,i)))throw Error("User certificate is revoked");try{yield e.verify(g.keyPacket,_.signature.certGeneric,u,n,void 0,i)}catch(k){throw C.wrapError("User certificate is invalid",k)}});return function(y){return d.apply(this,arguments)}}())),!0)})()}verifyAllCertifications(e,r=new Date,n){var i=this;return L(function*(){const a=i,s=i.selfCertifications.concat(i.otherCertifications);return Promise.all(s.map(function(){var o=L(function*(u){return{keyID:u.issuerKeyID,valid:yield a.verifyCertificate(u,e,r,n).catch(()=>!1)}});return function(u){return o.apply(this,arguments)}}()))})()}verify(e=new Date,r){var n=this;return L(function*(){if(!n.selfCertifications.length)throw Error("No self-certifications found");const i=n,a=n.mainKey.keyPacket,s={userID:n.userID,userAttribute:n.userAttribute,key:a};let o;for(let u=n.selfCertifications.length-1;u>=0;u--)try{const c=n.selfCertifications[u];if(c.revoked||(yield i.isRevoked(c,void 0,e,r)))throw Error("Self-certification is revoked");try{yield c.verify(a,_.signature.certGeneric,s,e,void 0,r)}catch(l){throw C.wrapError("Self-certification is invalid",l)}return!0}catch(c){o=c}throw o})()}update(e,r,n){var i=this;return L(function*(){const a=i.mainKey.keyPacket,s={userID:i.userID,userAttribute:i.userAttribute,key:a};yield yi(e,i,"selfCertifications",r,function(){var o=L(function*(u){try{return yield u.verify(a,_.signature.certGeneric,s,r,!1,n),!0}catch(c){return!1}});return function(u){return o.apply(this,arguments)}}()),yield yi(e,i,"otherCertifications",r),yield yi(e,i,"revocationSignatures",r,function(o){return Li(a,_.signature.certRevocation,s,[o],void 0,void 0,r,n)})})()}}class Gi{constructor(e,r){this.keyPacket=e,this.bindingSignatures=[],this.revocationSignatures=[],this.mainKey=r}toPacketList(){const e=new Ye;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.bindingSignatures),e}clone(){const e=new Gi(this.keyPacket,this.mainKey);return e.bindingSignatures=[...this.bindingSignatures],e.revocationSignatures=[...this.revocationSignatures],e}isRevoked(e,r,n=new Date,i=_e){var a=this;return L(function*(){const s=a.mainKey.keyPacket;return Li(s,_.signature.subkeyRevocation,{key:s,bind:a.keyPacket},a.revocationSignatures,e,r,n,i)})()}verify(e=new Date,r=_e){var n=this;return L(function*(){const i=n.mainKey.keyPacket,a={key:i,bind:n.keyPacket},s=yield gr(n.bindingSignatures,i,_.signature.subkeyBinding,a,e,r);if(s.revoked||(yield n.isRevoked(s,null,e,r)))throw Error("Subkey is revoked");if(ju(n.keyPacket,s,e))throw Error("Subkey is expired");return s})()}getExpirationTime(e=new Date,r=_e){var n=this;return L(function*(){const i=n.mainKey.keyPacket,a={key:i,bind:n.keyPacket};let s;try{s=yield gr(n.bindingSignatures,i,_.signature.subkeyBinding,a,e,r)}catch(c){return null}const o=ao(n.keyPacket,s),u=s.getExpirationTime();return o<u?o:u})()}update(e,r=new Date,n=_e){var i=this;return L(function*(){const a=i.mainKey.keyPacket;if(!i.hasSameFingerprintAs(e))throw Error("Subkey update method: fingerprints of subkeys not equal");i.keyPacket.constructor.tag===_.packet.publicSubkey&&e.keyPacket.constructor.tag===_.packet.secretSubkey&&(i.keyPacket=e.keyPacket);const s=i,o={key:a,bind:s.keyPacket};yield yi(e,i,"bindingSignatures",r,function(){var u=L(function*(c){for(let l=0;l<s.bindingSignatures.length;l++)if(s.bindingSignatures[l].issuerKeyID.equals(c.issuerKeyID))return c.created>s.bindingSignatures[l].created&&(s.bindingSignatures[l]=c),!1;try{return yield c.verify(a,_.signature.subkeyBinding,o,r,void 0,n),!0}catch(l){return!1}});return function(c){return u.apply(this,arguments)}}()),yield yi(e,i,"revocationSignatures",r,function(u){return Li(a,_.signature.subkeyRevocation,o,[u],void 0,void 0,r,n)})})()}revoke(e,{flag:r=_.reasonForRevocation.noReason,string:n=""}={},i=new Date,a=_e){var s=this;return L(function*(){const o={key:e,bind:s.keyPacket},u=new Gi(s.keyPacket,s.mainKey);return u.revocationSignatures.push(yield ji(o,null,e,{signatureType:_.signature.subkeyRevocation,reasonForRevocationFlag:_.write(_.reasonForRevocation,r),reasonForRevocationString:n},i,void 0,!1,a)),yield u.update(s),u})()}hasSameFingerprintAs(e){return this.keyPacket.hasSameFingerprintAs(e.keyPacket||e)}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach(t=>{Gi.prototype[t]=function(){return this.keyPacket[t]()}});const s4=C.constructAllowedPackets([gt]);class Xh{packetListToStructure(e,r=new Set){let n,i,a;for(const s of e){const o=s.constructor.tag;if(r.has(o))throw Error("Unexpected packet type: "+o);switch(o){case _.packet.publicKey:case _.packet.secretKey:if(this.keyPacket)throw Error("Key block contains multiple keys");if(this.keyPacket=s,i=this.getKeyID(),!i)throw Error("Missing Key ID");break;case _.packet.userID:case _.packet.userAttribute:n=new so(s,this),this.users.push(n);break;case _.packet.publicSubkey:case _.packet.secretSubkey:n=null,a=new Gi(s,this),this.subkeys.push(a);break;case _.packet.signature:switch(s.signatureType){case _.signature.certGeneric:case _.signature.certPersona:case _.signature.certCasual:case _.signature.certPositive:if(!n){C.printDebug("Dropping certification signatures without preceding user packet");continue}s.issuerKeyID.equals(i)?n.selfCertifications.push(s):n.otherCertifications.push(s);break;case _.signature.certRevocation:n?n.revocationSignatures.push(s):this.directSignatures.push(s);break;case _.signature.key:this.directSignatures.push(s);break;case _.signature.subkeyBinding:if(!a){C.printDebug("Dropping subkey binding signature without preceding subkey packet");continue}a.bindingSignatures.push(s);break;case _.signature.keyRevocation:this.revocationSignatures.push(s);break;case _.signature.subkeyRevocation:if(!a){C.printDebug("Dropping subkey revocation signature without preceding subkey packet");continue}a.revocationSignatures.push(s)}}}}toPacketList(){const e=new Ye;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.directSignatures),this.users.map(r=>e.push(...r.toPacketList())),this.subkeys.map(r=>e.push(...r.toPacketList())),e}clone(e=!1){const r=new this.constructor(this.toPacketList());return e&&r.getKeys().forEach(n=>{if(n.keyPacket=Object.create(Object.getPrototypeOf(n.keyPacket),Object.getOwnPropertyDescriptors(n.keyPacket)),!n.keyPacket.isDecrypted())return;const i={};Object.keys(n.keyPacket.privateParams).forEach(a=>{i[a]=new Uint8Array(n.keyPacket.privateParams[a])}),n.keyPacket.privateParams=i}),r}getSubkeys(e=null){return this.subkeys.filter(r=>!e||r.getKeyID().equals(e,!0))}getKeys(e=null){const r=[];return e&&!this.getKeyID().equals(e,!0)||r.push(this),r.concat(this.getSubkeys(e))}getKeyIDs(){return this.getKeys().map(e=>e.getKeyID())}getUserIDs(){return this.users.map(e=>e.userID?e.userID.userID:null).filter(e=>null!==e)}write(){return this.toPacketList().write()}getSigningKey(e=null,r=new Date,n={},i=_e){var a=this;return L(function*(){yield a.verifyPrimaryKey(r,n,i);const s=a.keyPacket,o=a.subkeys.slice().sort((c,l)=>l.keyPacket.created-c.keyPacket.created);let u;for(const c of o)if(!e||c.getKeyID().equals(e))try{yield c.verify(r,i);const l={key:s,bind:c.keyPacket},d=yield gr(c.bindingSignatures,s,_.signature.subkeyBinding,l,r,i);if(!Yh(c.keyPacket,d))continue;if(!d.embeddedSignature)throw Error("Missing embedded signature");return yield gr([d.embeddedSignature],c.keyPacket,_.signature.keyBinding,l,r,i),La(c.keyPacket,i),c}catch(l){u=l}try{const c=yield a.getPrimaryUser(r,n,i);if((!e||s.getKeyID().equals(e))&&Yh(s,c.selfCertification))return La(s,i),a}catch(c){u=c}throw C.wrapError("Could not find valid signing key packet in key "+a.getKeyID().toHex(),u)})()}getEncryptionKey(e,r=new Date,n={},i=_e){var a=this;return L(function*(){yield a.verifyPrimaryKey(r,n,i);const s=a.keyPacket,o=a.subkeys.slice().sort((c,l)=>l.keyPacket.created-c.keyPacket.created);let u;for(const c of o)if(!e||c.getKeyID().equals(e))try{yield c.verify(r,i);const l={key:s,bind:c.keyPacket},d=yield gr(c.bindingSignatures,s,_.signature.subkeyBinding,l,r,i);if(Jh(c.keyPacket,d))return La(c.keyPacket,i),c}catch(l){u=l}try{const c=yield a.getPrimaryUser(r,n,i);if((!e||s.getKeyID().equals(e))&&Jh(s,c.selfCertification))return La(s,i),a}catch(c){u=c}throw C.wrapError("Could not find valid encryption key packet in key "+a.getKeyID().toHex(),u)})()}isRevoked(e,r,n=new Date,i=_e){var a=this;return L(function*(){return Li(a.keyPacket,_.signature.keyRevocation,{key:a.keyPacket},a.revocationSignatures,e,r,n,i)})()}verifyPrimaryKey(e=new Date,r={},n=_e){var i=this;return L(function*(){const a=i.keyPacket;if(yield i.isRevoked(null,null,e,n))throw Error("Primary key is revoked");const{selfCertification:s}=yield i.getPrimaryUser(e,r,n);if(ju(a,s,e))throw Error("Primary key is expired");const o=yield gr(i.directSignatures,a,_.signature.key,{key:a},e,n).catch(()=>{});if(o&&ju(a,o,e))throw Error("Primary key is expired")})()}getExpirationTime(e,r=_e){var n=this;return L(function*(){let i;try{const{selfCertification:a}=yield n.getPrimaryUser(null,e,r),s=ao(n.keyPacket,a),o=a.getExpirationTime(),u=yield gr(n.directSignatures,n.keyPacket,_.signature.key,{key:n.keyPacket},null,r).catch(()=>{});if(u){const c=ao(n.keyPacket,u);i=Math.min(s,o,c)}else i=s<o?s:o}catch(a){i=null}return C.normalizeDate(i)})()}getPrimaryUser(e=new Date,r={},n=_e){var i=this;return L(function*(){const a=i.keyPacket,s=[];let o;for(let d=0;d<i.users.length;d++)try{const y=i.users[d];if(!y.userID)continue;if(void 0!==r.name&&y.userID.name!==r.name||void 0!==r.email&&y.userID.email!==r.email||void 0!==r.comment&&y.userID.comment!==r.comment)throw Error("Could not find user that matches that user ID");const g={userID:y.userID,key:a},k=yield gr(y.selfCertifications,a,_.signature.certGeneric,g,e,n);s.push({index:d,user:y,selfCertification:k})}catch(y){o=y}if(!s.length)throw o||Error("Could not find primary user");yield Promise.all(s.map(function(){var d=L(function*(y){return y.user.revoked||y.user.isRevoked(y.selfCertification,null,e,n)});return function(y){return d.apply(this,arguments)}}()));const u=s.sort(function(d,y){const g=d.selfCertification,k=y.selfCertification;return k.revoked-g.revoked||g.isPrimaryUserID-k.isPrimaryUserID||g.created-k.created}).pop(),{user:c,selfCertification:l}=u;if(l.revoked||(yield c.isRevoked(l,null,e,n)))throw Error("Primary user is revoked");return u})()}update(e,r=new Date,n=_e){var i=this;return L(function*(){if(!i.hasSameFingerprintAs(e))throw Error("Primary key fingerprints must be equal to update the key");if(!i.isPrivate()&&e.isPrivate()){if(i.subkeys.length!==e.subkeys.length||!i.subkeys.every(s=>e.subkeys.some(o=>s.hasSameFingerprintAs(o))))throw Error("Cannot update public key with private key if subkeys mismatch");return e.update(i,n)}const a=i.clone();return yield yi(e,a,"revocationSignatures",r,s=>Li(a.keyPacket,_.signature.keyRevocation,a,[s],null,e.keyPacket,r,n)),yield yi(e,a,"directSignatures",r),yield Promise.all(e.users.map(function(){var s=L(function*(o){const u=a.users.filter(c=>o.userID&&o.userID.equals(c.userID)||o.userAttribute&&o.userAttribute.equals(c.userAttribute));if(u.length>0)yield Promise.all(u.map(c=>c.update(o,r,n)));else{const c=o.clone();c.mainKey=a,a.users.push(c)}});return function(o){return s.apply(this,arguments)}}())),yield Promise.all(e.subkeys.map(function(){var s=L(function*(o){const u=a.subkeys.filter(c=>c.hasSameFingerprintAs(o));if(u.length>0)yield Promise.all(u.map(c=>c.update(o,r,n)));else{const c=o.clone();c.mainKey=a,a.subkeys.push(c)}});return function(o){return s.apply(this,arguments)}}())),a})()}getRevocationCertificate(e=new Date,r=_e){var n=this;return L(function*(){const i={key:n.keyPacket},a=yield gr(n.revocationSignatures,n.keyPacket,_.signature.keyRevocation,i,e,r),s=new Ye;return s.push(a),Ii(_.armor.publicKey,s.write(),null,null,"This is a revocation certificate")})()}applyRevocationCertificate(e,r=new Date,n=_e){var i=this;return L(function*(){const a=yield sn(e,n),s=(yield Ye.fromBinary(a.data,s4,n)).findPacket(_.packet.signature);if(!s||s.signatureType!==_.signature.keyRevocation)throw Error("Could not find revocation signature packet");if(!s.issuerKeyID.equals(i.getKeyID()))throw Error("Revocation signature does not match key");try{yield s.verify(i.keyPacket,_.signature.keyRevocation,{key:i.keyPacket},r,void 0,n)}catch(u){throw C.wrapError("Could not verify revocation signature",u)}const o=i.clone();return o.revocationSignatures.push(s),o})()}signPrimaryUser(e,r,n,i=_e){var a=this;return L(function*(){const{index:s,user:o}=yield a.getPrimaryUser(r,n,i),u=yield o.certify(e,r,i),c=a.clone();return c.users[s]=u,c})()}signAllUsers(e,r=new Date,n=_e){var i=this;return L(function*(){const a=i.clone();return a.users=yield Promise.all(i.users.map(function(s){return s.certify(e,r,n)})),a})()}verifyPrimaryUser(e,r=new Date,n,i=_e){var a=this;return L(function*(){const s=a.keyPacket,{user:o}=yield a.getPrimaryUser(r,n,i);return e?yield o.verifyAllCertifications(e,r,i):[{keyID:s.getKeyID(),valid:yield o.verify(r,i).catch(()=>!1)}]})()}verifyAllUsers(e,r=new Date,n=_e){var i=this;return L(function*(){const a=i.keyPacket,s=[];return yield Promise.all(i.users.map(function(){var o=L(function*(u){const c=e?yield u.verifyAllCertifications(e,r,n):[{keyID:a.getKeyID(),valid:yield u.verify(r,n).catch(()=>!1)}];s.push(...c.map(l=>({userID:u.userID.userID,keyID:l.keyID,valid:l.valid})))});return function(u){return o.apply(this,arguments)}}())),s})()}}function e2(t){for(const e of t)switch(e.constructor.tag){case _.packet.secretKey:return new Zi(t);case _.packet.publicKey:return new Qu(t)}throw Error("No key packet found")}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","hasSameFingerprintAs"].forEach(t=>{Xh.prototype[t]=Gi.prototype[t]});class Qu extends Xh{constructor(e){if(super(),this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subkeys=[],e&&(this.packetListToStructure(e,new Set([_.packet.secretKey,_.packet.secretSubkey])),!this.keyPacket))throw Error("Invalid key: missing public-key packet")}isPrivate(){return!1}toPublic(){return this}armor(e=_e){return Ii(_.armor.publicKey,this.toPacketList().write(),void 0,void 0,void 0,e)}}class Zi extends Qu{constructor(e){if(super(),this.packetListToStructure(e,new Set([_.packet.publicKey,_.packet.publicSubkey])),!this.keyPacket)throw Error("Invalid key: missing private-key packet")}isPrivate(){return!0}toPublic(){const e=new Ye,r=this.toPacketList();for(const n of r)switch(n.constructor.tag){case _.packet.secretKey:{const i=yr.fromSecretKeyPacket(n);e.push(i);break}case _.packet.secretSubkey:{const i=ja.fromSecretSubkeyPacket(n);e.push(i);break}default:e.push(n)}return new Qu(e)}armor(e=_e){return Ii(_.armor.privateKey,this.toPacketList().write(),void 0,void 0,void 0,e)}getDecryptionKeys(e,r=new Date,n={},i=_e){var a=this;return L(function*(){const s=a.keyPacket,o=[];for(let c=0;c<a.subkeys.length;c++)if(!e||a.subkeys[c].getKeyID().equals(e,!0))try{const l={key:s,bind:a.subkeys[c].keyPacket};Qh(yield gr(a.subkeys[c].bindingSignatures,s,_.signature.subkeyBinding,l,r,i),i)&&o.push(a.subkeys[c])}catch(l){}const u=yield a.getPrimaryUser(r,n,i);return e&&!s.getKeyID().equals(e,!0)||!Qh(u.selfCertification,i)||o.push(a),o})()}isDecrypted(){return this.getKeys().some(({keyPacket:e})=>e.isDecrypted())}validate(e=_e){var r=this;return L(function*(){if(!r.isPrivate())throw Error("Cannot validate a public key");let n;if(r.keyPacket.isDummy()){const i=yield r.getSigningKey(null,null,void 0,na(Be({},e),{rejectPublicKeyAlgorithms:new Set,minRSABits:0}));i&&!i.keyPacket.isDummy()&&(n=i.keyPacket)}else n=r.keyPacket;if(n)return n.validate();{const i=r.getKeys();if(i.map(a=>a.keyPacket.isDummy()).every(Boolean))throw Error("Cannot validate an all-gnu-dummy key");return Promise.all(i.map(function(){var a=L(function*(s){return s.keyPacket.validate()});return function(s){return a.apply(this,arguments)}}()))}})()}clearPrivateParams(){this.getKeys().forEach(({keyPacket:e})=>{e.isDecrypted()&&e.clearPrivateParams()})}revoke({flag:e=_.reasonForRevocation.noReason,string:r=""}={},n=new Date,i=_e){var a=this;return L(function*(){if(!a.isPrivate())throw Error("Need private key for revoking");const s={key:a.keyPacket},o=a.clone();return o.revocationSignatures.push(yield ji(s,null,a.keyPacket,{signatureType:_.signature.keyRevocation,reasonForRevocationFlag:_.write(_.reasonForRevocation,e),reasonForRevocationString:r},n,void 0,void 0,i)),o})()}addSubkey(e={}){var r=this;return L(function*(){const n=Be(Be({},_e),e.config);if(e.passphrase)throw Error("Subkey could not be encrypted here, please encrypt whole key");if(e.rsaBits<n.minRSABits)throw Error(`rsaBits should be at least ${n.minRSABits}, got: ${e.rsaBits}`);const i=r.keyPacket;if(i.isDummy())throw Error("Cannot add subkey to gnu-dummy primary key");if(!i.isDecrypted())throw Error("Key is not decrypted");const a=i.getAlgorithmInfo();a.type=a.curve?"ecc":"rsa",a.rsaBits=a.bits||4096,a.curve=a.curve||"curve25519",e=function(t,e={}){switch(t.type=t.type||e.type,t.curve=t.curve||e.curve,t.rsaBits=t.rsaBits||e.rsaBits,t.keyExpirationTime=void 0!==t.keyExpirationTime?t.keyExpirationTime:e.keyExpirationTime,t.passphrase=C.isString(t.passphrase)?t.passphrase:e.passphrase,t.date=t.date||e.date,t.sign=t.sign||!1,t.type){case"ecc":try{t.curve=_.write(_.curve,t.curve)}catch(r){throw Error("Invalid curve")}t.curve!==_.curve.ed25519&&t.curve!==_.curve.curve25519||(t.curve=t.sign?_.curve.ed25519:_.curve.curve25519),t.algorithm=t.sign?t.curve===_.curve.ed25519?_.publicKey.eddsa:_.publicKey.ecdsa:_.publicKey.ecdh;break;case"rsa":t.algorithm=_.publicKey.rsaEncryptSign;break;default:throw Error("Unsupported key type "+t.type)}return t}(e,a);const s=yield function(t,e){return Vu.apply(this,arguments)}(e),o=yield function(t,e,r,n){return Lu.apply(this,arguments)}(s,i,e,n),u=r.toPacketList();return u.push(s,o),new Zi(u)})()}}const oo=C.constructAllowedPackets([yr,ja,ro,Fu,no,Bu,gt]);function e0(t){return t0.apply(this,arguments)}function t0(){return t0=L(function*(i){var a=i,{armoredKey:t,binaryKey:e,config:r}=a,n=pt(a,["armoredKey","binaryKey","config"]);if(r=Be(Be({},_e),r),!t&&!e)throw Error("readKey: must pass options object containing `armoredKey` or `binaryKey`");if(t&&!C.isString(t))throw Error("readKey: options.armoredKey must be a string");if(e&&!C.isUint8Array(e))throw Error("readKey: options.binaryKey must be a Uint8Array");const s=Object.keys(n);if(s.length>0)throw Error("Unknown option: "+s.join(", "));let o;if(t){const{type:u,data:c}=yield sn(t,r);if(u!==_.armor.publicKey&&u!==_.armor.privateKey)throw Error("Armored text not of type key");o=c}else o=e;return e2(yield Ye.fromBinary(o,oo,r))}),t0.apply(this,arguments)}const c4=C.constructAllowedPackets([Ni]),u4=C.constructAllowedPackets([gt]);class zt{constructor(e){this.packets=e||new Ye}getEncryptionKeyIDs(){const e=[];return this.packets.filterByTag(_.packet.publicKeyEncryptedSessionKey).forEach(function(r){e.push(r.publicKeyID)}),e}getSigningKeyIDs(){const e=this.unwrapCompressed(),r=e.packets.filterByTag(_.packet.onePassSignature);return r.length>0?r.map(n=>n.issuerKeyID):e.packets.filterByTag(_.packet.signature).map(n=>n.issuerKeyID)}decrypt(e,r,n,i=new Date,a=_e){var s=this;return L(function*(){const o=n||(yield s.decryptSessionKeys(e,r,i,a)),u=s.packets.filterByTag(_.packet.symmetricallyEncryptedData,_.packet.symEncryptedIntegrityProtectedData,_.packet.aeadEncryptedData);if(0===u.length)return s;const c=u[0];let l=null;const d=Promise.all(o.map(function(){var g=L(function*(k){if(!k||!C.isUint8Array(k.data)||!C.isString(k.algorithm))throw Error("Invalid session key for decryption.");try{yield c.decrypt(k.algorithm,k.data,a)}catch(D){C.printDebugError(D),l=D}});return function(k){return g.apply(this,arguments)}}()));if(Oc(c.encrypted),c.encrypted=null,yield d,!c.packets||!c.packets.length)throw l||Error("Decryption failed.");const y=new zt(c.packets);return c.packets=new Ye,y})()}decryptSessionKeys(e,r,n=new Date,i=_e){var a=this;return L(function*(){let s,o=[];if(r){const u=a.packets.filterByTag(_.packet.symEncryptedSessionKey);if(0===u.length)throw Error("No symmetrically encrypted session key packet found.");yield Promise.all(r.map(function(){var c=L(function*(l,d){let y;y=d?yield Ye.fromBinary(u.write(),c4,i):u,yield Promise.all(y.map(function(){var g=L(function*(k){try{yield k.decrypt(l),o.push(k)}catch(D){C.printDebugError(D)}});return function(k){return g.apply(this,arguments)}}()))});return function(l,d){return c.apply(this,arguments)}}()))}else{if(!e)throw Error("No key or password specified.");{const u=a.packets.filterByTag(_.packet.publicKeyEncryptedSessionKey);if(0===u.length)throw Error("No public key encrypted session key packet found.");yield Promise.all(u.map(function(){var c=L(function*(l){yield Promise.all(e.map(function(){var d=L(function*(y){let g=[_.symmetric.aes256,_.symmetric.aes128,_.symmetric.tripledes,_.symmetric.cast5];try{const D=yield y.getPrimaryUser(n,void 0,i);D.selfCertification.preferredSymmetricAlgorithms&&(g=g.concat(D.selfCertification.preferredSymmetricAlgorithms))}catch(D){}const k=(yield y.getDecryptionKeys(l.publicKeyID,null,void 0,i)).map(D=>D.keyPacket);yield Promise.all(k.map(function(){var D=L(function*(T){if(T&&!T.isDummy()){if(!T.isDecrypted())throw Error("Decryption key is not decrypted.");try{if(yield l.decrypt(T),!g.includes(_.write(_.symmetric,l.sessionKeyAlgorithm)))throw Error("A non-preferred symmetric algorithm was used.");o.push(l)}catch(Y){C.printDebugError(Y),s=Y}}});return function(T){return D.apply(this,arguments)}}()))});return function(y){return d.apply(this,arguments)}}())),Oc(l.encrypted),l.encrypted=null});return function(l){return c.apply(this,arguments)}}()))}}if(o.length){if(o.length>1){const u=new Set;o=o.filter(c=>{const l=c.sessionKeyAlgorithm+C.uint8ArrayToString(c.sessionKey);return!u.has(l)&&(u.add(l),!0)})}return o.map(u=>({data:u.sessionKey,algorithm:u.sessionKeyAlgorithm}))}throw s||Error("Session key decryption failed.")})()}getLiteralData(){const e=this.unwrapCompressed().packets.findPacket(_.packet.literalData);return e&&e.getBytes()||null}getFilename(){const e=this.unwrapCompressed().packets.findPacket(_.packet.literalData);return e&&e.getFilename()||null}getText(){const e=this.unwrapCompressed().packets.findPacket(_.packet.literalData);return e?e.getText():null}static generateSessionKey(e=[],r=new Date,n=[],i=_e){return L(function*(){const a=_.read(_.symmetric,yield Zu("symmetric",e,r,n,i)),s=i.aeadProtect&&(yield(o=L(function*(u,c=new Date,l=[],d=_e){let y=!0;return yield Promise.all(u.map(function(){var g=L(function*(k,D){const T=yield k.getPrimaryUser(c,l[D],d);T.selfCertification.features&&T.selfCertification.features[0]&_.features.aead||(y=!1)});return function(k,D){return g.apply(this,arguments)}}())),y}),function(u){return o.apply(this,arguments)})(e,r,n,i))?_.read(_.aead,yield Zu("aead",e,r,n,i)):void 0;var o;return{data:yield Se.generateSessionKey(a),algorithm:a,aeadAlgorithm:s}})()}encrypt(e,r,n,i=!1,a=[],s=new Date,o=[],u=_e){var c=this;return L(function*(){if(n){if(!C.isUint8Array(n.data)||!C.isString(n.algorithm))throw Error("Invalid session key for encryption.")}else if(e&&e.length)n=yield zt.generateSessionKey(e,s,o,u);else{if(!r||!r.length)throw Error("No keys, passwords, or session key provided.");n=yield zt.generateSessionKey(void 0,void 0,void 0,u)}const{data:l,algorithm:d,aeadAlgorithm:y}=n,g=yield zt.encryptSessionKey(l,d,y,e,r,i,a,s,o,u);let k;return y?(k=new to,k.aeadAlgorithm=y):k=new Gh,k.packets=c.packets,yield k.encrypt(d,l,u),g.packets.push(k),k.packets=new Ye,g})()}static encryptSessionKey(e,r,n,i,a,s=!1,o=[],u=new Date,c=[],l=_e){return L(function*(){const d=new Ye;if(i){const y=yield Promise.all(i.map(function(){var g=L(function*(k,D){const T=yield k.getEncryptionKey(o[D],u,c,l),Y=new Zh;return Y.publicKeyID=s?xn.wildcard():T.getKeyID(),Y.publicKeyAlgorithm=T.keyPacket.algorithm,Y.sessionKey=e,Y.sessionKeyAlgorithm=r,yield Y.encrypt(T.keyPacket),delete Y.sessionKey,Y});return function(k,D){return g.apply(this,arguments)}}()));d.push(...y)}if(a){const y=function(){var T=L(function*(Y,J){try{return yield Y.decrypt(J),1}catch(j){return 0}});return function(J,j){return T.apply(this,arguments)}}(),g=(T,Y)=>T+Y,k=function(){var T=L(function*(Y,J,j,U){const ie=new Ni(l);return ie.sessionKey=Y,ie.sessionKeyAlgorithm=J,j&&(ie.aeadAlgorithm=j),yield ie.encrypt(U,l),l.passwordCollisionCheck&&1!==(yield Promise.all(a.map(X=>y(ie,X)))).reduce(g)?k(Y,J,U):(delete ie.sessionKey,ie)});return function(J,j,U,ie){return T.apply(this,arguments)}}(),D=yield Promise.all(a.map(T=>k(e,r,n,T)));d.push(...D)}return new zt(d)})()}sign(e=[],r=null,n=[],i=new Date,a=[],s=_e){var o=this;return L(function*(){const u=new Ye,c=o.packets.findPacket(_.packet.literalData);if(!c)throw Error("No literal data packet to sign.");let l,d;const y=null===c.text?_.signature.binary:_.signature.text;if(r)for(d=r.packets.filterByTag(_.packet.signature),l=d.length-1;l>=0;l--){const g=d[l],k=new pr;k.signatureType=g.signatureType,k.hashAlgorithm=g.hashAlgorithm,k.publicKeyAlgorithm=g.publicKeyAlgorithm,k.issuerKeyID=g.issuerKeyID,e.length||0!==l||(k.flags=1),u.push(k)}return yield Promise.all(Array.from(e).reverse().map(function(){var g=L(function*(k,D){if(!k.isPrivate())throw Error("Need private key for signing");const T=n[e.length-1-D],Y=yield k.getSigningKey(T,i,a,s),J=new pr;return J.signatureType=y,J.hashAlgorithm=yield io(k,Y.keyPacket,i,a,s),J.publicKeyAlgorithm=Y.keyPacket.algorithm,J.issuerKeyID=Y.getKeyID(),D===e.length-1&&(J.flags=1),J});return function(k,D){return g.apply(this,arguments)}}())).then(g=>{g.forEach(k=>u.push(k))}),u.push(c),u.push(...yield s0(c,e,r,n,i,a,!1,s)),new zt(u)})()}compress(e,r=_e){if(e===_.compression.uncompressed)return this;const n=new qa(r);n.algorithm=_.read(_.compression,e),n.packets=this.packets;const i=new Ye;return i.push(n),new zt(i)}signDetached(e=[],r=null,n=[],i=new Date,a=[],s=_e){var o=this;return L(function*(){const u=o.packets.findPacket(_.packet.literalData);if(!u)throw Error("No literal data packet to sign.");return new pi(yield s0(u,e,r,n,i,a,!0,s))})()}verify(e,r=new Date,n=_e){var i=this;return L(function*(){const a=i.unwrapCompressed(),s=a.packets.filterByTag(_.packet.literalData);if(1!==s.length)throw Error("Can only verify message with one literal data packet.");dt(a.packets.stream)&&a.packets.push(...yield ht(a.packets.stream,c=>c||[]));const o=a.packets.filterByTag(_.packet.onePassSignature).reverse(),u=a.packets.filterByTag(_.packet.signature);return o.length&&!u.length&&C.isStream(a.packets.stream)&&!dt(a.packets.stream)?(yield Promise.all(o.map(function(){var c=L(function*(l){l.correspondingSig=new Promise((d,y)=>{l.correspondingSigResolve=d,l.correspondingSigReject=y}),l.signatureData=rn(L(function*(){return(yield l.correspondingSig).signatureData})),l.hashed=ht(yield l.hash(l.signatureType,s[0],void 0,!1)),l.hashed.catch(()=>{})});return function(l){return c.apply(this,arguments)}}())),a.packets.stream=xr(a.packets.stream,function(){var c=L(function*(l,d){const y=Sr(l),g=Gt(d);try{for(let k=0;k<o.length;k++){const{value:D}=yield y.read();o[k].correspondingSigResolve(D)}yield y.readToEnd(),yield g.ready,yield g.close()}catch(k){o.forEach(D=>{D.correspondingSigReject(k)}),yield g.abort(k)}});return function(l,d){return c.apply(this,arguments)}}()),co(o,s,e,r,!1,n)):co(u,s,e,r,!1,n)})()}verifyDetached(e,r,n=new Date,i=_e){const a=this.unwrapCompressed().packets.filterByTag(_.packet.literalData);if(1!==a.length)throw Error("Can only verify message with one literal data packet.");return co(e.packets,a,r,n,!0,i)}unwrapCompressed(){const e=this.packets.filterByTag(_.packet.compressedData);return e.length?new zt(e[0].packets):this}appendSignature(e,r=_e){var n=this;return L(function*(){yield n.packets.read(C.isUint8Array(e)?e:(yield sn(e)).data,u4,r)})()}write(){return this.packets.write()}armor(e=_e){return Ii(_.armor.message,this.write(),null,null,null,e)}}function s0(t,e){return o0.apply(this,arguments)}function o0(){return o0=L(function*(t,e,r=null,n=[],i=new Date,a=[],s=!1,o=_e){const u=new Ye,c=null===t.text?_.signature.binary:_.signature.text;if(yield Promise.all(e.map(function(){var l=L(function*(d,y){const g=a[y];if(!d.isPrivate())throw Error("Need private key for signing");const k=yield d.getSigningKey(n[y],i,g,o);return ji(t,d,k.keyPacket,{signatureType:c},i,g,s,o)});return function(d,y){return l.apply(this,arguments)}}())).then(l=>{u.push(...l)}),r){const l=r.packets.filterByTag(_.packet.signature);u.push(...l)}return u}),o0.apply(this,arguments)}function co(t,e,r){return c0.apply(this,arguments)}function c0(){return c0=L(function*(t,e,r,n=new Date,i=!1,a=_e){return Promise.all(t.filter(function(s){return["text","binary"].includes(_.read(_.signature,s.signatureType))}).map(function(){var s=L(function*(o){return(u=L(function*(c,l,d,y=new Date,g=!1,k=_e){let D,T;for(const j of d){const U=j.getKeys(c.issuerKeyID);if(U.length>0){D=j,T=U[0];break}}const Y=c instanceof pr?c.correspondingSig:c,J={keyID:c.issuerKeyID,verified:L(function*(){if(!T)throw Error("Could not find signing key with key ID "+c.issuerKeyID.toHex());yield c.verify(T.keyPacket,c.signatureType,l[0],y,g,k);const j=yield Y;if(T.getCreationTime()>j.created)throw Error("Key is newer than the signature");try{yield D.getSigningKey(T.getKeyID(),j.created,void 0,k)}catch(U){if(!k.allowInsecureVerificationWithReformattedKeys||!U.message.match(/Signature creation time is in the future/))throw U;yield D.getSigningKey(T.getKeyID(),y,void 0,k)}return!0})(),signature:L(function*(){const j=yield Y,U=new Ye;return j&&U.push(j),new pi(U)})()};return J.signature.catch(()=>{}),J.verified.catch(()=>{}),J}),function(c,l,d){return u.apply(this,arguments)})(o,e,r,n,i,a);var u});return function(o){return s.apply(this,arguments)}}()))}),c0.apply(this,arguments)}function r2(t){return l0.apply(this,arguments)}function l0(){return l0=L(function*(s){var o=s,{text:t,binary:e,filename:r,date:n=new Date,format:i=(void 0!==t?"utf8":"binary")}=o,a=pt(o,["text","binary","filename","date","format"]);let u=void 0!==t?t:e;if(void 0===u)throw Error("createMessage: must pass options object containing `text` or `binary`");if(t&&!C.isString(t)&&!C.isStream(t))throw Error("createMessage: options.text must be a string or stream");if(e&&!C.isUint8Array(e)&&!C.isStream(e))throw Error("createMessage: options.binary must be a Uint8Array or stream");const c=Object.keys(a);if(c.length>0)throw Error("Unknown option: "+c.join(", "));const l=C.isStream(u);l&&(yield $l(),u=fa(u));const d=new qn(n);void 0!==t?d.setText(u,i):d.setBytes(u,i),void 0!==r&&d.setFilename(r);const y=new Ye;y.push(d);const g=new zt(y);return g.fromStream=l,g}),l0.apply(this,arguments)}class pn{constructor(e,r){if(this.text=C.removeTrailingSpaces(e).replace(/\r?\n/g,"\r\n"),r&&!(r instanceof pi))throw Error("Invalid signature input");this.signature=r||new pi(new Ye)}getSigningKeyIDs(){const e=[];return this.signature.packets.forEach(function(r){e.push(r.issuerKeyID)}),e}sign(e,r=null,n=[],i=new Date,a=[],s=_e){var o=this;return L(function*(){const u=new qn;u.setText(o.text);const c=new pi(yield s0(u,e,r,n,i,a,!0,s));return new pn(o.text,c)})()}verify(e,r=new Date,n=_e){const i=this.signature.packets,a=new qn;return a.setText(this.text),co(i,[a],e,r,!0,n)}getText(){return this.text.replace(/\r\n/g,"\n")}armor(e=_e){let r=this.signature.packets.map(function(i){return _.read(_.hash,i.hashAlgorithm).toUpperCase()});r=r.filter(function(i,a,s){return s.indexOf(i)===a});const n={hash:r.join(),text:this.text,data:this.signature.packets.write()};return Ii(_.armor.signed,n,void 0,void 0,void 0,e)}}function b0(){return b0=L(function*(D){var T=D,{message:t,encryptionKeys:e,signingKeys:r,passwords:n,sessionKey:i,format:a="armored",signature:s=null,wildcard:o=!1,signingKeyIDs:u=[],encryptionKeyIDs:c=[],date:l=new Date,signingUserIDs:d=[],encryptionUserIDs:y=[],config:g}=T,k=pt(T,["message","encryptionKeys","signingKeys","passwords","sessionKey","format","signature","wildcard","signingKeyIDs","encryptionKeyIDs","date","signingUserIDs","encryptionUserIDs","config"]);if(sr(g=Be(Be({},_e),g)),x0(t),E0(a),e=ot(e),r=ot(r),n=ot(n),u=ot(u),c=ot(c),d=ot(d),y=ot(y),k.detached)throw Error("The `detached` option has been removed from openpgp.encrypt, separately call openpgp.sign instead. Don't forget to remove the `privateKeys` option as well.");if(k.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encrypt, pass `encryptionKeys` instead");if(k.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.encrypt, pass `signingKeys` instead");if(void 0!==k.armor)throw Error("The `armor` option has been removed from openpgp.encrypt, pass `format` instead.");const Y=Object.keys(k);if(Y.length>0)throw Error("Unknown option: "+Y.join(", "));r||(r=[]);const J=t.fromStream;try{if((r.length||s)&&(t=yield t.sign(r,s,u,l,d,g)),t=t.compress(yield Zu("compression",e,l,y,g),g),t=yield t.encrypt(e,n,i,o,c,l,y,g),"object"===a)return t;const j="armored"===a;return uo(j?t.armor(g):t.write(),J,j?"utf8":"binary")}catch(j){throw C.wrapError("Error encrypting message",j)}}),b0.apply(this,arguments)}function w0(){return w0=L(function*(u){var c=u,{message:t,verificationKeys:e,expectSigned:r=!1,format:n="utf8",signature:i=null,date:a=new Date,config:s}=c,o=pt(c,["message","verificationKeys","expectSigned","format","signature","date","config"]);if(sr(s=Be(Be({},_e),s)),n2(t),e=ot(e),o.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.verify, pass `verificationKeys` instead");const l=Object.keys(o);if(l.length>0)throw Error("Unknown option: "+l.join(", "));if(t instanceof pn&&"binary"===n)throw Error("Can't return cleartext message data as binary");if(t instanceof pn&&i)throw Error("Can't verify detached cleartext signature");try{const d={};if(d.signatures=i?yield t.verifyDetached(i,e,a,s):yield t.verify(e,a,s),d.data="binary"===n?t.getLiteralData():t.getText(),t.fromStream&&i2(d,t),r){if(0===d.signatures.length)throw Error("Message is not signed");d.data=Ot([d.data,rn(L(function*(){yield C.anyPromise(d.signatures.map(y=>y.verified))}))])}return d.data=yield uo(d.data,t.fromStream,n),d}catch(d){throw C.wrapError("Error verifying signed message",d)}}),w0.apply(this,arguments)}function x0(t){if(!(t instanceof zt))throw Error("Parameter [message] needs to be of type Message")}function n2(t){if(!(t instanceof pn||t instanceof zt))throw Error("Parameter [message] needs to be of type Message or CleartextMessage")}function E0(t){if("armored"!==t&&"binary"!==t&&"object"!==t)throw Error("Unsupported format "+t)}const f4=Object.keys(_e).length;function sr(t){const e=Object.keys(t);if(e.length!==f4)for(const r of e)if(void 0===_e[r])throw Error("Unknown config property: "+r)}function ot(t){return t&&!C.isArray(t)&&(t=[t]),t}function uo(t,e){return C0.apply(this,arguments)}function C0(){return C0=L(function*(t,e,r="utf8"){const n=C.isStream(t);return"array"===n?ht(t):"node"===e?(t=Ic(t),"binary"!==r&&t.setEncoding(r),t):"web"===e&&"ponyfill"===n?Hl(t):t}),C0.apply(this,arguments)}function i2(t,e){t.data=xr(e.packets.stream,function(){var r=L(function*(n,i){yield tn(t.data,i,{preventClose:!0});const a=Gt(i);try{yield ht(n,s=>s),yield a.close()}catch(s){yield a.abort(s)}});return function(n,i){return r.apply(this,arguments)}}())}const We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:t=>`Symbol(${t})`;function M0(){}const a2="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;function Yt(t){return"object"==typeof t&&null!==t||"function"==typeof t}const s2=M0,P0=Promise,p4=Promise.prototype.then,y4=Promise.resolve.bind(P0),g4=Promise.reject.bind(P0);function Vt(t){return new P0(t)}function ct(t){return y4(t)}function Oe(t){return g4(t)}function yn(t,e,r){return p4.call(t,e,r)}function mr(t,e,r){yn(yn(t,e,r),void 0,s2)}function D0(t,e){mr(t,e)}function o2(t,e){mr(t,void 0,e)}function gi(t,e,r){return yn(t,e,r)}function Ga(t){yn(t,void 0,s2)}const c2=(()=>{const t=a2&&a2.queueMicrotask;if("function"==typeof t)return t;const e=ct(void 0);return r=>yn(e,r)})();function lo(t,e,r){if("function"!=typeof t)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,e,r)}function mi(t,e,r){try{return ct(lo(t,e,r))}catch(n){return Oe(n)}}class jr{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const r=this._back;let n=r;16383===r._elements.length&&(n={_elements:[],_next:void 0}),r._elements.push(e),n!==r&&(this._back=n,r._next=n),++this._size}shift(){const e=this._front;let r=e;const n=this._cursor;let i=n+1;const a=e._elements,s=a[n];return 16384===i&&(r=e._next,i=0),--this._size,this._cursor=i,e!==r&&(this._front=r),a[n]=void 0,s}forEach(e){let r=this._cursor,n=this._front,i=n._elements;for(;!(r===i.length&&void 0===n._next||r===i.length&&(n=n._next,i=n._elements,r=0,0===i.length));)e(i[r]),++r}peek(){return this._front._elements[this._cursor]}}function u2(t,e){var r;t._ownerReadableStream=e,e._reader=t,"readable"===e._state?I0(t):"closed"===e._state?(I0(r=t),d2(r)):l2(t,e._storedError)}function T0(t,e){return ki(t._ownerReadableStream,e)}function bi(t){"readable"===t._ownerReadableStream._state?U0(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):l2(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._ownerReadableStream._reader=void 0,t._ownerReadableStream=void 0}function Hi(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function I0(t){t._closedPromise=Vt((e,r)=>{t._closedPromise_resolve=e,t._closedPromise_reject=r})}function l2(t,e){I0(t),U0(t,e)}function U0(t,e){void 0!==t._closedPromise_reject&&(Ga(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}function d2(t){void 0!==t._closedPromise_resolve&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}const h2=We("[[AbortSteps]]"),f2=We("[[ErrorSteps]]"),R0=We("[[CancelSteps]]"),K0=We("[[PullSteps]]"),p2=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},m4=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};function gn(t,e){if(void 0!==t&&"object"!=typeof(r=t)&&"function"!=typeof r)throw new TypeError(e+" is not an object.");var r}function br(t,e){if("function"!=typeof t)throw new TypeError(e+" is not a function.")}function y2(t,e){if(("object"!=typeof(r=t)||null===r)&&"function"!=typeof r)throw new TypeError(e+" is not an object.");var r}function mn(t,e,r){if(void 0===t)throw new TypeError(`Parameter ${e} is required in '${r}'.`)}function B0(t,e,r){if(void 0===t)throw new TypeError(`${e} is required in '${r}'.`)}function O0(t){return Number(t)}function g2(t){return 0===t?0:t}function m2(t,e){const r=Number.MAX_SAFE_INTEGER;let n=Number(t);if(n=g2(n),!p2(n))throw new TypeError(e+" is not a finite number");if(n=g2(m4(n)),n<0||n>r)throw new TypeError(`${e} is outside the accepted range of 0 to ${r}, inclusive`);return p2(n)&&0!==n?n:0}function F0(t,e){if(!Gn(t))throw new TypeError(e+" is not a ReadableStream.")}function ho(t){return new po(t)}function b2(t,e){t._reader._readRequests.push(e)}function z0(t,e,r){const n=t._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(e)}function fo(t){return t._reader._readRequests.length}function v2(t){const e=t._reader;return void 0!==e&&!!vi(e)}class po{constructor(e){if(mn(e,1,"ReadableStreamDefaultReader"),F0(e,"First parameter"),Zn(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");u2(this,e),this._readRequests=new jr}get closed(){return vi(this)?this._closedPromise:Oe(go("closed"))}cancel(e){return vi(this)?void 0===this._ownerReadableStream?Oe(Hi("cancel")):T0(this,e):Oe(go("cancel"))}read(){if(!vi(this))return Oe(go("read"));if(void 0===this._ownerReadableStream)return Oe(Hi("read from"));let e,r;const n=Vt((i,a)=>{e=i,r=a});return yo(this,{_chunkSteps:i=>e({value:i,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:i=>r(i)}),n}releaseLock(){if(!vi(this))throw go("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");bi(this)}}}function vi(t){return!!Yt(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readRequests")}function yo(t,e){const r=t._ownerReadableStream;r._disturbed=!0,"closed"===r._state?e._closeSteps():"errored"===r._state?e._errorSteps(r._storedError):r._readableStreamController[K0](e)}function go(t){return new TypeError(`ReadableStreamDefaultReader.prototype.${t} can only be used on a ReadableStreamDefaultReader`)}let mo;Object.defineProperties(po.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof We.toStringTag&&Object.defineProperty(po.prototype,We.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof We.asyncIterator&&(mo={[We.asyncIterator](){return this}},Object.defineProperty(mo,We.asyncIterator,{enumerable:!1}));class b4{constructor(e,r){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=r}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?gi(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const r=()=>this._returnSteps(e);return this._ongoingPromise?gi(this._ongoingPromise,r,r):r()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;if(void 0===e._ownerReadableStream)return Oe(Hi("iterate"));let r,n;const i=Vt((a,s)=>{r=a,n=s});return yo(e,{_chunkSteps:a=>{this._ongoingPromise=void 0,c2(()=>r({value:a,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,bi(e),r({value:void 0,done:!0})},_errorSteps:a=>{this._ongoingPromise=void 0,this._isFinished=!0,bi(e),n(a)}}),i}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const r=this._reader;if(void 0===r._ownerReadableStream)return Oe(Hi("finish iterating"));if(!this._preventCancel){const n=T0(r,e);return bi(r),gi(n,()=>({value:e,done:!0}))}return bi(r),ct({value:e,done:!0})}}const _2={next(){return w2(this)?this._asyncIteratorImpl.next():Oe(A2("next"))},return(t){return w2(this)?this._asyncIteratorImpl.return(t):Oe(A2("return"))}};function w2(t){return!!Yt(t)&&!!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorImpl")}function A2(t){return new TypeError(`ReadableStreamAsyncIterator.${t} can only be used on a ReadableSteamAsyncIterator`)}void 0!==mo&&Object.setPrototypeOf(_2,mo);const k2=Number.isNaN||function(t){return t!=t};function S2(t){return!("number"!=typeof(e=t)||k2(e)||e<0||t===1/0);var e}function V0(t){const e=t._queue.shift();return t._queueTotalSize-=e.size,t._queueTotalSize<0&&(t._queueTotalSize=0),e.value}function q0(t,e,r){if(!S2(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t._queue.push({value:e,size:r}),t._queueTotalSize+=r}function jn(t){t._queue=new jr,t._queueTotalSize=0}function N0(t){return t.slice()}class bo{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!j0(this))throw H0("view");return this._view}respond(e){if(!j0(this))throw H0("respond");if(mn(e,1,"respond"),e=m2(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(r,n){if(!S2(n=Number(n)))throw new RangeError("bytesWritten must be a finite");D2(r,n)}(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!j0(this))throw H0("respondWithNewView");if(mn(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(r,n){const i=r._pendingPullIntos.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,D2(r,n.byteLength)}(this._associatedReadableByteStreamController,e)}}Object.defineProperties(bo.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof We.toStringTag&&Object.defineProperty(bo.prototype,We.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class vo{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Wi(this))throw Ha("byobRequest");if(null===this._byobRequest&&this._pendingPullIntos.length>0){const e=this._pendingPullIntos.peek(),r=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),n=Object.create(bo.prototype);s=r,(i=n)._associatedReadableByteStreamController=this,i._view=s,this._byobRequest=n}var i,s;return this._byobRequest}get desiredSize(){if(!Wi(this))throw Ha("desiredSize");return T2(this)}close(){if(!Wi(this))throw Ha("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);!function(r){const n=r._controlledReadableByteStream;if(!r._closeRequested&&"readable"===n._state){if(r._queueTotalSize>0)return void(r._closeRequested=!0);if(r._pendingPullIntos.length>0&&r._pendingPullIntos.peek().bytesFilled>0){const i=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Za(r,i),i}wo(r),ts(n)}}(this)}enqueue(e){if(!Wi(this))throw Ha("enqueue");if(mn(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const r=this._controlledReadableByteStream._state;if("readable"!==r)throw new TypeError(`The stream (in ${r} state) is not in the readable state and cannot be enqueued to`);!function(n,i){const a=n._controlledReadableByteStream;if(n._closeRequested||"readable"!==a._state)return;const o=i.byteOffset,u=i.byteLength,c=i.buffer;v2(a)?0===fo(a)?_o(n,c,o,u):z0(a,new Uint8Array(c,o,u),!1):W0(a)?(_o(n,c,o,u),P2(n)):_o(n,c,o,u),_i(n)}(this,e)}error(e){if(!Wi(this))throw Ha("error");Za(this,e)}[R0](e){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),jn(this);const r=this._cancelAlgorithm(e);return wo(this),r}[K0](e){const r=this._controlledReadableByteStream;if(this._queueTotalSize>0){const i=this._queue.shift();this._queueTotalSize-=i.byteLength,M2(this);const a=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);return void e._chunkSteps(a)}const n=this._autoAllocateChunkSize;if(void 0!==n){let i;try{i=new ArrayBuffer(n)}catch(s){return void e._errorSteps(s)}const a={buffer:i,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(a)}b2(r,e),_i(this)}}function Wi(t){return!!Yt(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream")}function j0(t){return!!Yt(t)&&!!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController")}function _i(t){if(function(e){const r=e._controlledReadableByteStream;return!("readable"!==r._state||e._closeRequested||!e._started||!(v2(r)&&fo(r)>0||W0(r)&&U2(r)>0||T2(e)>0))}(t)){if(t._pulling)return void(t._pullAgain=!0);t._pulling=!0,mr(t._pullAlgorithm(),()=>{t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,_i(t))},e=>{Za(t,e)})}}function L0(t,e){let r=!1;"closed"===t._state&&(r=!0);const n=x2(e);"default"===e.readerType?z0(t,n,r):function(i,a,s){const o=i._reader._readIntoRequests.shift();s?o._closeSteps(a):o._chunkSteps(a)}(t,n,r)}function x2(t){return new t.viewConstructor(t.buffer,t.byteOffset,t.bytesFilled/t.elementSize)}function _o(t,e,r,n){t._queue.push({buffer:e,byteOffset:r,byteLength:n}),t._queueTotalSize+=n}function E2(t,e){const r=e.elementSize,n=e.bytesFilled-e.bytesFilled%r,i=Math.min(t._queueTotalSize,e.byteLength-e.bytesFilled),a=e.bytesFilled+i,s=a-a%r;let o=i,u=!1;s>n&&(o=s-e.bytesFilled,u=!0);const c=t._queue;for(;o>0;){const D=c.peek(),T=Math.min(o,D.byteLength);d=e.byteOffset+e.bytesFilled,y=D.buffer,g=D.byteOffset,k=T,new Uint8Array(e.buffer).set(new Uint8Array(y,g,k),d),D.byteLength===T?c.shift():(D.byteOffset+=T,D.byteLength-=T),t._queueTotalSize-=T,C2(t,T,e),o-=T}var d,y,g,k;return u}function C2(t,e,r){G0(t),r.bytesFilled+=e}function M2(t){0===t._queueTotalSize&&t._closeRequested?(wo(t),ts(t._controlledReadableByteStream)):_i(t)}function G0(t){null!==t._byobRequest&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=null,t._byobRequest=null)}function P2(t){for(;t._pendingPullIntos.length>0;){if(0===t._queueTotalSize)return;const e=t._pendingPullIntos.peek();E2(t,e)&&(Z0(t),L0(t._controlledReadableByteStream,e))}}function D2(t,e){const r=t._pendingPullIntos.peek();if("closed"===t._controlledReadableByteStream._state){if(0!==e)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(n,i){i.buffer=i.buffer;const a=n._controlledReadableByteStream;if(W0(a))for(;U2(a)>0;)L0(a,Z0(n))}(t,r)}else!function(n,i,a){if(a.bytesFilled+i>a.byteLength)throw new RangeError("bytesWritten out of range");if(C2(n,i,a),a.bytesFilled<a.elementSize)return;Z0(n);const s=a.bytesFilled%a.elementSize;if(s>0){const o=a.byteOffset+a.bytesFilled,u=a.buffer.slice(o-s,o);_o(n,u,0,u.byteLength)}a.buffer=a.buffer,a.bytesFilled-=s,L0(n._controlledReadableByteStream,a),P2(n)}(t,e,r);_i(t)}function Z0(t){const e=t._pendingPullIntos.shift();return G0(t),e}function wo(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0}function Za(t,e){const r=t._controlledReadableByteStream;var n;"readable"===r._state&&(G0(n=t),n._pendingPullIntos=new jr,jn(t),wo(t),rf(r,e))}function T2(t){const e=t._controlledReadableByteStream._state;return"errored"===e?null:"closed"===e?0:t._strategyHWM-t._queueTotalSize}function H0(t){return new TypeError(`ReadableStreamBYOBRequest.prototype.${t} can only be used on a ReadableStreamBYOBRequest`)}function Ha(t){return new TypeError(`ReadableByteStreamController.prototype.${t} can only be used on a ReadableByteStreamController`)}function I2(t,e){t._reader._readIntoRequests.push(e)}function U2(t){return t._reader._readIntoRequests.length}function W0(t){const e=t._reader;return void 0!==e&&!!Wa(e)}Object.defineProperties(vo.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof We.toStringTag&&Object.defineProperty(vo.prototype,We.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class Ao{constructor(e){if(mn(e,1,"ReadableStreamBYOBReader"),F0(e,"First parameter"),Zn(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Wi(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");u2(this,e),this._readIntoRequests=new jr}get closed(){return Wa(this)?this._closedPromise:Oe(ko("closed"))}cancel(e){return Wa(this)?void 0===this._ownerReadableStream?Oe(Hi("cancel")):T0(this,e):Oe(ko("cancel"))}read(e){if(!Wa(this))return Oe(ko("read"));if(!ArrayBuffer.isView(e))return Oe(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return Oe(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return Oe(new TypeError("view's buffer must have non-zero byteLength"));if(void 0===this._ownerReadableStream)return Oe(Hi("read from"));let r,n;const i=Vt((a,s)=>{r=a,n=s});return function(a,s,o){const u=a._ownerReadableStream;u._disturbed=!0,"errored"===u._state?o._errorSteps(u._storedError):function(c,l,d){const y=c._controlledReadableByteStream;let g=1;l.constructor!==DataView&&(g=l.constructor.BYTES_PER_ELEMENT);const k=l.constructor,D={buffer:l.buffer,byteOffset:l.byteOffset,byteLength:l.byteLength,bytesFilled:0,elementSize:g,viewConstructor:k,readerType:"byob"};if(c._pendingPullIntos.length>0)return c._pendingPullIntos.push(D),void I2(y,d);if("closed"!==y._state){if(c._queueTotalSize>0){if(E2(c,D)){const T=x2(D);return M2(c),void d._chunkSteps(T)}if(c._closeRequested){const T=new TypeError("Insufficient bytes to fill elements in the given buffer");return Za(c,T),void d._errorSteps(T)}}c._pendingPullIntos.push(D),I2(y,d),_i(c)}else{const T=new k(D.buffer,D.byteOffset,0);d._closeSteps(T)}}(u._readableStreamController,s,o)}(this,e,{_chunkSteps:a=>r({value:a,done:!1}),_closeSteps:a=>r({value:a,done:!0}),_errorSteps:a=>n(a)}),i}releaseLock(){if(!Wa(this))throw ko("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");bi(this)}}}function Wa(t){return!!Yt(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests")}function ko(t){return new TypeError(`ReadableStreamBYOBReader.prototype.${t} can only be used on a ReadableStreamBYOBReader`)}function $a(t,e){const{highWaterMark:r}=t;if(void 0===r)return e;if(k2(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function So(t){const{size:e}=t;return e||(()=>1)}function xo(t,e){gn(t,e);const r=null==t?void 0:t.highWaterMark,n=null==t?void 0:t.size;return{highWaterMark:void 0===r?void 0:O0(r),size:void 0===n?void 0:_4(n,e+" has member 'size' that")}}function _4(t,e){return br(t,e),r=>O0(t(r))}function w4(t,e,r){return br(t,r),n=>mi(t,e,[n])}function A4(t,e,r){return br(t,r),()=>mi(t,e,[])}function k4(t,e,r){return br(t,r),n=>lo(t,e,[n])}function S4(t,e,r){return br(t,r),(n,i)=>mi(t,e,[n,i])}function R2(t,e){if(!$i(t))throw new TypeError(e+" is not a WritableStream.")}Object.defineProperties(Ao.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof We.toStringTag&&Object.defineProperty(Ao.prototype,We.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class Eo{constructor(e={},r={}){void 0===e?e=null:y2(e,"First parameter");const n=xo(r,"Second parameter"),i=function(s,o){gn(s,o);const u=null==s?void 0:s.abort,c=null==s?void 0:s.close,l=null==s?void 0:s.start,d=null==s?void 0:s.type,y=null==s?void 0:s.write;return{abort:void 0===u?void 0:w4(u,s,o+" has member 'abort' that"),close:void 0===c?void 0:A4(c,s,o+" has member 'close' that"),start:void 0===l?void 0:k4(l,s,o+" has member 'start' that"),write:void 0===y?void 0:S4(y,s,o+" has member 'write' that"),type:d}}(e,"First parameter");if(B2(this),void 0!==i.type)throw new RangeError("Invalid type is specified");const a=So(n);!function(s,o,u,c){const l=Object.create(Ya.prototype);let d=()=>{},y=()=>ct(void 0),g=()=>ct(void 0),k=()=>ct(void 0);void 0!==o.start&&(d=()=>o.start(l)),void 0!==o.write&&(y=D=>o.write(D,l)),void 0!==o.close&&(g=()=>o.close()),void 0!==o.abort&&(k=D=>o.abort(D)),j2(s,l,d,y,g,k,u,c)}(this,i,$a(n,1),a)}get locked(){if(!$i(this))throw Io("locked");return Yi(this)}abort(e){return $i(this)?Yi(this)?Oe(new TypeError("Cannot abort a stream that already has a writer")):Co(this,e):Oe(Io("abort"))}close(){return $i(this)?Yi(this)?Oe(new TypeError("Cannot close a stream that already has a writer")):Lr(this)?Oe(new TypeError("Cannot close an already-closing stream")):O2(this):Oe(Io("close"))}getWriter(){if(!$i(this))throw Io("getWriter");return K2(this)}}function K2(t){return new Po(t)}function B2(t){t._state="writable",t._storedError=void 0,t._writer=void 0,t._writableStreamController=void 0,t._writeRequests=new jr,t._inFlightWriteRequest=void 0,t._closeRequest=void 0,t._inFlightCloseRequest=void 0,t._pendingAbortRequest=void 0,t._backpressure=!1}function $i(t){return!!Yt(t)&&!!Object.prototype.hasOwnProperty.call(t,"_writableStreamController")}function Yi(t){return void 0!==t._writer}function Co(t,e){const r=t._state;if("closed"===r||"errored"===r)return ct(void 0);if(void 0!==t._pendingAbortRequest)return t._pendingAbortRequest._promise;let n=!1;"erroring"===r&&(n=!0,e=void 0);const i=Vt((a,s)=>{t._pendingAbortRequest={_promise:void 0,_resolve:a,_reject:s,_reason:e,_wasAlreadyErroring:n}});return t._pendingAbortRequest._promise=i,n||Y0(t,e),i}function O2(t){const e=t._state;if("closed"===e||"errored"===e)return Oe(new TypeError(`The stream (in ${e} state) is not in the writable state and cannot be closed`));const r=Vt((a,s)=>{t._closeRequest={_resolve:a,_reject:s}}),n=t._writer;var i;return void 0!==n&&t._backpressure&&"writable"===e&&n1(n),q0(i=t._writableStreamController,N2,0),To(i),r}function $0(t,e){"writable"!==t._state?J0(t):Y0(t,e)}function Y0(t,e){const r=t._writableStreamController;t._state="erroring",t._storedError=e;const n=t._writer;var i;void 0!==n&&z2(n,e),void 0===(i=t)._inFlightWriteRequest&&void 0===i._inFlightCloseRequest&&r._started&&J0(t)}function J0(t){t._state="errored",t._writableStreamController[f2]();const e=t._storedError;if(t._writeRequests.forEach(n=>{n._reject(e)}),t._writeRequests=new jr,void 0===t._pendingAbortRequest)return void Mo(t);const r=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(e),void Mo(t);mr(t._writableStreamController[h2](r._reason),()=>{r._resolve(),Mo(t)},n=>{r._reject(n),Mo(t)})}function Lr(t){return void 0!==t._closeRequest||void 0!==t._inFlightCloseRequest}function Mo(t){void 0!==t._closeRequest&&(t._closeRequest._reject(t._storedError),t._closeRequest=void 0);const e=t._writer;void 0!==e&&t1(e,t._storedError)}function Q0(t,e){const r=t._writer;void 0!==r&&e!==t._backpressure&&(e?Ro(r):n1(r)),t._backpressure=e}Object.defineProperties(Eo.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof We.toStringTag&&Object.defineProperty(Eo.prototype,We.toStringTag,{value:"WritableStream",configurable:!0});class Po{constructor(e){if(mn(e,1,"WritableStreamDefaultWriter"),R2(e,"First parameter"),Yi(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const r=e._state;if("writable"===r)!Lr(e)&&e._backpressure?Ro(this):W2(this),Uo(this);else if("erroring"===r)r1(this,e._storedError),Uo(this);else if("closed"===r)W2(this),Uo(this),H2(this);else{const i=e._storedError;r1(this,i),Z2(this,i)}}get closed(){return wi(this)?this._closedPromise:Oe(Ai("closed"))}get desiredSize(){if(!wi(this))throw Ai("desiredSize");if(void 0===this._ownerWritableStream)throw Ja("desiredSize");return function(e){const r=e._ownerWritableStream,n=r._state;return"errored"===n||"erroring"===n?null:"closed"===n?0:L2(r._writableStreamController)}(this)}get ready(){return wi(this)?this._readyPromise:Oe(Ai("ready"))}abort(e){return wi(this)?void 0===this._ownerWritableStream?Oe(Ja("abort")):Co(this._ownerWritableStream,e):Oe(Ai("abort"))}close(){if(!wi(this))return Oe(Ai("close"));const e=this._ownerWritableStream;return void 0===e?Oe(Ja("close")):Lr(e)?Oe(new TypeError("Cannot close an already-closing stream")):F2(this)}releaseLock(){if(!wi(this))throw Ai("releaseLock");void 0!==this._ownerWritableStream&&V2(this)}write(e){return wi(this)?void 0===this._ownerWritableStream?Oe(Ja("write to")):q2(this,e):Oe(Ai("write"))}}function wi(t){return!!Yt(t)&&!!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream")}function F2(t){return O2(t._ownerWritableStream)}function z2(t,e){"pending"===t._readyPromiseState?$2(t,e):r1(t,e)}function V2(t){const e=t._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");z2(t,r),function(t,e){"pending"===t._closedPromiseState?t1(t,e):Z2(t,e)}(t,r),e._writer=void 0,t._ownerWritableStream=void 0}function q2(t,e){const r=t._ownerWritableStream,n=r._writableStreamController,i=function(o,u){try{return o._strategySizeAlgorithm(u)}catch(c){return X0(o,c),1}}(n,e);if(r!==t._ownerWritableStream)return Oe(Ja("write to"));const a=r._state;if("errored"===a)return Oe(r._storedError);if(Lr(r)||"closed"===a)return Oe(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===a)return Oe(r._storedError);const s=(o=r,Vt((u,c)=>{o._writeRequests.push({_resolve:u,_reject:c})}));var o;return function(o,u,c){try{q0(o,u,c)}catch(d){return void X0(o,d)}const l=o._controlledWritableStream;!Lr(l)&&"writable"===l._state&&Q0(l,e1(o)),To(o)}(n,e,i),s}Object.defineProperties(Po.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof We.toStringTag&&Object.defineProperty(Po.prototype,We.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const N2={};class Ya{constructor(){throw new TypeError("Illegal constructor")}error(e){if(!Yt(this)||!Object.prototype.hasOwnProperty.call(this,"_controlledWritableStream"))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&G2(this,e)}[h2](e){const r=this._abortAlgorithm(e);return Do(this),r}[f2](){jn(this)}}function j2(t,e,r,n,i,a,s,o){e._controlledWritableStream=t,t._writableStreamController=e,e._queue=void 0,e._queueTotalSize=void 0,jn(e),e._started=!1,e._strategySizeAlgorithm=o,e._strategyHWM=s,e._writeAlgorithm=n,e._closeAlgorithm=i,e._abortAlgorithm=a;const u=e1(e);Q0(t,u),mr(ct(r()),()=>{e._started=!0,To(e)},c=>{e._started=!0,$0(t,c)})}function Do(t){t._writeAlgorithm=void 0,t._closeAlgorithm=void 0,t._abortAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function L2(t){return t._strategyHWM-t._queueTotalSize}function To(t){const e=t._controlledWritableStream;if(!t._started||void 0!==e._inFlightWriteRequest)return;if("erroring"===e._state)return void J0(e);if(0===t._queue.length)return;const r=t._queue.peek().value;r===N2?function(n){const i=n._controlledWritableStream;var s;(s=i)._inFlightCloseRequest=s._closeRequest,s._closeRequest=void 0,V0(n);const a=n._closeAlgorithm();Do(n),mr(a,()=>{!function(s){s._inFlightCloseRequest._resolve(void 0),s._inFlightCloseRequest=void 0,"erroring"===s._state&&(s._storedError=void 0,void 0!==s._pendingAbortRequest&&(s._pendingAbortRequest._resolve(),s._pendingAbortRequest=void 0)),s._state="closed";const o=s._writer;void 0!==o&&H2(o)}(i)},s=>{var o,u;(o=i)._inFlightCloseRequest._reject(u=s),o._inFlightCloseRequest=void 0,void 0!==o._pendingAbortRequest&&(o._pendingAbortRequest._reject(u),o._pendingAbortRequest=void 0),$0(o,u)})}(t):function(n,i){const a=n._controlledWritableStream;var s;(s=a)._inFlightWriteRequest=s._writeRequests.shift(),mr(n._writeAlgorithm(i),()=>{var o;(o=a)._inFlightWriteRequest._resolve(void 0),o._inFlightWriteRequest=void 0;const s=a._state;if(V0(n),!Lr(a)&&"writable"===s){const o=e1(n);Q0(a,o)}To(n)},s=>{var o,u;"writable"===a._state&&Do(n),(o=a)._inFlightWriteRequest._reject(u=s),o._inFlightWriteRequest=void 0,$0(o,u)})}(t,r)}function X0(t,e){"writable"===t._controlledWritableStream._state&&G2(t,e)}function e1(t){return L2(t)<=0}function G2(t,e){const r=t._controlledWritableStream;Do(t),Y0(r,e)}function Io(t){return new TypeError(`WritableStream.prototype.${t} can only be used on a WritableStream`)}function Ai(t){return new TypeError(`WritableStreamDefaultWriter.prototype.${t} can only be used on a WritableStreamDefaultWriter`)}function Ja(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function Uo(t){t._closedPromise=Vt((e,r)=>{t._closedPromise_resolve=e,t._closedPromise_reject=r,t._closedPromiseState="pending"})}function Z2(t,e){Uo(t),t1(t,e)}function t1(t,e){void 0!==t._closedPromise_reject&&(Ga(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected")}function H2(t){void 0!==t._closedPromise_resolve&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved")}function Ro(t){t._readyPromise=Vt((e,r)=>{t._readyPromise_resolve=e,t._readyPromise_reject=r}),t._readyPromiseState="pending"}function r1(t,e){Ro(t),$2(t,e)}function W2(t){Ro(t),n1(t)}function $2(t,e){void 0!==t._readyPromise_reject&&(Ga(t._readyPromise),t._readyPromise_reject(e),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="rejected")}function n1(t){void 0!==t._readyPromise_resolve&&(t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="fulfilled")}Object.defineProperties(Ya.prototype,{error:{enumerable:!0}}),"symbol"==typeof We.toStringTag&&Object.defineProperty(Ya.prototype,We.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const Y2="undefined"!=typeof DOMException?DOMException:void 0,E4=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(e){return!1}}(Y2)?Y2:function(){const t=function(e,r){this.message=e||"",this.name=r||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return Object.defineProperty(t.prototype=Object.create(Error.prototype),"constructor",{value:t,writable:!0,configurable:!0}),t}();function J2(t,e,r,n,i,a){const s=ho(t),o=K2(e);t._disturbed=!0;let u=!1,c=ct(void 0);return Vt((l,d)=>{let y;if(void 0!==a){if(y=()=>{const J=new E4("Aborted","AbortError"),j=[];n||j.push(()=>"writable"===e._state?Co(e,J):ct(void 0)),i||j.push(()=>"readable"===t._state?ki(t,J):ct(void 0)),D(()=>Promise.all(j.map(U=>U())),!0,J)},a.aborted)return void y();a.addEventListener("abort",y)}if(k(t,s._closedPromise,J=>{n?T(!0,J):D(()=>Co(e,J),!0,J)}),k(e,o._closedPromise,J=>{i?T(!0,J):D(()=>ki(t,J),!0,J)}),j=s._closedPromise,U=()=>{r?T():D(()=>function(J){const j=J._ownerWritableStream,U=j._state;return Lr(j)||"closed"===U?ct(void 0):"errored"===U?Oe(j._storedError):F2(J)}(o))},"closed"===t._state?U():D0(j,U),Lr(e)||"closed"===e._state){const J=new TypeError("the destination writable stream closed before all data could be piped to it");i?T(!0,J):D(()=>ki(t,J),!0,J)}var j,U;function g(){const J=c;return yn(c,()=>J!==c?g():void 0)}function k(J,j,U){"errored"===J._state?U(J._storedError):o2(j,U)}function D(J,j,U){function ie(){mr(J(),()=>Y(j,U),X=>Y(!0,X))}u||(u=!0,"writable"!==e._state||Lr(e)?ie():D0(g(),ie))}function T(J,j){u||(u=!0,"writable"!==e._state||Lr(e)?Y(J,j):D0(g(),()=>Y(J,j)))}function Y(J,j){V2(o),bi(s),void 0!==a&&a.removeEventListener("abort",y),J?d(j):l(void 0)}Ga(Vt((J,j)=>{!function U(ie){ie?J():yn(u?ct(!0):yn(o._readyPromise,()=>Vt((X,ee)=>{yo(s,{_chunkSteps:h=>{c=yn(q2(o,h),void 0,M0),X(!1)},_closeSteps:()=>X(!0),_errorSteps:ee})})),U,j)}(!1)}))})}class Qa{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ko(this))throw Fo("desiredSize");return i1(this)}close(){if(!Ko(this))throw Fo("close");if(!Ji(this))throw new TypeError("The stream is not in a state that permits close");es(this)}enqueue(e){if(!Ko(this))throw Fo("enqueue");if(!Ji(this))throw new TypeError("The stream is not in a state that permits enqueue");return Oo(this,e)}error(e){if(!Ko(this))throw Fo("error");Ln(this,e)}[R0](e){jn(this);const r=this._cancelAlgorithm(e);return Bo(this),r}[K0](e){const r=this._controlledReadableStream;if(this._queue.length>0){const n=V0(this);this._closeRequested&&0===this._queue.length?(Bo(this),ts(r)):Xa(this),e._chunkSteps(n)}else b2(r,e),Xa(this)}}function Ko(t){return!!Yt(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream")}function Xa(t){if(Q2(t)){if(t._pulling)return void(t._pullAgain=!0);t._pulling=!0,mr(t._pullAlgorithm(),()=>{t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,Xa(t))},e=>{Ln(t,e)})}}function Q2(t){const e=t._controlledReadableStream;return!(!Ji(t)||!t._started)&&(!!(Zn(e)&&fo(e)>0)||i1(t)>0)}function Bo(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function es(t){if(!Ji(t))return;const e=t._controlledReadableStream;t._closeRequested=!0,0===t._queue.length&&(Bo(t),ts(e))}function Oo(t,e){if(!Ji(t))return;const r=t._controlledReadableStream;if(Zn(r)&&fo(r)>0)z0(r,e,!1);else{let n;try{n=t._strategySizeAlgorithm(e)}catch(i){throw Ln(t,i),i}try{q0(t,e,n)}catch(i){throw Ln(t,i),i}}Xa(t)}function Ln(t,e){const r=t._controlledReadableStream;"readable"===r._state&&(jn(t),Bo(t),rf(r,e))}function i1(t){const e=t._controlledReadableStream._state;return"errored"===e?null:"closed"===e?0:t._strategyHWM-t._queueTotalSize}function Ji(t){return!t._closeRequested&&"readable"===t._controlledReadableStream._state}function X2(t,e,r,n,i,a,s){e._controlledReadableStream=t,e._queue=void 0,e._queueTotalSize=void 0,jn(e),e._started=!1,e._closeRequested=!1,e._pullAgain=!1,e._pulling=!1,e._strategySizeAlgorithm=s,e._strategyHWM=a,e._pullAlgorithm=n,e._cancelAlgorithm=i,t._readableStreamController=e,mr(ct(r()),()=>{e._started=!0,Xa(e)},o=>{Ln(e,o)})}function Fo(t){return new TypeError(`ReadableStreamDefaultController.prototype.${t} can only be used on a ReadableStreamDefaultController`)}function C4(t,e,r){return br(t,r),n=>mi(t,e,[n])}function M4(t,e,r){return br(t,r),n=>mi(t,e,[n])}function P4(t,e,r){return br(t,r),n=>lo(t,e,[n])}function D4(t,e){if("bytes"!=(t=""+t))throw new TypeError(`${e} '${t}' is not a valid enumeration value for ReadableStreamType`);return t}function T4(t,e){if("byob"!=(t=""+t))throw new TypeError(`${e} '${t}' is not a valid enumeration value for ReadableStreamReaderMode`);return t}function ef(t,e){gn(t,e);const r=null==t?void 0:t.preventAbort,n=null==t?void 0:t.preventCancel,i=null==t?void 0:t.preventClose,a=null==t?void 0:t.signal;return void 0!==a&&function(s,o){if(!function(u){if("object"!=typeof u||null===u)return!1;try{return"boolean"==typeof u.aborted}catch(c){return!1}}(s))throw new TypeError(o+" is not an AbortSignal.")}(a,e+" has member 'signal' that"),{preventAbort:!!r,preventCancel:!!n,preventClose:!!i,signal:a}}Object.defineProperties(Qa.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof We.toStringTag&&Object.defineProperty(Qa.prototype,We.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class Qi{constructor(e={},r={}){void 0===e?e=null:y2(e,"First parameter");const n=xo(r,"Second parameter"),i=function(a,s){gn(a,s);const o=a,u=null==o?void 0:o.autoAllocateChunkSize,c=null==o?void 0:o.cancel,l=null==o?void 0:o.pull,d=null==o?void 0:o.start,y=null==o?void 0:o.type;return{autoAllocateChunkSize:void 0===u?void 0:m2(u,s+" has member 'autoAllocateChunkSize' that"),cancel:void 0===c?void 0:C4(c,o,s+" has member 'cancel' that"),pull:void 0===l?void 0:M4(l,o,s+" has member 'pull' that"),start:void 0===d?void 0:P4(d,o,s+" has member 'start' that"),type:void 0===y?void 0:D4(y,s+" has member 'type' that")}}(e,"First parameter");if(tf(this),"bytes"===i.type){if(void 0!==n.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,e,r){const n=Object.create(vo.prototype);let i=()=>{},a=()=>ct(void 0),s=()=>ct(void 0);void 0!==e.start&&(i=()=>e.start(n)),void 0!==e.pull&&(a=()=>e.pull(n)),void 0!==e.cancel&&(s=u=>e.cancel(u));const o=e.autoAllocateChunkSize;if(0===o)throw new TypeError("autoAllocateChunkSize must be greater than 0");var u,c,l,d,y,g,k;l=i,d=a,y=s,g=r,k=o,(c=n)._controlledReadableByteStream=u=t,c._pullAgain=!1,c._pulling=!1,c._byobRequest=null,c._queue=c._queueTotalSize=void 0,jn(c),c._closeRequested=!1,c._started=!1,c._strategyHWM=g,c._pullAlgorithm=d,c._cancelAlgorithm=y,c._autoAllocateChunkSize=k,c._pendingPullIntos=new jr,u._readableStreamController=c,mr(ct(l()),()=>{c._started=!0,_i(c)},D=>{Za(c,D)})}(this,i,$a(n,0))}else{const a=So(n);!function(s,o,u,c){const l=Object.create(Qa.prototype);let d=()=>{},y=()=>ct(void 0),g=()=>ct(void 0);void 0!==o.start&&(d=()=>o.start(l)),void 0!==o.pull&&(y=()=>o.pull(l)),void 0!==o.cancel&&(g=k=>o.cancel(k)),X2(s,l,d,y,g,u,c)}(this,i,$a(n,1),a)}}get locked(){if(!Gn(this))throw Si("locked");return Zn(this)}cancel(e){return Gn(this)?Zn(this)?Oe(new TypeError("Cannot cancel a stream that already has a reader")):ki(this,e):Oe(Si("cancel"))}getReader(e){if(!Gn(this))throw Si("getReader");return void 0===function(r,n){gn(r,n);const i=null==r?void 0:r.mode;return{mode:void 0===i?void 0:T4(i,n+" has member 'mode' that")}}(e,"First parameter").mode?ho(this):new Ao(this)}pipeThrough(e,r={}){if(!Gn(this))throw Si("pipeThrough");mn(e,1,"pipeThrough");const n=function(a,s){gn(a,s);const o=null==a?void 0:a.readable;B0(o,"readable","ReadableWritablePair"),F0(o,s+" has member 'readable' that");const u=null==a?void 0:a.writable;return B0(u,"writable","ReadableWritablePair"),R2(u,s+" has member 'writable' that"),{readable:o,writable:u}}(e,"First parameter"),i=ef(r,"Second parameter");if(Zn(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Yi(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Ga(J2(this,n.writable,i.preventClose,i.preventAbort,i.preventCancel,i.signal)),n.readable}pipeTo(e,r={}){if(!Gn(this))return Oe(Si("pipeTo"));if(void 0===e)return Oe("Parameter 1 is required in 'pipeTo'.");if(!$i(e))return Oe(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let n;try{n=ef(r,"Second parameter")}catch(i){return Oe(i)}return Zn(this)?Oe(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Yi(e)?Oe(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):J2(this,e,n.preventClose,n.preventAbort,n.preventCancel,n.signal)}tee(){if(!Gn(this))throw Si("tee");const e=function(r,n){const i=ho(r);let a,s,o,u,c,l=!1,d=!1,y=!1;const g=Vt(T=>{c=T});function k(){return l||(l=!0,yo(i,{_chunkSteps:T=>{c2(()=>{l=!1;const J=T;d||Oo(o._readableStreamController,T),y||Oo(u._readableStreamController,J)})},_closeSteps:()=>{l=!1,d||es(o._readableStreamController),y||es(u._readableStreamController),d&&y||c(void 0)},_errorSteps:()=>{l=!1}})),ct(void 0)}function D(){}return o=a1(D,k,function(T){if(d=!0,a=T,y){const Y=N0([a,s]),J=ki(r,Y);c(J)}return g}),u=a1(D,k,function(T){if(y=!0,s=T,d){const Y=N0([a,s]),J=ki(r,Y);c(J)}return g}),o2(i._closedPromise,T=>{Ln(o._readableStreamController,T),Ln(u._readableStreamController,T),d&&y||c(void 0)}),[o,u]}(this);return N0(e)}values(e){if(!Gn(this))throw Si("values");return function(r,n){const i=ho(r),a=new b4(i,n),s=Object.create(_2);return s._asyncIteratorImpl=a,s}(this,(r=e,gn(r,"First parameter"),{preventCancel:!!(null==r?void 0:r.preventCancel)}).preventCancel);var r}}function a1(t,e,r,n=1,i=(()=>1)){const a=Object.create(Qi.prototype);return tf(a),X2(a,Object.create(Qa.prototype),t,e,r,n,i),a}function tf(t){t._state="readable",t._reader=void 0,t._storedError=void 0,t._disturbed=!1}function Gn(t){return!!Yt(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readableStreamController")}function Zn(t){return void 0!==t._reader}function ki(t,e){return t._disturbed=!0,"closed"===t._state?ct(void 0):"errored"===t._state?Oe(t._storedError):(ts(t),gi(t._readableStreamController[R0](e),M0))}function ts(t){t._state="closed";const e=t._reader;void 0!==e&&(d2(e),vi(e)&&(e._readRequests.forEach(r=>{r._closeSteps()}),e._readRequests=new jr))}function rf(t,e){t._state="errored",t._storedError=e;const r=t._reader;void 0!==r&&(U0(r,e),vi(r)?(r._readRequests.forEach(n=>{n._errorSteps(e)}),r._readRequests=new jr):(r._readIntoRequests.forEach(n=>{n._errorSteps(e)}),r._readIntoRequests=new jr))}function Si(t){return new TypeError(`ReadableStream.prototype.${t} can only be used on a ReadableStream`)}function nf(t,e){gn(t,e);const r=null==t?void 0:t.highWaterMark;return B0(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:O0(r)}}Object.defineProperties(Qi.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof We.toStringTag&&Object.defineProperty(Qi.prototype,We.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof We.asyncIterator&&Object.defineProperty(Qi.prototype,We.asyncIterator,{value:Qi.prototype.values,writable:!0,configurable:!0});const I4=function(t){return t.byteLength};class s1{constructor(e){mn(e,1,"ByteLengthQueuingStrategy"),e=nf(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!sf(this))throw af("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!sf(this))throw af("size");return I4}}function af(t){return new TypeError(`ByteLengthQueuingStrategy.prototype.${t} can only be used on a ByteLengthQueuingStrategy`)}function sf(t){return!!Yt(t)&&!!Object.prototype.hasOwnProperty.call(t,"_byteLengthQueuingStrategyHighWaterMark")}Object.defineProperties(s1.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof We.toStringTag&&Object.defineProperty(s1.prototype,We.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const U4=function(){return 1};class o1{constructor(e){mn(e,1,"CountQueuingStrategy"),e=nf(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!cf(this))throw of("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!cf(this))throw of("size");return U4}}function of(t){return new TypeError(`CountQueuingStrategy.prototype.${t} can only be used on a CountQueuingStrategy`)}function cf(t){return!!Yt(t)&&!!Object.prototype.hasOwnProperty.call(t,"_countQueuingStrategyHighWaterMark")}function R4(t,e,r){return br(t,r),n=>mi(t,e,[n])}function K4(t,e,r){return br(t,r),n=>lo(t,e,[n])}function B4(t,e,r){return br(t,r),(n,i)=>mi(t,e,[n,i])}Object.defineProperties(o1.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof We.toStringTag&&Object.defineProperty(o1.prototype,We.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class c1{constructor(e={},r={},n={}){void 0===e&&(e=null);const i=xo(r,"Second parameter"),a=xo(n,"Third parameter"),s=function(y,g){gn(y,g);const k=null==y?void 0:y.flush,D=null==y?void 0:y.readableType,T=null==y?void 0:y.start,Y=null==y?void 0:y.transform,J=null==y?void 0:y.writableType;return{flush:void 0===k?void 0:R4(k,y,g+" has member 'flush' that"),readableType:D,start:void 0===T?void 0:K4(T,y,g+" has member 'start' that"),transform:void 0===Y?void 0:B4(Y,y,g+" has member 'transform' that"),writableType:J}}(e,"First parameter");if(void 0!==s.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw new RangeError("Invalid writableType specified");const o=$a(a,0),u=So(a),c=$a(i,1),l=So(i);let d;(function(y,g,k,D,T,Y){function J(){return g}y._writable=function(h,b,A,v,m=1,E=(()=>1)){const $=Object.create(Eo.prototype);return B2($),j2($,Object.create(Ya.prototype),h,b,A,v,m,E),$}(J,function(h){return function(b,A){const v=b._transformStreamController;return b._backpressure?gi(b._backpressureChangePromise,()=>{const m=b._writable;if("erroring"===m._state)throw m._storedError;return hf(v,A)}):hf(v,A)}(y,h)},function(){return function(h){const b=h._readable,A=h._transformStreamController,v=A._flushAlgorithm();return lf(A),gi(v,()=>{if("errored"===b._state)throw b._storedError;es(b._readableStreamController)},m=>{throw zo(h,m),b._storedError})}(y)},function(h){return zo(y,h),ct(void 0)},k,D),y._readable=a1(J,function(){return qo(h=y,!1),h._backpressureChangePromise;var h},function(h){return Vo(y,h),ct(void 0)},T,Y),y._backpressure=void 0,y._backpressureChangePromise=void 0,y._backpressureChangePromise_resolve=void 0,qo(y,!0),y._transformStreamController=void 0})(this,Vt(y=>{d=y}),c,l,o,u),function(y,g){const k=Object.create(No.prototype);let D=Y=>{try{return df(k,Y),ct(void 0)}catch(J){return Oe(J)}},T=()=>ct(void 0);var Y,J,j,U;void 0!==g.transform&&(D=Y=>g.transform(Y,k)),void 0!==g.flush&&(T=()=>g.flush(k)),j=D,U=T,(J=k)._controlledTransformStream=Y=y,Y._transformStreamController=J,J._transformAlgorithm=j,J._flushAlgorithm=U}(this,s),d(void 0!==s.start?s.start(this._transformStreamController):void 0)}get readable(){if(!uf(this))throw ff("readable");return this._readable}get writable(){if(!uf(this))throw ff("writable");return this._writable}}function uf(t){return!!Yt(t)&&!!Object.prototype.hasOwnProperty.call(t,"_transformStreamController")}function zo(t,e){Ln(t._readable._readableStreamController,e),Vo(t,e)}function Vo(t,e){lf(t._transformStreamController),X0(t._writable._writableStreamController,e),t._backpressure&&qo(t,!1)}function qo(t,e){void 0!==t._backpressureChangePromise&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=Vt(r=>{t._backpressureChangePromise_resolve=r}),t._backpressure=e}Object.defineProperties(c1.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof We.toStringTag&&Object.defineProperty(c1.prototype,We.toStringTag,{value:"TransformStream",configurable:!0});class No{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!jo(this))throw Lo("desiredSize");return i1(this._controlledTransformStream._readable._readableStreamController)}enqueue(e){if(!jo(this))throw Lo("enqueue");df(this,e)}error(e){if(!jo(this))throw Lo("error");zo(this._controlledTransformStream,e)}terminate(){if(!jo(this))throw Lo("terminate");!function(e){const r=e._controlledTransformStream;es(r._readable._readableStreamController),Vo(r,new TypeError("TransformStream terminated"))}(this)}}function jo(t){return!!Yt(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream")}function lf(t){t._transformAlgorithm=void 0,t._flushAlgorithm=void 0}function df(t,e){const r=t._controlledTransformStream,n=r._readable._readableStreamController;if(!Ji(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{Oo(n,e)}catch(i){throw Vo(r,i),r._readable._storedError}var i;!Q2(i=n)!==r._backpressure&&qo(r,!0)}function hf(t,e){return gi(t._transformAlgorithm(e),void 0,r=>{throw zo(t._controlledTransformStream,r),r})}function Lo(t){return new TypeError(`TransformStreamDefaultController.prototype.${t} can only be used on a TransformStreamDefaultController`)}function ff(t){return new TypeError(`TransformStream.prototype.${t} can only be used on a TransformStream`)}Object.defineProperties(No.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof We.toStringTag&&Object.defineProperty(No.prototype,We.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var O4=Object.freeze({__proto__:null,ByteLengthQueuingStrategy:s1,CountQueuingStrategy:o1,ReadableByteStreamController:vo,ReadableStream:Qi,ReadableStreamBYOBReader:Ao,ReadableStreamBYOBRequest:bo,ReadableStreamDefaultController:Qa,ReadableStreamDefaultReader:po,TransformStream:c1,TransformStreamDefaultController:No,WritableStream:Eo,WritableStreamDefaultController:Ya,WritableStreamDefaultWriter:Po}),pf=function(t,e){return(pf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};function yf(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+e+" is not a constructor or null");function r(){this.constructor=t}pf(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function tr(t){if(!t)throw new TypeError("Assertion failed")}function rs(){}function u1(t){return"object"==typeof t&&null!==t||"function"==typeof t}function l1(t){if("function"!=typeof t)return!1;var e=!1;try{new t({start:function(){e=!0}})}catch(r){}return e}function d1(t){return!!u1(t)&&"function"==typeof t.getReader}function h1(t){return!!u1(t)&&"function"==typeof t.getWriter}function gf(t){return!!u1(t)&&!!d1(t.readable)&&!!h1(t.writable)}function mf(t){try{return t.getReader({mode:"byob"}).releaseLock(),!0}catch(e){return!1}}function f1(t,e){var r=(void 0===e?{}:e).type;return tr(d1(t)),tr(!1===t.locked),"bytes"===(r=bf(r))?new z4(t):new F4(t)}function bf(t){var e=t+"";if("bytes"===e)return e;if(void 0===t)return t;throw new RangeError("Invalid type is specified")}var vf=function(){function t(e){this._underlyingReader=void 0,this._readerMode=void 0,this._readableStreamController=void 0,this._pendingRead=void 0,this._underlyingStream=e,this._attachDefaultReader()}return t.prototype.start=function(e){this._readableStreamController=e},t.prototype.cancel=function(e){return tr(void 0!==this._underlyingReader),this._underlyingReader.cancel(e)},t.prototype._attachDefaultReader=function(){if("default"!==this._readerMode){this._detachReader();var e=this._underlyingStream.getReader();this._readerMode="default",this._attachReader(e)}},t.prototype._attachReader=function(e){var r=this;tr(void 0===this._underlyingReader),this._underlyingReader=e;var n=this._underlyingReader.closed;n&&n.then(function(){return r._finishPendingRead()}).then(function(){e===r._underlyingReader&&r._readableStreamController.close()},function(i){e===r._underlyingReader&&r._readableStreamController.error(i)}).catch(rs)},t.prototype._detachReader=function(){void 0!==this._underlyingReader&&(this._underlyingReader.releaseLock(),this._underlyingReader=void 0,this._readerMode=void 0)},t.prototype._pullWithDefaultReader=function(){var e=this;this._attachDefaultReader();var r=this._underlyingReader.read().then(function(n){var i=e._readableStreamController;n.done?e._tryClose():i.enqueue(n.value)});return this._setPendingRead(r),r},t.prototype._tryClose=function(){try{this._readableStreamController.close()}catch(e){}},t.prototype._setPendingRead=function(e){var r,n=this,i=function(){n._pendingRead===r&&(n._pendingRead=void 0)};this._pendingRead=r=e.then(i,i)},t.prototype._finishPendingRead=function(){var e=this;if(this._pendingRead){var r=function(){return e._finishPendingRead()};return this._pendingRead.then(r,r)}},t}(),F4=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yf(e,t),e.prototype.pull=function(){return this._pullWithDefaultReader()},e}(vf);function _f(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}var z4=function(t){function e(r){var n=this,i=mf(r);return(n=t.call(this,r)||this)._supportsByob=i,n}return yf(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"bytes"},enumerable:!1,configurable:!0}),e.prototype._attachByobReader=function(){if("byob"!==this._readerMode){tr(this._supportsByob),this._detachReader();var r=this._underlyingStream.getReader({mode:"byob"});this._readerMode="byob",this._attachReader(r)}},e.prototype.pull=function(){if(this._supportsByob){var r=this._readableStreamController.byobRequest;if(r)return this._pullWithByobRequest(r)}return this._pullWithDefaultReader()},e.prototype._pullWithByobRequest=function(r){var n=this;this._attachByobReader();var i=new Uint8Array(r.view.byteLength),a=this._underlyingReader.read(i).then(function(s){var u,c;s.done?(n._tryClose(),r.respond(0)):(u=r.view,c=_f(s.value),_f(u).set(c,0),r.respond(s.value.byteLength))});return this._setPendingRead(a),a},e}(vf);function wf(t){tr(h1(t)),tr(!1===t.locked);var e=t.getWriter();return new V4(e)}var V4=function(){function t(e){var r=this;this._writableStreamController=void 0,this._pendingWrite=void 0,this._state="writable",this._storedError=void 0,this._underlyingWriter=e,this._errorPromise=new Promise(function(n,i){r._errorPromiseReject=i}),this._errorPromise.catch(rs)}return t.prototype.start=function(e){var r=this;this._writableStreamController=e,this._underlyingWriter.closed.then(function(){r._state="closed"}).catch(function(n){return r._finishErroring(n)})},t.prototype.write=function(e){var r=this,n=this._underlyingWriter;if(null===n.desiredSize)return n.ready;var i=n.write(e);i.catch(function(s){return r._finishErroring(s)}),n.ready.catch(function(s){return r._startErroring(s)});var a=Promise.race([i,this._errorPromise]);return this._setPendingWrite(a),a},t.prototype.close=function(){var e=this;return void 0===this._pendingWrite?this._underlyingWriter.close():this._finishPendingWrite().then(function(){return e.close()})},t.prototype.abort=function(e){if("errored"!==this._state)return this._underlyingWriter.abort(e)},t.prototype._setPendingWrite=function(e){var r,n=this,i=function(){n._pendingWrite===r&&(n._pendingWrite=void 0)};this._pendingWrite=r=e.then(i,i)},t.prototype._finishPendingWrite=function(){var e=this;if(void 0===this._pendingWrite)return Promise.resolve();var r=function(){return e._finishPendingWrite()};return this._pendingWrite.then(r,r)},t.prototype._startErroring=function(e){var r=this;if("writable"===this._state){this._state="erroring",this._storedError=e;var n=function(){return r._finishErroring(e)};void 0===this._pendingWrite?n():this._finishPendingWrite().then(n,n),this._writableStreamController.error(e)}},t.prototype._finishErroring=function(e){"writable"===this._state&&this._startErroring(e),"erroring"===this._state&&(this._state="errored",this._errorPromiseReject(this._storedError))},t}();function Af(t){tr(gf(t));var e=t.readable,r=t.writable;tr(!1===e.locked),tr(!1===r.locked);var n,i=e.getReader();try{n=r.getWriter()}catch(a){throw i.releaseLock(),a}return new q4(i,n)}var q4=function(){function t(e,r){var n=this;this._transformStreamController=void 0,this._onRead=function(i){if(!i.done)return n._transformStreamController.enqueue(i.value),n._reader.read().then(n._onRead)},this._onError=function(i){n._flushReject(i),n._transformStreamController.error(i),n._reader.cancel(i).catch(rs),n._writer.abort(i).catch(rs)},this._onTerminate=function(){n._flushResolve(),n._transformStreamController.terminate();var i=new TypeError("TransformStream terminated");n._writer.abort(i).catch(rs)},this._reader=e,this._writer=r,this._flushPromise=new Promise(function(i,a){n._flushResolve=i,n._flushReject=a})}return t.prototype.start=function(e){this._transformStreamController=e,this._reader.read().then(this._onRead).then(this._onTerminate,this._onError);var r=this._reader.closed;r&&r.then(this._onTerminate,this._onError)},t.prototype.transform=function(e){return this._writer.write(e)},t.prototype.flush=function(){var e=this;return this._writer.close().then(function(){return e._flushPromise})},t}(),N4=Object.freeze({__proto__:null,createReadableStreamWrapper:function(t){var r;tr(!!l1(r=t)&&!!d1(new r));var e=function(r){try{return new r({type:"bytes"}),!0}catch(n){return!1}}(t);return function(r,n){var i=(void 0===n?{}:n).type;if("bytes"!==(i=bf(i))||e||(i=void 0),r.constructor===t&&("bytes"!==i||mf(r)))return r;if("bytes"===i){var a=f1(r,{type:i});return new t(a)}return a=f1(r),new t(a)}},createTransformStreamWrapper:function(t){return tr(!!l1(e=t)&&!!gf(new e)),function(e){if(e.constructor===t)return e;var r=Af(e);return new t(r)};var e},createWrappingReadableSource:f1,createWrappingTransformer:Af,createWrappingWritableSink:wf,createWritableStreamWrapper:function(t){return tr(!!l1(e=t)&&!!h1(new e)),function(e){if(e.constructor===t)return e;var r=wf(e);return new t(r)};var e}}),xe=Cr(function(t){!function(e,r){function n(h,b){if(!h)throw Error(b||"Assertion failed")}function i(h,b){h.super_=b;var A=function(){};A.prototype=b.prototype,h.prototype=new A,h.prototype.constructor=h}function a(h,b,A){if(a.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,null!==h&&("le"!==b&&"be"!==b||(A=b,b=10),this._init(h||0,b||10,A||"be"))}var s;"object"==typeof e?e.exports=a:r.BN=a,a.BN=a,a.wordSize=26;try{s=void 0}catch(h){}function o(h,b,A){for(var v=0,m=Math.min(h.length,A),E=b;E<m;E++){var $=h.charCodeAt(E)-48;v<<=4,v|=$>=49&&$<=54?$-49+10:$>=17&&$<=22?$-17+10:15&$}return v}function u(h,b,A,v){for(var m=0,E=Math.min(h.length,A),$=b;$<E;$++){var H=h.charCodeAt($)-48;m*=v,m+=H>=49?H-49+10:H>=17?H-17+10:H}return m}a.isBN=function(h){return h instanceof a||null!==h&&"object"==typeof h&&h.constructor.wordSize===a.wordSize&&Array.isArray(h.words)},a.max=function(h,b){return h.cmp(b)>0?h:b},a.min=function(h,b){return h.cmp(b)<0?h:b},a.prototype._init=function(h,b,A){if("number"==typeof h)return this._initNumber(h,b,A);if("object"==typeof h)return this._initArray(h,b,A);"hex"===b&&(b=16),n(b===(0|b)&&b>=2&&b<=36);var v=0;"-"===(h=h.toString().replace(/\s+/g,""))[0]&&v++,16===b?this._parseHex(h,v):this._parseBase(h,b,v),"-"===h[0]&&(this.negative=1),this.strip(),"le"===A&&this._initArray(this.toArray(),b,A)},a.prototype._initNumber=function(h,b,A){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[67108863&h],this.length=1):h<4503599627370496?(this.words=[67108863&h,h/67108864&67108863],this.length=2):(n(h<9007199254740992),this.words=[67108863&h,h/67108864&67108863,1],this.length=3),"le"===A&&this._initArray(this.toArray(),b,A)},a.prototype._initArray=function(h,b,A){if(n("number"==typeof h.length),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var m,E,$=0;if("be"===A)for(v=h.length-1,m=0;v>=0;v-=3)this.words[m]|=(E=h[v]|h[v-1]<<8|h[v-2]<<16)<<$&67108863,this.words[m+1]=E>>>26-$&67108863,($+=24)>=26&&($-=26,m++);else if("le"===A)for(v=0,m=0;v<h.length;v+=3)this.words[m]|=(E=h[v]|h[v+1]<<8|h[v+2]<<16)<<$&67108863,this.words[m+1]=E>>>26-$&67108863,($+=24)>=26&&($-=26,m++);return this.strip()},a.prototype._parseHex=function(h,b){this.length=Math.ceil((h.length-b)/6),this.words=Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var v,m,E=0;for(A=h.length-6,v=0;A>=b;A-=6)m=o(h,A,A+6),this.words[v]|=m<<E&67108863,this.words[v+1]|=m>>>26-E&4194303,(E+=24)>=26&&(E-=26,v++);A+6!==b&&(m=o(h,b,A+6),this.words[v]|=m<<E&67108863,this.words[v+1]|=m>>>26-E&4194303),this.strip()},a.prototype._parseBase=function(h,b,A){this.words=[0],this.length=1;for(var v=0,m=1;m<=67108863;m*=b)v++;v--,m=m/b|0;for(var E=h.length-A,$=E%v,H=Math.min(E,E-$)+A,ce=0,F=A;F<H;F+=v)ce=u(h,F,F+v,b),this.imuln(m),this.words[0]+ce<67108864?this.words[0]+=ce:this._iaddn(ce);if(0!==$){var se=1;for(ce=u(h,F,h.length,b),F=0;F<$;F++)se*=b;this.imuln(se),this.words[0]+ce<67108864?this.words[0]+=ce:this._iaddn(ce)}},a.prototype.copy=function(h){h.words=Array(this.length);for(var b=0;b<this.length;b++)h.words[b]=this.words[b];h.length=this.length,h.negative=this.negative,h.red=this.red},a.prototype.clone=function(){var h=new a(null);return this.copy(h),h},a.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(h,b,A){A.negative=b.negative^h.negative;var v=h.length+b.length|0;A.length=v,v=v-1|0;var m=0|h.words[0],E=0|b.words[0],$=m*E,ce=$/67108864|0;A.words[0]=67108863&$;for(var F=1;F<v;F++){for(var se=ce>>>26,le=67108863&ce,fe=Math.min(F,b.length-1),de=Math.max(0,F-h.length+1);de<=fe;de++)se+=($=(m=0|h.words[F-de|0])*(E=0|b.words[de])+le)/67108864|0,le=67108863&$;A.words[F]=0|le,ce=0|se}return 0!==ce?A.words[F]=0|ce:A.length--,A.strip()}a.prototype.toString=function(h,b){var A;if(b=0|b||1,16===(h=h||10)||"hex"===h){A="";for(var v=0,m=0,E=0;E<this.length;E++){var $=this.words[E],H=(16777215&($<<v|m)).toString(16);A=0!=(m=$>>>24-v&16777215)||E!==this.length-1?c[6-H.length]+H+A:H+A,(v+=2)>=26&&(v-=26,E--)}for(0!==m&&(A=m.toString(16)+A);A.length%b!=0;)A="0"+A;return 0!==this.negative&&(A="-"+A),A}if(h===(0|h)&&h>=2&&h<=36){var ce=l[h],F=d[h];A="";var se=this.clone();for(se.negative=0;!se.isZero();){var le=se.modn(F).toString(h);A=(se=se.idivn(F)).isZero()?le+A:c[ce-le.length]+le+A}for(this.isZero()&&(A="0"+A);A.length%b!=0;)A="0"+A;return 0!==this.negative&&(A="-"+A),A}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var h=this.words[0];return 2===this.length?h+=67108864*this.words[1]:3===this.length&&1===this.words[2]?h+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-h:h},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(h,b){return n(void 0!==s),this.toArrayLike(s,h,b)},a.prototype.toArray=function(h,b){return this.toArrayLike(Array,h,b)},a.prototype.toArrayLike=function(h,b,A){var v=this.byteLength(),m=A||Math.max(1,v);n(v<=m,"byte array longer than desired length"),n(m>0,"Requested array length <= 0"),this.strip();var E,$,H="le"===b,ce=new h(m),F=this.clone();if(H){for($=0;!F.isZero();$++)E=F.andln(255),F.iushrn(8),ce[$]=E;for(;$<m;$++)ce[$]=0}else{for($=0;$<m-v;$++)ce[$]=0;for($=0;!F.isZero();$++)E=F.andln(255),F.iushrn(8),ce[m-$-1]=E}return ce},a.prototype._countBits=Math.clz32?function(h){return 32-Math.clz32(h)}:function(h){var b=h,A=0;return b>=4096&&(A+=13,b>>>=13),b>=64&&(A+=7,b>>>=7),b>=8&&(A+=4,b>>>=4),b>=2&&(A+=2,b>>>=2),A+b},a.prototype._zeroBits=function(h){if(0===h)return 26;var b=h,A=0;return 0==(8191&b)&&(A+=13,b>>>=13),0==(127&b)&&(A+=7,b>>>=7),0==(15&b)&&(A+=4,b>>>=4),0==(3&b)&&(A+=2,b>>>=2),0==(1&b)&&A++,A},a.prototype.bitLength=function(){var b=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+b},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,b=0;b<this.length;b++){var A=this._zeroBits(this.words[b]);if(h+=A,26!==A)break}return h},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(h){return 0!==this.negative?this.abs().inotn(h).iaddn(1):this.clone()},a.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var b=0;b<h.length;b++)this.words[b]=this.words[b]|h.words[b];return this.strip()},a.prototype.ior=function(h){return n(0==(this.negative|h.negative)),this.iuor(h)},a.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},a.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},a.prototype.iuand=function(h){var b;b=this.length>h.length?h:this;for(var A=0;A<b.length;A++)this.words[A]=this.words[A]&h.words[A];return this.length=b.length,this.strip()},a.prototype.iand=function(h){return n(0==(this.negative|h.negative)),this.iuand(h)},a.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},a.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},a.prototype.iuxor=function(h){var b,A;this.length>h.length?(b=this,A=h):(b=h,A=this);for(var v=0;v<A.length;v++)this.words[v]=b.words[v]^A.words[v];if(this!==b)for(;v<b.length;v++)this.words[v]=b.words[v];return this.length=b.length,this.strip()},a.prototype.ixor=function(h){return n(0==(this.negative|h.negative)),this.iuxor(h)},a.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},a.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},a.prototype.inotn=function(h){n("number"==typeof h&&h>=0);var b=0|Math.ceil(h/26),A=h%26;this._expand(b),A>0&&b--;for(var v=0;v<b;v++)this.words[v]=67108863&~this.words[v];return A>0&&(this.words[v]=~this.words[v]&67108863>>26-A),this.strip()},a.prototype.notn=function(h){return this.clone().inotn(h)},a.prototype.setn=function(h,b){n("number"==typeof h&&h>=0);var A=h/26|0,v=h%26;return this._expand(A+1),this.words[A]=b?this.words[A]|1<<v:this.words[A]&~(1<<v),this.strip()},a.prototype.iadd=function(h){var b,A,v;if(0!==this.negative&&0===h.negative)return this.negative=0,b=this.isub(h),this.negative^=1,this._normSign();if(0===this.negative&&0!==h.negative)return h.negative=0,b=this.isub(h),h.negative=1,b._normSign();this.length>h.length?(A=this,v=h):(A=h,v=this);for(var m=0,E=0;E<v.length;E++)this.words[E]=67108863&(b=(0|A.words[E])+(0|v.words[E])+m),m=b>>>26;for(;0!==m&&E<A.length;E++)this.words[E]=67108863&(b=(0|A.words[E])+m),m=b>>>26;if(this.length=A.length,0!==m)this.words[this.length]=m,this.length++;else if(A!==this)for(;E<A.length;E++)this.words[E]=A.words[E];return this},a.prototype.add=function(h){var b;return 0!==h.negative&&0===this.negative?(h.negative=0,b=this.sub(h),h.negative^=1,b):0===h.negative&&0!==this.negative?(this.negative=0,b=h.sub(this),this.negative=1,b):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},a.prototype.isub=function(h){if(0!==h.negative){h.negative=0;var b=this.iadd(h);return h.negative=1,b._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var A,v,m=this.cmp(h);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(A=this,v=h):(A=h,v=this);for(var E=0,$=0;$<v.length;$++)E=(b=(0|A.words[$])-(0|v.words[$])+E)>>26,this.words[$]=67108863&b;for(;0!==E&&$<A.length;$++)E=(b=(0|A.words[$])+E)>>26,this.words[$]=67108863&b;if(0===E&&$<A.length&&A!==this)for(;$<A.length;$++)this.words[$]=A.words[$];return this.length=Math.max(this.length,$),A!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(h){return this.clone().isub(h)};var g=function(h,b,A){var v,m,E,$=h.words,H=b.words,ce=A.words,F=0,se=0|$[0],le=8191&se,fe=se>>>13,de=0|$[1],pe=8191&de,we=de>>>13,ve=0|$[2],K=8191&ve,Q=ve>>>13,te=0|$[3],f=8191&te,B=te>>>13,re=0|$[4],ne=8191&re,ae=re>>>13,S=0|$[5],w=8191&S,x=S>>>13,I=0|$[6],V=8191&I,O=I>>>13,W=0|$[7],be=8191&W,ye=W>>>13,Ae=0|$[8],ge=8191&Ae,z=Ae>>>13,G=0|$[9],q=8191&G,N=G>>>13,Z=0|H[0],P=8191&Z,M=Z>>>13,R=0|H[1],he=8191&R,Me=R>>>13,Ze=0|H[2],Ie=8191&Ze,Te=Ze>>>13,rt=0|H[3],je=8191&rt,Le=rt>>>13,ft=0|H[4],De=8191&ft,Re=ft>>>13,$e=0|H[5],Ce=8191&$e,ze=$e>>>13,et=0|H[6],Fe=8191&et,oe=et>>>13,ue=0|H[7],me=8191&ue,ke=ue>>>13,Ue=0|H[8],Pe=8191&Ue,Ee=Ue>>>13,Je=0|H[9],Ve=8191&Je,Xe=Je>>>13;A.negative=h.negative^b.negative,A.length=19;var Nt=(F+(v=Math.imul(le,P))|0)+((8191&(m=(m=Math.imul(le,M))+Math.imul(fe,P)|0))<<13)|0;F=((E=Math.imul(fe,M))+(m>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,v=Math.imul(pe,P),m=(m=Math.imul(pe,M))+Math.imul(we,P)|0,E=Math.imul(we,M);var jt=(F+(v=v+Math.imul(le,he)|0)|0)+((8191&(m=(m=m+Math.imul(le,Me)|0)+Math.imul(fe,he)|0))<<13)|0;F=((E=E+Math.imul(fe,Me)|0)+(m>>>13)|0)+(jt>>>26)|0,jt&=67108863,v=Math.imul(K,P),m=(m=Math.imul(K,M))+Math.imul(Q,P)|0,E=Math.imul(Q,M),v=v+Math.imul(pe,he)|0,m=(m=m+Math.imul(pe,Me)|0)+Math.imul(we,he)|0,E=E+Math.imul(we,Me)|0;var Xt=(F+(v=v+Math.imul(le,Ie)|0)|0)+((8191&(m=(m=m+Math.imul(le,Te)|0)+Math.imul(fe,Ie)|0))<<13)|0;F=((E=E+Math.imul(fe,Te)|0)+(m>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,v=Math.imul(f,P),m=(m=Math.imul(f,M))+Math.imul(B,P)|0,E=Math.imul(B,M),v=v+Math.imul(K,he)|0,m=(m=m+Math.imul(K,Me)|0)+Math.imul(Q,he)|0,E=E+Math.imul(Q,Me)|0,v=v+Math.imul(pe,Ie)|0,m=(m=m+Math.imul(pe,Te)|0)+Math.imul(we,Ie)|0,E=E+Math.imul(we,Te)|0;var Hr=(F+(v=v+Math.imul(le,je)|0)|0)+((8191&(m=(m=m+Math.imul(le,Le)|0)+Math.imul(fe,je)|0))<<13)|0;F=((E=E+Math.imul(fe,Le)|0)+(m>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,v=Math.imul(ne,P),m=(m=Math.imul(ne,M))+Math.imul(ae,P)|0,E=Math.imul(ae,M),v=v+Math.imul(f,he)|0,m=(m=m+Math.imul(f,Me)|0)+Math.imul(B,he)|0,E=E+Math.imul(B,Me)|0,v=v+Math.imul(K,Ie)|0,m=(m=m+Math.imul(K,Te)|0)+Math.imul(Q,Ie)|0,E=E+Math.imul(Q,Te)|0,v=v+Math.imul(pe,je)|0,m=(m=m+Math.imul(pe,Le)|0)+Math.imul(we,je)|0,E=E+Math.imul(we,Le)|0;var Wr=(F+(v=v+Math.imul(le,De)|0)|0)+((8191&(m=(m=m+Math.imul(le,Re)|0)+Math.imul(fe,De)|0))<<13)|0;F=((E=E+Math.imul(fe,Re)|0)+(m>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,v=Math.imul(w,P),m=(m=Math.imul(w,M))+Math.imul(x,P)|0,E=Math.imul(x,M),v=v+Math.imul(ne,he)|0,m=(m=m+Math.imul(ne,Me)|0)+Math.imul(ae,he)|0,E=E+Math.imul(ae,Me)|0,v=v+Math.imul(f,Ie)|0,m=(m=m+Math.imul(f,Te)|0)+Math.imul(B,Ie)|0,E=E+Math.imul(B,Te)|0,v=v+Math.imul(K,je)|0,m=(m=m+Math.imul(K,Le)|0)+Math.imul(Q,je)|0,E=E+Math.imul(Q,Le)|0,v=v+Math.imul(pe,De)|0,m=(m=m+Math.imul(pe,Re)|0)+Math.imul(we,De)|0,E=E+Math.imul(we,Re)|0;var $r=(F+(v=v+Math.imul(le,Ce)|0)|0)+((8191&(m=(m=m+Math.imul(le,ze)|0)+Math.imul(fe,Ce)|0))<<13)|0;F=((E=E+Math.imul(fe,ze)|0)+(m>>>13)|0)+($r>>>26)|0,$r&=67108863,v=Math.imul(V,P),m=(m=Math.imul(V,M))+Math.imul(O,P)|0,E=Math.imul(O,M),v=v+Math.imul(w,he)|0,m=(m=m+Math.imul(w,Me)|0)+Math.imul(x,he)|0,E=E+Math.imul(x,Me)|0,v=v+Math.imul(ne,Ie)|0,m=(m=m+Math.imul(ne,Te)|0)+Math.imul(ae,Ie)|0,E=E+Math.imul(ae,Te)|0,v=v+Math.imul(f,je)|0,m=(m=m+Math.imul(f,Le)|0)+Math.imul(B,je)|0,E=E+Math.imul(B,Le)|0,v=v+Math.imul(K,De)|0,m=(m=m+Math.imul(K,Re)|0)+Math.imul(Q,De)|0,E=E+Math.imul(Q,Re)|0,v=v+Math.imul(pe,Ce)|0,m=(m=m+Math.imul(pe,ze)|0)+Math.imul(we,Ce)|0,E=E+Math.imul(we,ze)|0;var Yr=(F+(v=v+Math.imul(le,Fe)|0)|0)+((8191&(m=(m=m+Math.imul(le,oe)|0)+Math.imul(fe,Fe)|0))<<13)|0;F=((E=E+Math.imul(fe,oe)|0)+(m>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,v=Math.imul(be,P),m=(m=Math.imul(be,M))+Math.imul(ye,P)|0,E=Math.imul(ye,M),v=v+Math.imul(V,he)|0,m=(m=m+Math.imul(V,Me)|0)+Math.imul(O,he)|0,E=E+Math.imul(O,Me)|0,v=v+Math.imul(w,Ie)|0,m=(m=m+Math.imul(w,Te)|0)+Math.imul(x,Ie)|0,E=E+Math.imul(x,Te)|0,v=v+Math.imul(ne,je)|0,m=(m=m+Math.imul(ne,Le)|0)+Math.imul(ae,je)|0,E=E+Math.imul(ae,Le)|0,v=v+Math.imul(f,De)|0,m=(m=m+Math.imul(f,Re)|0)+Math.imul(B,De)|0,E=E+Math.imul(B,Re)|0,v=v+Math.imul(K,Ce)|0,m=(m=m+Math.imul(K,ze)|0)+Math.imul(Q,Ce)|0,E=E+Math.imul(Q,ze)|0,v=v+Math.imul(pe,Fe)|0,m=(m=m+Math.imul(pe,oe)|0)+Math.imul(we,Fe)|0,E=E+Math.imul(we,oe)|0;var Jr=(F+(v=v+Math.imul(le,me)|0)|0)+((8191&(m=(m=m+Math.imul(le,ke)|0)+Math.imul(fe,me)|0))<<13)|0;F=((E=E+Math.imul(fe,ke)|0)+(m>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,v=Math.imul(ge,P),m=(m=Math.imul(ge,M))+Math.imul(z,P)|0,E=Math.imul(z,M),v=v+Math.imul(be,he)|0,m=(m=m+Math.imul(be,Me)|0)+Math.imul(ye,he)|0,E=E+Math.imul(ye,Me)|0,v=v+Math.imul(V,Ie)|0,m=(m=m+Math.imul(V,Te)|0)+Math.imul(O,Ie)|0,E=E+Math.imul(O,Te)|0,v=v+Math.imul(w,je)|0,m=(m=m+Math.imul(w,Le)|0)+Math.imul(x,je)|0,E=E+Math.imul(x,Le)|0,v=v+Math.imul(ne,De)|0,m=(m=m+Math.imul(ne,Re)|0)+Math.imul(ae,De)|0,E=E+Math.imul(ae,Re)|0,v=v+Math.imul(f,Ce)|0,m=(m=m+Math.imul(f,ze)|0)+Math.imul(B,Ce)|0,E=E+Math.imul(B,ze)|0,v=v+Math.imul(K,Fe)|0,m=(m=m+Math.imul(K,oe)|0)+Math.imul(Q,Fe)|0,E=E+Math.imul(Q,oe)|0,v=v+Math.imul(pe,me)|0,m=(m=m+Math.imul(pe,ke)|0)+Math.imul(we,me)|0,E=E+Math.imul(we,ke)|0;var Qr=(F+(v=v+Math.imul(le,Pe)|0)|0)+((8191&(m=(m=m+Math.imul(le,Ee)|0)+Math.imul(fe,Pe)|0))<<13)|0;F=((E=E+Math.imul(fe,Ee)|0)+(m>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,v=Math.imul(q,P),m=(m=Math.imul(q,M))+Math.imul(N,P)|0,E=Math.imul(N,M),v=v+Math.imul(ge,he)|0,m=(m=m+Math.imul(ge,Me)|0)+Math.imul(z,he)|0,E=E+Math.imul(z,Me)|0,v=v+Math.imul(be,Ie)|0,m=(m=m+Math.imul(be,Te)|0)+Math.imul(ye,Ie)|0,E=E+Math.imul(ye,Te)|0,v=v+Math.imul(V,je)|0,m=(m=m+Math.imul(V,Le)|0)+Math.imul(O,je)|0,E=E+Math.imul(O,Le)|0,v=v+Math.imul(w,De)|0,m=(m=m+Math.imul(w,Re)|0)+Math.imul(x,De)|0,E=E+Math.imul(x,Re)|0,v=v+Math.imul(ne,Ce)|0,m=(m=m+Math.imul(ne,ze)|0)+Math.imul(ae,Ce)|0,E=E+Math.imul(ae,ze)|0,v=v+Math.imul(f,Fe)|0,m=(m=m+Math.imul(f,oe)|0)+Math.imul(B,Fe)|0,E=E+Math.imul(B,oe)|0,v=v+Math.imul(K,me)|0,m=(m=m+Math.imul(K,ke)|0)+Math.imul(Q,me)|0,E=E+Math.imul(Q,ke)|0,v=v+Math.imul(pe,Pe)|0,m=(m=m+Math.imul(pe,Ee)|0)+Math.imul(we,Pe)|0,E=E+Math.imul(we,Ee)|0;var Xr=(F+(v=v+Math.imul(le,Ve)|0)|0)+((8191&(m=(m=m+Math.imul(le,Xe)|0)+Math.imul(fe,Ve)|0))<<13)|0;F=((E=E+Math.imul(fe,Xe)|0)+(m>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,v=Math.imul(q,he),m=(m=Math.imul(q,Me))+Math.imul(N,he)|0,E=Math.imul(N,Me),v=v+Math.imul(ge,Ie)|0,m=(m=m+Math.imul(ge,Te)|0)+Math.imul(z,Ie)|0,E=E+Math.imul(z,Te)|0,v=v+Math.imul(be,je)|0,m=(m=m+Math.imul(be,Le)|0)+Math.imul(ye,je)|0,E=E+Math.imul(ye,Le)|0,v=v+Math.imul(V,De)|0,m=(m=m+Math.imul(V,Re)|0)+Math.imul(O,De)|0,E=E+Math.imul(O,Re)|0,v=v+Math.imul(w,Ce)|0,m=(m=m+Math.imul(w,ze)|0)+Math.imul(x,Ce)|0,E=E+Math.imul(x,ze)|0,v=v+Math.imul(ne,Fe)|0,m=(m=m+Math.imul(ne,oe)|0)+Math.imul(ae,Fe)|0,E=E+Math.imul(ae,oe)|0,v=v+Math.imul(f,me)|0,m=(m=m+Math.imul(f,ke)|0)+Math.imul(B,me)|0,E=E+Math.imul(B,ke)|0,v=v+Math.imul(K,Pe)|0,m=(m=m+Math.imul(K,Ee)|0)+Math.imul(Q,Pe)|0,E=E+Math.imul(Q,Ee)|0;var vn=(F+(v=v+Math.imul(pe,Ve)|0)|0)+((8191&(m=(m=m+Math.imul(pe,Xe)|0)+Math.imul(we,Ve)|0))<<13)|0;F=((E=E+Math.imul(we,Xe)|0)+(m>>>13)|0)+(vn>>>26)|0,vn&=67108863,v=Math.imul(q,Ie),m=(m=Math.imul(q,Te))+Math.imul(N,Ie)|0,E=Math.imul(N,Te),v=v+Math.imul(ge,je)|0,m=(m=m+Math.imul(ge,Le)|0)+Math.imul(z,je)|0,E=E+Math.imul(z,Le)|0,v=v+Math.imul(be,De)|0,m=(m=m+Math.imul(be,Re)|0)+Math.imul(ye,De)|0,E=E+Math.imul(ye,Re)|0,v=v+Math.imul(V,Ce)|0,m=(m=m+Math.imul(V,ze)|0)+Math.imul(O,Ce)|0,E=E+Math.imul(O,ze)|0,v=v+Math.imul(w,Fe)|0,m=(m=m+Math.imul(w,oe)|0)+Math.imul(x,Fe)|0,E=E+Math.imul(x,oe)|0,v=v+Math.imul(ne,me)|0,m=(m=m+Math.imul(ne,ke)|0)+Math.imul(ae,me)|0,E=E+Math.imul(ae,ke)|0,v=v+Math.imul(f,Pe)|0,m=(m=m+Math.imul(f,Ee)|0)+Math.imul(B,Pe)|0,E=E+Math.imul(B,Ee)|0;var _n=(F+(v=v+Math.imul(K,Ve)|0)|0)+((8191&(m=(m=m+Math.imul(K,Xe)|0)+Math.imul(Q,Ve)|0))<<13)|0;F=((E=E+Math.imul(Q,Xe)|0)+(m>>>13)|0)+(_n>>>26)|0,_n&=67108863,v=Math.imul(q,je),m=(m=Math.imul(q,Le))+Math.imul(N,je)|0,E=Math.imul(N,Le),v=v+Math.imul(ge,De)|0,m=(m=m+Math.imul(ge,Re)|0)+Math.imul(z,De)|0,E=E+Math.imul(z,Re)|0,v=v+Math.imul(be,Ce)|0,m=(m=m+Math.imul(be,ze)|0)+Math.imul(ye,Ce)|0,E=E+Math.imul(ye,ze)|0,v=v+Math.imul(V,Fe)|0,m=(m=m+Math.imul(V,oe)|0)+Math.imul(O,Fe)|0,E=E+Math.imul(O,oe)|0,v=v+Math.imul(w,me)|0,m=(m=m+Math.imul(w,ke)|0)+Math.imul(x,me)|0,E=E+Math.imul(x,ke)|0,v=v+Math.imul(ne,Pe)|0,m=(m=m+Math.imul(ne,Ee)|0)+Math.imul(ae,Pe)|0,E=E+Math.imul(ae,Ee)|0;var Yn=(F+(v=v+Math.imul(f,Ve)|0)|0)+((8191&(m=(m=m+Math.imul(f,Xe)|0)+Math.imul(B,Ve)|0))<<13)|0;F=((E=E+Math.imul(B,Xe)|0)+(m>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,v=Math.imul(q,De),m=(m=Math.imul(q,Re))+Math.imul(N,De)|0,E=Math.imul(N,Re),v=v+Math.imul(ge,Ce)|0,m=(m=m+Math.imul(ge,ze)|0)+Math.imul(z,Ce)|0,E=E+Math.imul(z,ze)|0,v=v+Math.imul(be,Fe)|0,m=(m=m+Math.imul(be,oe)|0)+Math.imul(ye,Fe)|0,E=E+Math.imul(ye,oe)|0,v=v+Math.imul(V,me)|0,m=(m=m+Math.imul(V,ke)|0)+Math.imul(O,me)|0,E=E+Math.imul(O,ke)|0,v=v+Math.imul(w,Pe)|0,m=(m=m+Math.imul(w,Ee)|0)+Math.imul(x,Pe)|0,E=E+Math.imul(x,Ee)|0;var Jn=(F+(v=v+Math.imul(ne,Ve)|0)|0)+((8191&(m=(m=m+Math.imul(ne,Xe)|0)+Math.imul(ae,Ve)|0))<<13)|0;F=((E=E+Math.imul(ae,Xe)|0)+(m>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,v=Math.imul(q,Ce),m=(m=Math.imul(q,ze))+Math.imul(N,Ce)|0,E=Math.imul(N,ze),v=v+Math.imul(ge,Fe)|0,m=(m=m+Math.imul(ge,oe)|0)+Math.imul(z,Fe)|0,E=E+Math.imul(z,oe)|0,v=v+Math.imul(be,me)|0,m=(m=m+Math.imul(be,ke)|0)+Math.imul(ye,me)|0,E=E+Math.imul(ye,ke)|0,v=v+Math.imul(V,Pe)|0,m=(m=m+Math.imul(V,Ee)|0)+Math.imul(O,Pe)|0,E=E+Math.imul(O,Ee)|0;var Qn=(F+(v=v+Math.imul(w,Ve)|0)|0)+((8191&(m=(m=m+Math.imul(w,Xe)|0)+Math.imul(x,Ve)|0))<<13)|0;F=((E=E+Math.imul(x,Xe)|0)+(m>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,v=Math.imul(q,Fe),m=(m=Math.imul(q,oe))+Math.imul(N,Fe)|0,E=Math.imul(N,oe),v=v+Math.imul(ge,me)|0,m=(m=m+Math.imul(ge,ke)|0)+Math.imul(z,me)|0,E=E+Math.imul(z,ke)|0,v=v+Math.imul(be,Pe)|0,m=(m=m+Math.imul(be,Ee)|0)+Math.imul(ye,Pe)|0,E=E+Math.imul(ye,Ee)|0;var Xn=(F+(v=v+Math.imul(V,Ve)|0)|0)+((8191&(m=(m=m+Math.imul(V,Xe)|0)+Math.imul(O,Ve)|0))<<13)|0;F=((E=E+Math.imul(O,Xe)|0)+(m>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,v=Math.imul(q,me),m=(m=Math.imul(q,ke))+Math.imul(N,me)|0,E=Math.imul(N,ke),v=v+Math.imul(ge,Pe)|0,m=(m=m+Math.imul(ge,Ee)|0)+Math.imul(z,Pe)|0,E=E+Math.imul(z,Ee)|0;var ei=(F+(v=v+Math.imul(be,Ve)|0)|0)+((8191&(m=(m=m+Math.imul(be,Xe)|0)+Math.imul(ye,Ve)|0))<<13)|0;F=((E=E+Math.imul(ye,Xe)|0)+(m>>>13)|0)+(ei>>>26)|0,ei&=67108863,v=Math.imul(q,Pe),m=(m=Math.imul(q,Ee))+Math.imul(N,Pe)|0,E=Math.imul(N,Ee);var ti=(F+(v=v+Math.imul(ge,Ve)|0)|0)+((8191&(m=(m=m+Math.imul(ge,Xe)|0)+Math.imul(z,Ve)|0))<<13)|0;F=((E=E+Math.imul(z,Xe)|0)+(m>>>13)|0)+(ti>>>26)|0,ti&=67108863;var Ei=(F+(v=Math.imul(q,Ve))|0)+((8191&(m=(m=Math.imul(q,Xe))+Math.imul(N,Ve)|0))<<13)|0;return F=((E=Math.imul(N,Xe))+(m>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,ce[0]=Nt,ce[1]=jt,ce[2]=Xt,ce[3]=Hr,ce[4]=Wr,ce[5]=$r,ce[6]=Yr,ce[7]=Jr,ce[8]=Qr,ce[9]=Xr,ce[10]=vn,ce[11]=_n,ce[12]=Yn,ce[13]=Jn,ce[14]=Qn,ce[15]=Xn,ce[16]=ei,ce[17]=ti,ce[18]=Ei,0!==F&&(ce[19]=F,A.length++),A};function k(h,b,A){return(new D).mulp(h,b,A)}function D(h,b){this.x=h,this.y=b}Math.imul||(g=y),a.prototype.mulTo=function(h,b){var A=this.length+h.length;return 10===this.length&&10===h.length?g(this,h,b):A<63?y(this,h,b):A<1024?function(v,m,E){E.negative=m.negative^v.negative,E.length=v.length+m.length;for(var $=0,H=0,ce=0;ce<E.length-1;ce++){var F=H;H=0;for(var se=67108863&$,le=Math.min(ce,m.length-1),fe=Math.max(0,ce-v.length+1);fe<=le;fe++){var pe=(0|v.words[ce-fe])*(0|m.words[fe]),we=67108863&pe;se=67108863&(we=we+se|0),H+=(F=(F=F+(pe/67108864|0)|0)+(we>>>26)|0)>>>26,F&=67108863}E.words[ce]=se,$=F,F=H}return 0!==$?E.words[ce]=$:E.length--,E.strip()}(this,h,b):k(this,h,b)},D.prototype.makeRBT=function(h){for(var b=Array(h),A=a.prototype._countBits(h)-1,v=0;v<h;v++)b[v]=this.revBin(v,A,h);return b},D.prototype.revBin=function(h,b,A){if(0===h||h===A-1)return h;for(var v=0,m=0;m<b;m++)v|=(1&h)<<b-m-1,h>>=1;return v},D.prototype.permute=function(h,b,A,v,m,E){for(var $=0;$<E;$++)v[$]=b[h[$]],m[$]=A[h[$]]},D.prototype.transform=function(h,b,A,v,m,E){this.permute(E,h,b,A,v,m);for(var $=1;$<m;$<<=1)for(var H=$<<1,ce=Math.cos(2*Math.PI/H),F=Math.sin(2*Math.PI/H),se=0;se<m;se+=H)for(var le=ce,fe=F,de=0;de<$;de++){var pe=A[se+de],we=v[se+de],ve=A[se+de+$],K=v[se+de+$],Q=le*ve-fe*K;K=le*K+fe*ve,A[se+de]=pe+(ve=Q),v[se+de]=we+K,A[se+de+$]=pe-ve,v[se+de+$]=we-K,de!==H&&(Q=ce*le-F*fe,fe=ce*fe+F*le,le=Q)}},D.prototype.guessLen13b=function(h,b){var A=1|Math.max(b,h),v=1&A,m=0;for(A=A/2|0;A;A>>>=1)m++;return 1<<m+1+v},D.prototype.conjugate=function(h,b,A){if(!(A<=1))for(var v=0;v<A/2;v++){var m=h[v];h[v]=h[A-v-1],h[A-v-1]=m,m=b[v],b[v]=-b[A-v-1],b[A-v-1]=-m}},D.prototype.normalize13b=function(h,b){for(var A=0,v=0;v<b/2;v++){var m=8192*Math.round(h[2*v+1]/b)+Math.round(h[2*v]/b)+A;h[v]=67108863&m,A=m<67108864?0:m/67108864|0}return h},D.prototype.convert13b=function(h,b,A,v){for(var m=0,E=0;E<b;E++)A[2*E]=8191&(m+=0|h[E]),A[2*E+1]=8191&(m>>>=13),m>>>=13;for(E=2*b;E<v;++E)A[E]=0;n(0===m),n(0==(-8192&m))},D.prototype.stub=function(h){for(var b=Array(h),A=0;A<h;A++)b[A]=0;return b},D.prototype.mulp=function(h,b,A){var v=2*this.guessLen13b(h.length,b.length),m=this.makeRBT(v),E=this.stub(v),$=Array(v),H=Array(v),ce=Array(v),F=Array(v),se=Array(v),le=Array(v),fe=A.words;fe.length=v,this.convert13b(h.words,h.length,$,v),this.convert13b(b.words,b.length,F,v),this.transform($,E,H,ce,v,m),this.transform(F,E,se,le,v,m);for(var de=0;de<v;de++){var pe=H[de]*se[de]-ce[de]*le[de];ce[de]=H[de]*le[de]+ce[de]*se[de],H[de]=pe}return this.conjugate(H,ce,v),this.transform(H,ce,fe,E,v,m),this.conjugate(fe,E,v),this.normalize13b(fe,v),A.negative=h.negative^b.negative,A.length=h.length+b.length,A.strip()},a.prototype.mul=function(h){var b=new a(null);return b.words=Array(this.length+h.length),this.mulTo(h,b)},a.prototype.mulf=function(h){var b=new a(null);return b.words=Array(this.length+h.length),k(this,h,b)},a.prototype.imul=function(h){return this.clone().mulTo(h,this)},a.prototype.imuln=function(h){n("number"==typeof h),n(h<67108864);for(var b=0,A=0;A<this.length;A++){var v=(0|this.words[A])*h,m=(67108863&v)+(67108863&b);b>>=26,b+=v/67108864|0,b+=m>>>26,this.words[A]=67108863&m}return 0!==b&&(this.words[A]=b,this.length++),this},a.prototype.muln=function(h){return this.clone().imuln(h)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(h){var b=function(E){for(var $=Array(E.bitLength()),H=0;H<$.length;H++){var F=H%26;$[H]=(E.words[H/26|0]&1<<F)>>>F}return $}(h);if(0===b.length)return new a(1);for(var A=this,v=0;v<b.length&&0===b[v];v++,A=A.sqr());if(++v<b.length)for(var m=A.sqr();v<b.length;v++,m=m.sqr())0!==b[v]&&(A=A.mul(m));return A},a.prototype.iushln=function(h){n("number"==typeof h&&h>=0);var b,A=h%26,v=(h-A)/26,m=67108863>>>26-A<<26-A;if(0!==A){var E=0;for(b=0;b<this.length;b++){var $=this.words[b]&m;this.words[b]=(0|this.words[b])-$<<A|E,E=$>>>26-A}E&&(this.words[b]=E,this.length++)}if(0!==v){for(b=this.length-1;b>=0;b--)this.words[b+v]=this.words[b];for(b=0;b<v;b++)this.words[b]=0;this.length+=v}return this.strip()},a.prototype.ishln=function(h){return n(0===this.negative),this.iushln(h)},a.prototype.iushrn=function(h,b,A){var v;n("number"==typeof h&&h>=0),v=b?(b-b%26)/26:0;var m=h%26,E=Math.min((h-m)/26,this.length),$=67108863^67108863>>>m<<m,H=A;if(v=Math.max(0,v-=E),H){for(var ce=0;ce<E;ce++)H.words[ce]=this.words[ce];H.length=E}if(0!==E)if(this.length>E)for(this.length-=E,ce=0;ce<this.length;ce++)this.words[ce]=this.words[ce+E];else this.words[0]=0,this.length=1;var F=0;for(ce=this.length-1;ce>=0&&(0!==F||ce>=v);ce--){var se=0|this.words[ce];this.words[ce]=F<<26-m|se>>>m,F=se&$}return H&&0!==F&&(H.words[H.length++]=F),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(h,b,A){return n(0===this.negative),this.iushrn(h,b,A)},a.prototype.shln=function(h){return this.clone().ishln(h)},a.prototype.ushln=function(h){return this.clone().iushln(h)},a.prototype.shrn=function(h){return this.clone().ishrn(h)},a.prototype.ushrn=function(h){return this.clone().iushrn(h)},a.prototype.testn=function(h){n("number"==typeof h&&h>=0);var b=h%26,A=(h-b)/26;return!(this.length<=A||!(this.words[A]&1<<b))},a.prototype.imaskn=function(h){n("number"==typeof h&&h>=0);var b=h%26,A=(h-b)/26;return n(0===this.negative,"imaskn works only with positive numbers"),this.length<=A?this:(0!==b&&A++,this.length=Math.min(A,this.length),0!==b&&(this.words[this.length-1]&=67108863^67108863>>>b<<b),this.strip())},a.prototype.maskn=function(h){return this.clone().imaskn(h)},a.prototype.iaddn=function(h){return n("number"==typeof h),n(h<67108864),h<0?this.isubn(-h):0!==this.negative?1===this.length&&(0|this.words[0])<h?(this.words[0]=h-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},a.prototype._iaddn=function(h){this.words[0]+=h;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},a.prototype.isubn=function(h){if(n("number"==typeof h),n(h<67108864),h<0)return this.iaddn(-h);if(0!==this.negative)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},a.prototype.addn=function(h){return this.clone().iaddn(h)},a.prototype.subn=function(h){return this.clone().isubn(h)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(h,b,A){var v,m;this._expand(h.length+A);var $=0;for(v=0;v<h.length;v++){m=(0|this.words[v+A])+$;var H=(0|h.words[v])*b;$=((m-=67108863&H)>>26)-(H/67108864|0),this.words[v+A]=67108863&m}for(;v<this.length-A;v++)$=(m=(0|this.words[v+A])+$)>>26,this.words[v+A]=67108863&m;if(0===$)return this.strip();for(n(-1===$),$=0,v=0;v<this.length;v++)$=(m=-(0|this.words[v])+$)>>26,this.words[v]=67108863&m;return this.negative=1,this.strip()},a.prototype._wordDiv=function(h,b){var A,v=this.clone(),m=h,E=0|m.words[m.length-1];0!=(A=26-this._countBits(E))&&(m=m.ushln(A),v.iushln(A),E=0|m.words[m.length-1]);var $,H=v.length-m.length;if("mod"!==b){($=new a(null)).length=H+1,$.words=Array($.length);for(var ce=0;ce<$.length;ce++)$.words[ce]=0}var F=v.clone()._ishlnsubmul(m,1,H);0===F.negative&&(v=F,$&&($.words[H]=1));for(var se=H-1;se>=0;se--){var le=67108864*(0|v.words[m.length+se])+(0|v.words[m.length+se-1]);for(le=Math.min(le/E|0,67108863),v._ishlnsubmul(m,le,se);0!==v.negative;)le--,v.negative=0,v._ishlnsubmul(m,1,se),v.isZero()||(v.negative^=1);$&&($.words[se]=le)}return $&&$.strip(),v.strip(),"div"!==b&&0!==A&&v.iushrn(A),{div:$||null,mod:v}},a.prototype.divmod=function(h,b,A){return n(!h.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===h.negative?(E=this.neg().divmod(h,b),"mod"!==b&&(v=E.div.neg()),"div"!==b&&(m=E.mod.neg(),A&&0!==m.negative&&m.iadd(h)),{div:v,mod:m}):0===this.negative&&0!==h.negative?(E=this.divmod(h.neg(),b),"mod"!==b&&(v=E.div.neg()),{div:v,mod:E.mod}):0!=(this.negative&h.negative)?(E=this.neg().divmod(h.neg(),b),"div"!==b&&(m=E.mod.neg(),A&&0!==m.negative&&m.isub(h)),{div:E.div,mod:m}):h.length>this.length||this.cmp(h)<0?{div:new a(0),mod:this}:1===h.length?"div"===b?{div:this.divn(h.words[0]),mod:null}:"mod"===b?{div:null,mod:new a(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new a(this.modn(h.words[0]))}:this._wordDiv(h,b);var v,m,E},a.prototype.div=function(h){return this.divmod(h,"div",!1).div},a.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},a.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},a.prototype.divRound=function(h){var b=this.divmod(h);if(b.mod.isZero())return b.div;var A=0!==b.div.negative?b.mod.isub(h):b.mod,v=h.ushrn(1),m=h.andln(1),E=A.cmp(v);return E<0||1===m&&0===E?b.div:0!==b.div.negative?b.div.isubn(1):b.div.iaddn(1)},a.prototype.modn=function(h){n(h<=67108863);for(var b=(1<<26)%h,A=0,v=this.length-1;v>=0;v--)A=(b*A+(0|this.words[v]))%h;return A},a.prototype.idivn=function(h){n(h<=67108863);for(var b=0,A=this.length-1;A>=0;A--){var v=(0|this.words[A])+67108864*b;this.words[A]=v/h|0,b=v%h}return this.strip()},a.prototype.divn=function(h){return this.clone().idivn(h)},a.prototype.egcd=function(h){n(0===h.negative),n(!h.isZero());var b=this,A=h.clone();b=0!==b.negative?b.umod(h):b.clone();for(var v=new a(1),m=new a(0),E=new a(0),$=new a(1),H=0;b.isEven()&&A.isEven();)b.iushrn(1),A.iushrn(1),++H;for(var ce=A.clone(),F=b.clone();!b.isZero();){for(var se=0,le=1;0==(b.words[0]&le)&&se<26;++se,le<<=1);if(se>0)for(b.iushrn(se);se-- >0;)(v.isOdd()||m.isOdd())&&(v.iadd(ce),m.isub(F)),v.iushrn(1),m.iushrn(1);for(var fe=0,de=1;0==(A.words[0]&de)&&fe<26;++fe,de<<=1);if(fe>0)for(A.iushrn(fe);fe-- >0;)(E.isOdd()||$.isOdd())&&(E.iadd(ce),$.isub(F)),E.iushrn(1),$.iushrn(1);b.cmp(A)>=0?(b.isub(A),v.isub(E),m.isub($)):(A.isub(b),E.isub(v),$.isub(m))}return{a:E,b:$,gcd:A.iushln(H)}},a.prototype._invmp=function(h){n(0===h.negative),n(!h.isZero());var b=this,A=h.clone();b=0!==b.negative?b.umod(h):b.clone();for(var v,m=new a(1),E=new a(0),$=A.clone();b.cmpn(1)>0&&A.cmpn(1)>0;){for(var H=0,ce=1;0==(b.words[0]&ce)&&H<26;++H,ce<<=1);if(H>0)for(b.iushrn(H);H-- >0;)m.isOdd()&&m.iadd($),m.iushrn(1);for(var F=0,se=1;0==(A.words[0]&se)&&F<26;++F,se<<=1);if(F>0)for(A.iushrn(F);F-- >0;)E.isOdd()&&E.iadd($),E.iushrn(1);b.cmp(A)>=0?(b.isub(A),m.isub(E)):(A.isub(b),E.isub(m))}return(v=0===b.cmpn(1)?m:E).cmpn(0)<0&&v.iadd(h),v},a.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var b=this.clone(),A=h.clone();b.negative=0,A.negative=0;for(var v=0;b.isEven()&&A.isEven();v++)b.iushrn(1),A.iushrn(1);for(;;){for(;b.isEven();)b.iushrn(1);for(;A.isEven();)A.iushrn(1);var m=b.cmp(A);if(m<0){var E=b;b=A,A=E}else if(0===m||0===A.cmpn(1))break;b.isub(A)}return A.iushln(v)},a.prototype.invm=function(h){return this.egcd(h).a.umod(h)},a.prototype.isEven=function(){return 0==(1&this.words[0])},a.prototype.isOdd=function(){return 1==(1&this.words[0])},a.prototype.andln=function(h){return this.words[0]&h},a.prototype.bincn=function(h){n("number"==typeof h);var b=h%26,A=(h-b)/26,v=1<<b;if(this.length<=A)return this._expand(A+1),this.words[A]|=v,this;for(var m=v,E=A;0!==m&&E<this.length;E++){var $=0|this.words[E];m=($+=m)>>>26,this.words[E]=$&=67108863}return 0!==m&&(this.words[E]=m,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(h){var b,A=h<0;if(0!==this.negative&&!A)return-1;if(0===this.negative&&A)return 1;if(this.strip(),this.length>1)b=1;else{A&&(h=-h),n(h<=67108863,"Number is too big");var v=0|this.words[0];b=v===h?0:v<h?-1:1}return 0!==this.negative?0|-b:b},a.prototype.cmp=function(h){if(0!==this.negative&&0===h.negative)return-1;if(0===this.negative&&0!==h.negative)return 1;var b=this.ucmp(h);return 0!==this.negative?0|-b:b},a.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var b=0,A=this.length-1;A>=0;A--){var v=0|this.words[A],m=0|h.words[A];if(v!==m){v<m?b=-1:v>m&&(b=1);break}}return b},a.prototype.gtn=function(h){return 1===this.cmpn(h)},a.prototype.gt=function(h){return 1===this.cmp(h)},a.prototype.gten=function(h){return this.cmpn(h)>=0},a.prototype.gte=function(h){return this.cmp(h)>=0},a.prototype.ltn=function(h){return-1===this.cmpn(h)},a.prototype.lt=function(h){return-1===this.cmp(h)},a.prototype.lten=function(h){return this.cmpn(h)<=0},a.prototype.lte=function(h){return this.cmp(h)<=0},a.prototype.eqn=function(h){return 0===this.cmpn(h)},a.prototype.eq=function(h){return 0===this.cmp(h)},a.red=function(h){return new X(h)},a.prototype.toRed=function(h){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),h.convertTo(this)._forceRed(h)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(h){return this.red=h,this},a.prototype.forceRed=function(h){return n(!this.red,"Already a number in reduction context"),this._forceRed(h)},a.prototype.redAdd=function(h){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},a.prototype.redIAdd=function(h){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},a.prototype.redSub=function(h){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},a.prototype.redISub=function(h){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},a.prototype.redShl=function(h){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},a.prototype.redMul=function(h){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},a.prototype.redIMul=function(h){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(h){return n(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var T={k256:null,p224:null,p192:null,p25519:null};function Y(h,b){this.name=h,this.p=new a(b,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function J(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function j(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function U(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function ie(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function X(h){if("string"==typeof h){var b=a._prime(h);this.m=b.p,this.prime=b}else n(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}function ee(h){X.call(this,h),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Y.prototype._tmp=function(){var h=new a(null);return h.words=Array(Math.ceil(this.n/13)),h},Y.prototype.ireduce=function(h){var b,A=h;do{this.split(A,this.tmp),b=(A=(A=this.imulK(A)).iadd(this.tmp)).bitLength()}while(b>this.n);var v=b<this.n?-1:A.ucmp(this.p);return 0===v?(A.words[0]=0,A.length=1):v>0?A.isub(this.p):A.strip(),A},Y.prototype.split=function(h,b){h.iushrn(this.n,0,b)},Y.prototype.imulK=function(h){return h.imul(this.k)},i(J,Y),J.prototype.split=function(h,b){for(var A=4194303,v=Math.min(h.length,9),m=0;m<v;m++)b.words[m]=h.words[m];if(b.length=v,h.length<=9)return h.words[0]=0,void(h.length=1);var E=h.words[9];for(b.words[b.length++]=E&A,m=10;m<h.length;m++){var $=0|h.words[m];h.words[m-10]=($&A)<<4|E>>>22,E=$}h.words[m-10]=E>>>=22,h.length-=0===E&&h.length>10?10:9},J.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var b=0,A=0;A<h.length;A++){var v=0|h.words[A];h.words[A]=67108863&(b+=977*v),b=64*v+(b/67108864|0)}return 0===h.words[h.length-1]&&(h.length--,0===h.words[h.length-1]&&h.length--),h},i(j,Y),i(U,Y),i(ie,Y),ie.prototype.imulK=function(h){for(var b=0,A=0;A<h.length;A++){var v=19*(0|h.words[A])+b,m=67108863&v;v>>>=26,h.words[A]=m,b=v}return 0!==b&&(h.words[h.length++]=b),h},a._prime=function(h){if(T[h])return T[h];var b;if("k256"===h)b=new J;else if("p224"===h)b=new j;else if("p192"===h)b=new U;else{if("p25519"!==h)throw Error("Unknown prime "+h);b=new ie}return T[h]=b,b},X.prototype._verify1=function(h){n(0===h.negative,"red works only with positives"),n(h.red,"red works only with red numbers")},X.prototype._verify2=function(h,b){n(0==(h.negative|b.negative),"red works only with positives"),n(h.red&&h.red===b.red,"red works only with red numbers")},X.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},X.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},X.prototype.add=function(h,b){this._verify2(h,b);var A=h.add(b);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},X.prototype.iadd=function(h,b){this._verify2(h,b);var A=h.iadd(b);return A.cmp(this.m)>=0&&A.isub(this.m),A},X.prototype.sub=function(h,b){this._verify2(h,b);var A=h.sub(b);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},X.prototype.isub=function(h,b){this._verify2(h,b);var A=h.isub(b);return A.cmpn(0)<0&&A.iadd(this.m),A},X.prototype.shl=function(h,b){return this._verify1(h),this.imod(h.ushln(b))},X.prototype.imul=function(h,b){return this._verify2(h,b),this.imod(h.imul(b))},X.prototype.mul=function(h,b){return this._verify2(h,b),this.imod(h.mul(b))},X.prototype.isqr=function(h){return this.imul(h,h.clone())},X.prototype.sqr=function(h){return this.mul(h,h)},X.prototype.sqrt=function(h){if(h.isZero())return h.clone();var b=this.m.andln(3);if(n(b%2==1),3===b){var A=this.m.add(new a(1)).iushrn(2);return this.pow(h,A)}for(var v=this.m.subn(1),m=0;!v.isZero()&&0===v.andln(1);)m++,v.iushrn(1);n(!v.isZero());var E=new a(1).toRed(this),$=E.redNeg(),H=this.m.subn(1).iushrn(1),ce=this.m.bitLength();for(ce=new a(2*ce*ce).toRed(this);0!==this.pow(ce,H).cmp($);)ce.redIAdd($);for(var F=this.pow(ce,v),se=this.pow(h,v.addn(1).iushrn(1)),le=this.pow(h,v),fe=m;0!==le.cmp(E);){for(var de=le,pe=0;0!==de.cmp(E);pe++)de=de.redSqr();n(pe<fe);var we=this.pow(F,new a(1).iushln(fe-pe-1));se=se.redMul(we),F=we.redSqr(),le=le.redMul(F),fe=pe}return se},X.prototype.invm=function(h){var b=h._invmp(this.m);return 0!==b.negative?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},X.prototype.pow=function(h,b){if(b.isZero())return new a(1).toRed(this);if(0===b.cmpn(1))return h.clone();var A=Array(16);A[0]=new a(1).toRed(this),A[1]=h;for(var v=2;v<A.length;v++)A[v]=this.mul(A[v-1],h);var m=A[0],E=0,$=0,H=b.bitLength()%26;for(0===H&&(H=26),v=b.length-1;v>=0;v--){for(var ce=b.words[v],F=H-1;F>=0;F--){var se=ce>>F&1;m!==A[0]&&(m=this.sqr(m)),0!==se||0!==E?(E<<=1,E|=se,(4==++$||0===v&&0===F)&&(m=this.mul(m,A[E]),$=0,E=0)):$=0}H=26}return m},X.prototype.convertTo=function(h){var b=h.umod(this.m);return b===h?b.clone():b},X.prototype.convertFrom=function(h){var b=h.clone();return b.red=null,b},a.mont=function(h){return new ee(h)},i(ee,X),ee.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},ee.prototype.convertFrom=function(h){var b=this.imod(h.mul(this.rinv));return b.red=null,b},ee.prototype.imul=function(h,b){if(h.isZero()||b.isZero())return h.words[0]=0,h.length=1,h;var A=h.imul(b),v=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=A.isub(v).iushrn(this.shift),E=m;return m.cmp(this.m)>=0?E=m.isub(this.m):m.cmpn(0)<0&&(E=m.iadd(this.m)),E._forceRed(this)},ee.prototype.mul=function(h,b){if(h.isZero()||b.isZero())return new a(0)._forceRed(this);var A=h.mul(b),v=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=A.isub(v).iushrn(this.shift),E=m;return m.cmp(this.m)>=0?E=m.isub(this.m):m.cmpn(0)<0&&(E=m.iadd(this.m)),E._forceRed(this)},ee.prototype.invm=function(h){return this.imod(h._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,y5)}),ns=Object.freeze({__proto__:null,default:xe,__moduleExports:xe});class is{constructor(e){if(void 0===e)throw Error("Invalid BigInteger input");this.value=new xe(e)}clone(){const e=new is(null);return this.value.copy(e.value),e}iinc(){return this.value.iadd(new xe(1)),this}inc(){return this.clone().iinc()}idec(){return this.value.isub(new xe(1)),this}dec(){return this.clone().idec()}iadd(e){return this.value.iadd(e.value),this}add(e){return this.clone().iadd(e)}isub(e){return this.value.isub(e.value),this}sub(e){return this.clone().isub(e)}imul(e){return this.value.imul(e.value),this}mul(e){return this.clone().imul(e)}imod(e){return this.value=this.value.umod(e.value),this}mod(e){return this.clone().imod(e)}modExp(e,r){const n=r.isEven()?xe.red(r.value):xe.mont(r.value),i=this.clone();return i.value=i.value.toRed(n).redPow(e.value).fromRed(),i}modInv(e){if(!this.gcd(e).isOne())throw Error("Inverse does not exist");return new is(this.value.invm(e.value))}gcd(e){return new is(this.value.gcd(e.value))}ileftShift(e){return this.value.ishln(e.value.toNumber()),this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value.ishrn(e.value.toNumber()),this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value.eq(e.value)}lt(e){return this.value.lt(e.value)}lte(e){return this.value.lte(e.value)}gt(e){return this.value.gt(e.value)}gte(e){return this.value.gte(e.value)}isZero(){return this.value.isZero()}isOne(){return this.value.eq(new xe(1))}isNegative(){return this.value.isNeg()}isEven(){return this.value.isEven()}abs(){const e=this.clone();return e.value=e.value.abs(),e}toString(){return this.value.toString()}toNumber(){return this.value.toNumber()}getBit(e){return this.value.testn(e)?1:0}bitLength(){return this.value.bitLength()}byteLength(){return this.value.byteLength()}toUint8Array(e="be",r){return this.value.toArrayLike(Uint8Array,e,r)}}var p1,j4=Object.freeze({__proto__:null,default:is}),vr=Cr(function(t,e){var r=e;function n(a){return 1===a.length?"0"+a:a}function i(a){for(var s="",o=0;o<a.length;o++)s+=n(a[o].toString(16));return s}r.toArray=function(a,s){if(Array.isArray(a))return a.slice();if(!a)return[];var o=[];if("string"!=typeof a){for(var u=0;u<a.length;u++)o[u]=0|a[u];return o}if("hex"===s)for((a=a.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(a="0"+a),u=0;u<a.length;u+=2)o.push(parseInt(a[u]+a[u+1],16));else for(u=0;u<a.length;u++){var c=a.charCodeAt(u),l=c>>8,d=255&c;l?o.push(l,d):o.push(d)}return o},r.zero2=n,r.toHex=i,r.encode=function(a,s){return"hex"===s?i(a):a}}),tt=Cr(function(t,e){var r=e;r.assert=Mn,r.toArray=vr.toArray,r.zero2=vr.zero2,r.toHex=vr.toHex,r.encode=vr.encode,r.getNAF=function(n,i){for(var a=[],s=1<<i+1,o=n.clone();o.cmpn(1)>=0;){var u;if(o.isOdd()){var c=o.andln(s-1);o.isubn(u=c>(s>>1)-1?(s>>1)-c:c)}else u=0;a.push(u);for(var l=0!==o.cmpn(0)&&0===o.andln(s-1)?i+1:1,d=1;d<l;d++)a.push(0);o.iushrn(l)}return a},r.getJSF=function(n,i){var a=[[],[]];n=n.clone(),i=i.clone();for(var s=0,o=0;n.cmpn(-s)>0||i.cmpn(-o)>0;){var u,c,l,d=n.andln(3)+s&3,y=i.andln(3)+o&3;3===d&&(d=-1),3===y&&(y=-1),u=0==(1&d)?0:3!=(l=n.andln(7)+s&7)&&5!==l||2!==y?d:-d,a[0].push(u),c=0==(1&y)?0:3!=(l=i.andln(7)+o&7)&&5!==l||2!==d?y:-y,a[1].push(c),2*s===u+1&&(s=1-s),2*o===c+1&&(o=1-o),n.iushrn(1),i.iushrn(1)}return a},r.cachedProperty=function(n,i,a){var s="_"+i;n.prototype[i]=function(){return void 0!==this[s]?this[s]:this[s]=a.call(this)}},r.parseBytes=function(n){return"string"==typeof n?r.toArray(n,"hex"):n},r.intFromLE=function(n){return new xe(n,"hex","le")}}),Go=function(t){return p1||(p1=new Hn(null)),p1.generate(t)};function Hn(t){this.rand=t}var L4=Hn;if(Hn.prototype.generate=function(t){return this._rand(t)},Hn.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Hn.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?Hn.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(Hn.prototype._rand=function(){throw Error("Not implemented yet")});else try{if("function"!=typeof(void 0).randomBytes)throw Error("Not supported");Hn.prototype._rand=function(t){return(void 0).randomBytes(t)}}catch(t){}Go.Rand=L4;var Zo=tt.getNAF,G4=tt.getJSF,Ho=tt.assert;function Wn(t,e){this.type=t,this.p=new xe(e.p,16),this.red=e.prime?xe.red(e.prime):xe.mont(this.p),this.zero=new xe(0).toRed(this.red),this.one=new xe(1).toRed(this.red),this.two=new xe(2).toRed(this.red),this.n=e.n&&new xe(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,];var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var qt=Wn;function or(t,e){this.curve=t,this.type=e,this.precomputed=null}Wn.prototype.point=function(){throw Error("Not implemented")},Wn.prototype.validate=function(){throw Error("Not implemented")},Wn.prototype._fixedNafMul=function(t,e){Ho(t.precomputed);var r=t._getDoubles(),n=Zo(e,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var a=[],s=0;s<n.length;s+=r.step){var o=0;for(e=s+r.step-1;e>=s;e--)o=(o<<1)+n[e];a.push(o)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),l=i;l>0;l--){for(s=0;s<a.length;s++)(o=a[s])===l?c=c.mixedAdd(r.points[s]):o===-l&&(c=c.mixedAdd(r.points[s].neg()));u=u.add(c)}return u.toP()},Wn.prototype._wnafMul=function(t,e){for(var r=4,n=t._getNAFPoints(r),i=n.points,a=Zo(e,r=n.wnd),s=this.jpoint(null,null,null),o=a.length-1;o>=0;o--){for(e=0;o>=0&&0===a[o];o--)e++;if(o>=0&&e++,s=s.dblp(e),o<0)break;var u=a[o];Ho(0!==u),s="affine"===t.type?s.mixedAdd(u>0?i[u-1>>1]:i[-u-1>>1].neg()):s.add(u>0?i[u-1>>1]:i[-u-1>>1].neg())}return"affine"===t.type?s.toP():s},Wn.prototype._wnafMulAdd=function(t,e,r,n,i){for(var a=this._wnafT1,s=this._wnafT2,o=this._wnafT3,u=0,c=0;c<n;c++){var l=(ee=e[c])._getNAFPoints(t);a[c]=l.wnd,s[c]=l.points}for(c=n-1;c>=1;c-=2){var d=c-1,y=c;if(1===a[d]&&1===a[y]){var g=[e[d],null,null,e[y]];0===e[d].y.cmp(e[y].y)?(g[1]=e[d].add(e[y]),g[2]=e[d].toJ().mixedAdd(e[y].neg())):0===e[d].y.cmp(e[y].y.redNeg())?(g[1]=e[d].toJ().mixedAdd(e[y]),g[2]=e[d].add(e[y].neg())):(g[1]=e[d].toJ().mixedAdd(e[y]),g[2]=e[d].toJ().mixedAdd(e[y].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],D=G4(r[d],r[y]);u=Math.max(D[0].length,u),o[d]=Array(u),o[y]=Array(u);for(var T=0;T<u;T++)o[d][T]=k[3*(1+(0|D[0][T]))+(1+(0|D[1][T]))],o[y][T]=0,s[d]=g}else o[d]=Zo(r[d],a[d]),o[y]=Zo(r[y],a[y]),u=Math.max(o[d].length,u),u=Math.max(o[y].length,u)}var j=this.jpoint(null,null,null),U=this._wnafT4;for(c=u;c>=0;c--){for(var ie=0;c>=0;){var X=!0;for(T=0;T<n;T++)U[T]=0|o[T][c],0!==U[T]&&(X=!1);if(!X)break;ie++,c--}if(c>=0&&ie++,j=j.dblp(ie),c<0)break;for(T=0;T<n;T++){var ee,h=U[T];0!==h&&(h>0?ee=s[T][h-1>>1]:h<0&&(ee=s[T][-h-1>>1].neg()),j="affine"===ee.type?j.mixedAdd(ee):j.add(ee))}}for(c=0;c<n;c++)s[c]=null;return i?j:j.toP()},Wn.BasePoint=or,or.prototype.eq=function(){throw Error("Not implemented")},or.prototype.validate=function(){return this.curve.validate(this)},Wn.prototype.decodePoint=function(t,e){t=tt.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?Ho(t[t.length-1]%2==0):7===t[0]&&Ho(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw Error("Unknown point format")},or.prototype.encodeCompressed=function(t){return this.encode(t,!0)},or.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},or.prototype.encode=function(t,e){return tt.encode(this._encode(e),t)},or.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},or.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},or.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var a=0;a<t;a++)n=n.dbl();r.push(n)}return{step:t,points:r}},or.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},or.prototype._getBeta=function(){return null},or.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var Z4=tt.assert;function cr(t){qt.call(this,"short",t),this.a=new xe(t.a,16).toRed(this.red),this.b=new xe(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}Pn(cr,qt);var H4=cr;function wt(t,e,r,n){qt.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new xe(e,16),this.y=new xe(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Ct(t,e,r,n){qt.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new xe(0)):(this.x=new xe(e,16),this.y=new xe(r,16),this.z=new xe(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}function Xi(t){qt.call(this,"mont",t),this.a=new xe(t.a,16).toRed(this.red),this.b=new xe(t.b,16).toRed(this.red),this.i4=new xe(4).toRed(this.red).redInvm(),this.two=new xe(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}cr.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new xe(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new xe(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:Z4(0===this.g.mul(r=i[1]).x.cmp(this.g.x.redMul(e)))}return{beta:e,lambda:r,basis:t.basis?t.basis.map(function(a){return{a:new xe(a.a,16),b:new xe(a.b,16)}}):this._getEndoBasis(r)}}},cr.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:xe.mont(t),r=new xe(2).toRed(e).redInvm(),n=r.redNeg(),i=new xe(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},cr.prototype._getEndoBasis=function(t){for(var e,r,n,i,a,s,o,u,c,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=t,y=this.n.clone(),g=new xe(1),k=new xe(0),D=new xe(0),T=new xe(1),Y=0;0!==d.cmpn(0);){var J=y.div(d);u=y.sub(J.mul(d)),c=D.sub(J.mul(g));var j=T.sub(J.mul(k));if(!n&&u.cmp(l)<0)e=o.neg(),r=g,n=u.neg(),i=c;else if(n&&2==++Y)break;o=u,y=d,d=u,D=g,g=c,T=k,k=j}a=u.neg(),s=c;var U=n.sqr().add(i.sqr());return a.sqr().add(s.sqr()).cmp(U)>=0&&(a=e,s=r),n.negative&&(n=n.neg(),i=i.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:n,b:i},{a,b:s}]},cr.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),a=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),o=a.mul(n.a),u=i.mul(r.b),c=a.mul(n.b);return{k1:t.sub(s).sub(o),k2:u.add(c).neg()}},cr.prototype.pointFromX=function(t,e){(t=new xe(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},cr.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},cr.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,a=0;a<t.length;a++){var s=this._endoSplit(e[a]),o=t[a],u=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*a]=o,n[2*a+1]=u,i[2*a]=s.k1,i[2*a+1]=s.k2}for(var c=this._wnafMulAdd(1,n,i,2*a,r),l=0;l<2*a;l++)n[l]=null,i[l]=null;return c},Pn(wt,qt.BasePoint),cr.prototype.point=function(t,e,r){return new wt(this,t,e,r)},cr.prototype.pointFromJSON=function(t,e){return wt.fromJSON(this,t,e)},wt.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(i){return r.point(i.x.redMul(r.endo.beta),i.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},wt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},wt.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(s){return t.point(s[0],s[1],r)}var a=e[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(i))}},n},wt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},wt.prototype.isInfinity=function(){return this.inf},wt.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},wt.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),a=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)},wt.prototype.getX=function(){return this.x.fromRed()},wt.prototype.getY=function(){return this.y.fromRed()},wt.prototype.mul=function(t){return t=new xe(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},wt.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},wt.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},wt.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},wt.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(i){return i.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},wt.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Pn(Ct,qt.BasePoint),cr.prototype.jpoint=function(t,e,r){return new Ct(this,t,e,r)},Ct.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},Ct.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Ct.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),a=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),o=n.redSub(i),u=a.redSub(s);if(0===o.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),l=c.redMul(o),d=n.redMul(c),y=u.redSqr().redIAdd(l).redISub(d).redISub(d),g=u.redMul(d.redISub(y)).redISub(a.redMul(l)),k=this.z.redMul(t.z).redMul(o);return this.curve.jpoint(y,g,k)},Ct.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,a=t.y.redMul(e).redMul(this.z),s=r.redSub(n),o=i.redSub(a);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),c=u.redMul(s),l=r.redMul(u),d=o.redSqr().redIAdd(c).redISub(l).redISub(l),y=o.redMul(l.redISub(d)).redISub(i.redMul(c)),g=this.z.redMul(s);return this.curve.jpoint(d,y,g)},Ct.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}var n=this.curve.a,i=this.curve.tinv,a=this.x,s=this.y,o=this.z,u=o.redSqr().redSqr(),c=s.redAdd(s);for(r=0;r<t;r++){var l=a.redSqr(),d=c.redSqr(),y=d.redSqr(),g=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),k=a.redMul(d),D=g.redSqr().redISub(k.redAdd(k)),T=k.redISub(D),Y=g.redMul(T);Y=Y.redIAdd(Y).redISub(y);var J=c.redMul(o);r+1<t&&(u=u.redMul(y)),a=D,o=J,c=Y}return this.curve.jpoint(a,c.redMul(i),o)},Ct.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Ct.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(a);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n),u=o.redSqr().redISub(s).redISub(s),c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),t=u,e=o.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),d=this.y.redSqr(),y=d.redSqr(),g=this.x.redAdd(d).redSqr().redISub(l).redISub(y);g=g.redIAdd(g);var k=l.redAdd(l).redIAdd(l),D=k.redSqr(),T=y.redIAdd(y);T=(T=T.redIAdd(T)).redIAdd(T),t=D.redISub(g).redISub(g),e=k.redMul(g.redISub(t)).redISub(T),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},Ct.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(a);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=o.redSqr().redISub(s).redISub(s);t=u;var c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),e=o.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),d=this.y.redSqr(),y=this.x.redMul(d),g=this.x.redSub(l).redMul(this.x.redAdd(l));g=g.redAdd(g).redIAdd(g);var k=y.redIAdd(y),D=(k=k.redIAdd(k)).redAdd(k);t=g.redSqr().redISub(D),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(l);var T=d.redSqr();T=(T=(T=T.redIAdd(T)).redIAdd(T)).redIAdd(T),e=g.redMul(k.redISub(t)).redISub(T)}return this.curve.jpoint(t,e,r)},Ct.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),a=e.redSqr(),s=r.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(t.redMul(i)),u=e.redAdd(e),c=(u=u.redIAdd(u)).redMul(s),l=o.redSqr().redISub(c.redAdd(c)),d=c.redISub(l),y=s.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y);var g=o.redMul(d).redISub(y),k=r.redAdd(r).redMul(n);return this.curve.jpoint(l,g,k)},Ct.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),a=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),o=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(a)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(s).redSqr().redISub(a).redISub(o).redISub(u),l=e.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var d=this.x.redMul(o).redISub(l);d=(d=d.redIAdd(d)).redIAdd(d);var y=this.y.redMul(c.redMul(u.redISub(c)).redISub(s.redMul(o)));y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y);var g=this.z.redAdd(s).redSqr().redISub(r).redISub(o);return this.curve.jpoint(d,y,g)},Ct.prototype.mul=function(t,e){return t=new xe(t,e),this.curve._wnafMul(this,t)},Ct.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},Ct.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Ct.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Ct.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Pn(Xi,qt);var W4=Xi;function At(t,e,r){qt.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new xe(e,16),this.z=new xe(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Xi.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},Pn(At,qt.BasePoint),Xi.prototype.decodePoint=function(t,e){if(33===(t=tt.toArray(t,e)).length&&64===t[0]&&(t=t.slice(1,33).reverse()),32!==t.length)throw Error("Unknown point compression format");return this.point(t,1)},Xi.prototype.point=function(t,e){return new At(this,t,e)},Xi.prototype.pointFromJSON=function(t){return At.fromJSON(this,t)},At.prototype.precompute=function(){},At.prototype._encode=function(t){var e=this.curve.p.byteLength();return t?[64].concat(this.getX().toArray("le",e)):this.getX().toArray("be",e)},At.fromJSON=function(t,e){return new At(t,e[0],e[1]||t.one)},At.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},At.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},At.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},At.prototype.add=function(){throw Error("Not supported on Montgomery curve")},At.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),a=t.x.redSub(t.z).redMul(r),s=i.redMul(n),o=e.z.redMul(a.redAdd(s).redSqr()),u=e.x.redMul(a.redISub(s).redSqr());return this.curve.point(o,u)},At.prototype.mul=function(t){for(var e=(t=new xe(t,16)).clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var a=i.length-1;a>=0;a--)0===i[a]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},At.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},At.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},At.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},At.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},At.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var $4=tt.assert;function Gr(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,qt.call(this,"edwards",t),this.a=new xe(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new xe(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new xe(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),$4(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}Pn(Gr,qt);var Y4=Gr;function it(t,e,r,n,i){qt.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new xe(e,16),this.y=new xe(r,16),this.z=n?new xe(n,16):this.curve.one,this.t=i&&new xe(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Gr.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},Gr.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},Gr.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},Gr.prototype.pointFromX=function(t,e){(t=new xe(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(i.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw Error("invalid point");var o=s.fromRed().isOdd();return(e&&!o||!e&&o)&&(s=s.redNeg()),this.point(t,s)},Gr.prototype.pointFromY=function(t,e){(t=new xe(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(i.redInvm());if(0===a.cmp(this.zero)){if(e)throw Error("invalid point");return this.point(this.zero,t)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw Error("invalid point");return s.fromRed().isOdd()!==e&&(s=s.redNeg()),this.point(s,t)},Gr.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},Pn(it,qt.BasePoint),Gr.prototype.pointFromJSON=function(t){return it.fromJSON(this,t)},Gr.prototype.point=function(t,e,r,n){return new it(this,t,e,r,n)},it.fromJSON=function(t,e){return new it(t,e[0],e[1],e[2])},it.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},it.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},it.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),a=n.redAdd(e),s=a.redSub(r),o=n.redSub(e),u=i.redMul(s),c=a.redMul(o),l=i.redMul(o),d=s.redMul(a);return this.curve.point(u,c,d,l)},it.prototype._projDbl=function(){var t,e,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),a=this.y.redSqr();if(this.curve.twisted){var s=(c=this.curve._mulA(i)).redAdd(a);if(this.zOne)t=n.redSub(i).redSub(a).redMul(s.redSub(this.curve.two)),e=s.redMul(c.redSub(a)),r=s.redSqr().redSub(s).redSub(s);else{var o=this.z.redSqr(),u=s.redSub(o).redISub(o);t=n.redSub(i).redISub(a).redMul(u),e=s.redMul(c.redSub(a)),r=s.redMul(u)}}else{var c=i.redAdd(a);o=this.curve._mulC(this.z).redSqr(),u=c.redSub(o).redSub(o),t=this.curve._mulC(n.redISub(c)).redMul(u),e=this.curve._mulC(c).redMul(i.redISub(a)),r=c.redMul(u)}return this.curve.point(t,e,r)},it.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},it.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),a=r.redSub(e),s=i.redSub(n),o=i.redAdd(n),u=r.redAdd(e),c=a.redMul(s),l=o.redMul(u),d=a.redMul(u),y=s.redMul(o);return this.curve.point(c,l,y,d)},it.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),a=this.x.redMul(t.x),s=this.y.redMul(t.y),o=this.curve.d.redMul(a).redMul(s),u=i.redSub(o),c=i.redAdd(o),l=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(a).redISub(s),d=n.redMul(u).redMul(l);return this.curve.twisted?(e=n.redMul(c).redMul(s.redSub(this.curve._mulA(a))),r=u.redMul(c)):(e=n.redMul(c).redMul(s.redSub(a)),r=this.curve._mulC(u).redMul(c)),this.curve.point(d,e,r)},it.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},it.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},it.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},it.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},it.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},it.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},it.prototype.getX=function(){return this.normalize(),this.x.fromRed()},it.prototype.getY=function(){return this.normalize(),this.y.fromRed()},it.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},it.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}},it.prototype.toP=it.prototype.normalize,it.prototype.mixedAdd=it.prototype.add;var Wo=Cr(function(t,e){var r=e;r.base=qt,r.short=H4,r.mont=W4,r.edwards=Y4}),y1=Ne.rotl32,as=Ne.sum32,J4=Ne.sum32_5,Q4=function(t,e,r,n){return 0===t?gd(e,r,n):1===t||3===t?function(t,e,r){return t^e^r}(e,r,n):2===t?md(e,r,n):void 0},kf=Aa.BlockHash,X4=[1518500249,1859775393,2400959708,3395469782];function Zr(){if(!(this instanceof Zr))return new Zr;kf.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}Ne.inherits(Zr,kf);var ep=Zr;Zr.blockSize=512,Zr.outSize=160,Zr.hmacStrength=80,Zr.padLength=64,Zr.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=y1(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),l=J4(y1(i,5),Q4(c,a,s,o),u,r[n],X4[c]);u=o,o=s,s=y1(a,30),a=i,i=l}this.h[0]=as(this.h[0],i),this.h[1]=as(this.h[1],a),this.h[2]=as(this.h[2],s),this.h[3]=as(this.h[3],o),this.h[4]=as(this.h[4],u)},Zr.prototype._digest=function(t){return"hex"===t?Ne.toHex32(this.h,"big"):Ne.split32(this.h,"big")};var tp={sha1:ep,sha224:_d,sha256:Lc,sha384:Sd,sha512:ka};function ea(t,e,r){if(!(this instanceof ea))return new ea(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Ne.toArray(e,r))}var rp=ea;ea.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),Mn(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},ea.prototype.update=function(t,e){return this.inner.update(t,e),this},ea.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};var rr=Cr(function(t,e){var r=e;r.utils=Ne,r.common=Aa,r.sha=tp,r.ripemd=$5,r.hmac=rp,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160}),np={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}},ss=Cr(function(t,e){var r,n=e,i=tt.assert;function a(o){if("short"===o.type)this.curve=new Wo.short(o);else if("edwards"===o.type)this.curve=new Wo.edwards(o);else{if("mont"!==o.type)throw Error("Unknown curve type.");this.curve=new Wo.mont(o)}this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, n*G != O")}function s(o,u){Object.defineProperty(n,o,{configurable:!0,enumerable:!0,get:function(){var c=new a(u);return Object.defineProperty(n,o,{configurable:!0,enumerable:!0,value:c}),c}})}n.PresetCurve=a,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:rr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:rr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:rr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:rr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:rr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:rr.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:rr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]}),s("brainpoolP256r1",{type:"short",prime:null,p:"A9FB57DB A1EEA9BC 3E660A90 9D838D72 6E3BF623 D5262028 2013481D 1F6E5377",a:"7D5A0975 FC2C3057 EEF67530 417AFFE7 FB8055C1 26DC5C6C E94A4B44 F330B5D9",b:"26DC5C6C E94A4B44 F330B5D9 BBD77CBF 95841629 5CF7E1CE 6BCCDC18 FF8C07B6",n:"A9FB57DB A1EEA9BC 3E660A90 9D838D71 8C397AA3 B561A6F7 901E0E82 974856A7",hash:rr.sha256,gRed:!1,g:["8BD2AEB9CB7E57CB2C4B482FFC81B7AFB9DE27E1E3BD23C23A4453BD9ACE3262","547EF835C3DAC4FD97F8461A14611DC9C27745132DED8E545C1D54C72F046997"]}),s("brainpoolP384r1",{type:"short",prime:null,p:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B4 12B1DA19 7FB71123ACD3A729 901D1A71 87470013 3107EC53",a:"7BC382C6 3D8C150C 3C72080A CE05AFA0 C2BEA28E 4FB22787 139165EF BA91F90F8AA5814A 503AD4EB 04A8C7DD 22CE2826",b:"04A8C7DD 22CE2826 8B39B554 16F0447C 2FB77DE1 07DCD2A6 2E880EA5 3EEB62D57CB43902 95DBC994 3AB78696 FA504C11",n:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B3 1F166E6C AC0425A7CF3AB6AF 6B7FC310 3B883202 E9046565",hash:rr.sha384,gRed:!1,g:["1D1C64F068CF45FFA2A63A81B7C13F6B8847A3E77EF14FE3DB7FCAFE0CBD10E8E826E03436D646AAEF87B2E247D4AF1E","8ABE1D7520F9C2A45CB1EB8E95CFD55262B70B29FEEC5864E19C054FF99129280E4646217791811142820341263C5315"]}),s("brainpoolP512r1",{type:"short",prime:null,p:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 703308717D4D9B00 9BC66842 AECDA12A E6A380E6 2881FF2F 2D82C685 28AA6056 583A48F3",a:"7830A331 8B603B89 E2327145 AC234CC5 94CBDD8D 3DF91610 A83441CA EA9863BC2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A7 2BF2C7B9 E7C1AC4D 77FC94CA",b:"3DF91610 A83441CA EA9863BC 2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A72BF2C7B9 E7C1AC4D 77FC94CA DC083E67 984050B7 5EBAE5DD 2809BD63 8016F723",n:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 70330870553E5C41 4CA92619 41866119 7FAC1047 1DB1D381 085DDADD B5879682 9CA90069",hash:rr.sha512,gRed:!1,g:["81AEE4BDD82ED9645A21322E9C4C6A9385ED9F70B5D916C1B43B62EEF4D0098EFF3B1F78E2D0D48D50D1687B93B97D5F7C6D5047406A5E688B352209BCB9F822","7DDE385D566332ECC0EABFA9CF7822FDF209F70024A57B1AA000C55B881F8111B2DCDE494A5F485E5BCA4BD88A2763AED1CA2B2FA8F0540678CD1E0F3AD80892"]});try{r=np}catch(o){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:rr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})});function $n(t){if(!(this instanceof $n))return new $n(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=vr.toArray(t.entropy,t.entropyEnc||"hex"),r=vr.toArray(t.nonce,t.nonceEnc||"hex"),n=vr.toArray(t.pers,t.persEnc||"hex");Mn(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var g1=$n;$n.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},$n.prototype._hmac=function(){return new rr.hmac(this.hash,this.K)},$n.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},$n.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=vr.toArray(t,e),r=vr.toArray(r,n),Mn(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},$n.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=vr.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,t);return this._update(r),this._reseed++,vr.encode(a,e)};var Sf=tt.assert;function Ut(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var m1=Ut;Ut.fromPublic=function(t,e,r){return e instanceof Ut?e:new Ut(t,{pub:e,pubEnc:r})},Ut.fromPrivate=function(t,e,r){return e instanceof Ut?e:new Ut(t,{priv:e,privEnc:r})},Ut.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Ut.prototype.getPublic=function(t,e){return this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Ut.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},Ut.prototype._importPrivate=function(t,e){if(this.priv=new xe(t,e||16),"mont"===this.ec.curve.type){var r=this.ec.curve.one,n=r.ushln(252).sub(r).ushln(3);this.priv=this.priv.or(r.ushln(254)),this.priv=this.priv.and(n)}else this.priv=this.priv.umod(this.ec.curve.n)},Ut.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?Sf(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Sf(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},Ut.prototype.derive=function(t){return t.mul(this.priv).getX()},Ut.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},Ut.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},Ut.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var ip=tt.assert;function $o(t,e){if(t instanceof $o)return t;this._importDER(t,e)||(ip(t.r&&t.s,"Signature without r or s"),this.r=new xe(t.r,16),this.s=new xe(t.s,16),this.recoveryParam=void 0===t.recoveryParam?null:t.recoveryParam)}var Yo=$o;function ap(){this.place=0}function b1(t,e){var r=t[e.place++];if(!(128&r))return r;for(var n=15&r,i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s];return e.place=s,i}function xf(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function v1(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}$o.prototype._importDER=function(t,e){t=tt.toArray(t,e);var r=new ap;if(48!==t[r.place++]||b1(t,r)+r.place!==t.length||2!==t[r.place++])return!1;var n=b1(t,r),i=t.slice(r.place,n+r.place);if(r.place+=n,2!==t[r.place++])return!1;var a=b1(t,r);if(t.length!==a+r.place)return!1;var s=t.slice(r.place,a+r.place);return 0===i[0]&&128&i[1]&&(i=i.slice(1)),0===s[0]&&128&s[1]&&(s=s.slice(1)),this.r=new xe(i),this.s=new xe(s),this.recoveryParam=null,!0},$o.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=xf(e),r=xf(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];v1(n,e.length),(n=n.concat(e)).push(2),v1(n,r.length);var i=n.concat(r),a=[48];return v1(a,i.length),a=a.concat(i),tt.encode(a,t)};var Ef=tt.assert;function Jt(t){if(!(this instanceof Jt))return new Jt(t);"string"==typeof t&&(Ef(ss.hasOwnProperty(t),"Unknown curve "+t),t=ss[t]),t instanceof ss.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var sp=Jt;Jt.prototype.keyPair=function(t){return new m1(this,t)},Jt.prototype.keyFromPrivate=function(t,e){return m1.fromPrivate(this,t,e)},Jt.prototype.keyFromPublic=function(t,e){return m1.fromPublic(this,t,e)},Jt.prototype.genKeyPair=function(t){t||(t={});var e=new g1({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Go(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()});if("mont"===this.curve.type){var r=new xe(e.generate(32));return this.keyFromPrivate(r)}for(var n=this.n.byteLength(),i=this.n.sub(new xe(2));;)if(!((r=new xe(e.generate(n))).cmp(i)>0))return r.iaddn(1),this.keyFromPrivate(r)},Jt.prototype._truncateToN=function(t,e,r){var n=(r=r||8*t.byteLength())-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Jt.prototype.truncateMsg=function(t){var e;return t instanceof Uint8Array?(e=8*t.byteLength,t=this._truncateToN(new xe(t,16),!1,e)):"string"==typeof t?(e=4*t.length,t=this._truncateToN(new xe(t,16),!1,e)):t=this._truncateToN(new xe(t,16)),t},Jt.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this.truncateMsg(t);for(var i=this.n.byteLength(),a=e.getPrivate().toArray("be",i),s=t.toArray("be",i),o=new g1({hash:this.hash,entropy:a,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new xe(1)),c=0;;c++){var l=n.k?n.k(c):new xe(o.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(u)>=0)){var d=this.g.mul(l);if(!d.isInfinity()){var y=d.getX(),g=y.umod(this.n);if(0!==g.cmpn(0)){var k=l.invm(this.n).mul(g.mul(e.getPrivate()).iadd(t));if(0!==(k=k.umod(this.n)).cmpn(0)){var D=(d.getY().isOdd()?1:0)|(0!==y.cmp(g)?2:0);return n.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),D^=1),new Yo({r:g,s:k,recoveryParam:D})}}}}}},Jt.prototype.verify=function(t,e,r,n){return r=this.keyFromPublic(r,n),e=new Yo(e,"hex"),this._verify(this.truncateMsg(t),e,r)||this._verify(this._truncateToN(new xe(t,16)),e,r)},Jt.prototype._verify=function(t,e,r){var n=e.r,i=e.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;var a,s=i.invm(this.n),o=s.mul(t).umod(this.n),u=s.mul(n).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(o,r.getPublic(),u)).isInfinity()&&a.eqXToP(n):!(a=this.g.mulAdd(o,r.getPublic(),u)).isInfinity()&&0===a.getX().umod(this.n).cmp(n)},Jt.prototype.recoverPubKey=function(t,e,r,n){Ef((3&r)===r,"The recovery param is more than two bits"),e=new Yo(e,n);var i=this.n,a=new xe(t),s=e.r,o=e.s,u=1&r,c=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw Error("Unable to find sencond key candinate");s=this.curve.pointFromX(c?s.add(this.curve.n):s,u);var l=e.r.invm(i),d=i.sub(a).mul(l).umod(i),y=o.mul(l).umod(i);return this.g.mulAdd(d,s,y)},Jt.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new Yo(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch(s){continue}if(a.eq(r))return i}throw Error("Unable to find valid recovery factor")};var Cf=tt.assert,Mf=tt.parseBytes,ta=tt.cachedProperty;function kt(t,e){if(this.eddsa=t,e.hasOwnProperty("secret")&&(this._secret=Mf(e.secret)),t.isPoint(e.pub))this._pub=e.pub;else if(this._pubBytes=Mf(e.pub),this._pubBytes&&33===this._pubBytes.length&&64===this._pubBytes[0]&&(this._pubBytes=this._pubBytes.slice(1,33)),this._pubBytes&&32!==this._pubBytes.length)throw Error("Unknown point compression format")}kt.fromPublic=function(t,e){return e instanceof kt?e:new kt(t,{pub:e})},kt.fromSecret=function(t,e){return e instanceof kt?e:new kt(t,{secret:e})},kt.prototype.secret=function(){return this._secret},ta(kt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),ta(kt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),ta(kt,"privBytes",function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),ta(kt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),ta(kt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),ta(kt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),kt.prototype.sign=function(t){return Cf(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},kt.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},kt.prototype.getSecret=function(t){return Cf(this._secret,"KeyPair is public only"),tt.encode(this.secret(),t)},kt.prototype.getPublic=function(t,e){return tt.encode((e?[64]:[]).concat(this.pubBytes()),t)};var _1=kt,op=tt.assert,Jo=tt.cachedProperty,cp=tt.parseBytes;function xi(t,e){this.eddsa=t,"object"!=typeof e&&(e=cp(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),op(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof xe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Jo(xi,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),Jo(xi,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),Jo(xi,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),Jo(xi,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),xi.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},xi.prototype.toHex=function(){return tt.encode(this.toBytes(),"hex").toUpperCase()};var Pf=xi,up=tt.assert,Df=tt.parseBytes;function Rt(t){if(up("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof Rt))return new Rt(t);this.curve=t=ss[t].curve,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=rr.sha512}var lp=Rt;Rt.prototype.sign=function(t,e){t=Df(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),a=this.encodePoint(i),s=this.hashInt(a,r.pubBytes(),t).mul(r.priv()),o=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:o,Rencoded:a})},Rt.prototype.verify=function(t,e,r){t=Df(t),e=this.makeSignature(e);var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),a=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(a)},Rt.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return tt.intFromLE(t.digest()).umod(this.curve.n)},Rt.prototype.keyPair=function(t){return new _1(this,t)},Rt.prototype.keyFromPublic=function(t){return _1.fromPublic(this,t)},Rt.prototype.keyFromSecret=function(t){return _1.fromSecret(this,t)},Rt.prototype.genKeyPair=function(t){t||(t={});var e=new g1({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Go(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.curve.n.toArray()});return this.keyFromSecret(e.generate(32))},Rt.prototype.makeSignature=function(t){return t instanceof Pf?t:new Pf(this,t)},Rt.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},Rt.prototype.decodePoint=function(t){var e=(t=tt.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=0!=(128&t[e]),i=tt.intFromLE(r);return this.curve.pointFromY(i,n)},Rt.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},Rt.prototype.decodeInt=function(t){return tt.intFromLE(t)},Rt.prototype.isPoint=function(t){return t instanceof this.pointClass};var Tf=Cr(function(t,e){var r=e;r.utils=tt,r.rand=Go,r.curve=Wo,r.curves=ss,r.ec=sp,r.eddsa=lp}),dp=Object.freeze({__proto__:null,default:Tf,__moduleExports:Tf}),Qt=Ke(5724),ur=Ke(2997),hp=Ke(9433),os=Ke(2835),w1=Ke(5583),If=Ke(461),fp=Ke(6141),pp=Ke(9947);var ra=Ke(8260),A1=Ke(9952);const k1=(0,He.P1)(zl,t=>t.openpgp),mp=((0,He.P1)(k1,t=>t.loading),(0,He.P1)(k1,t=>t.publicKey)),bp=(0,He.P1)(k1,t=>t.error);let S1=(()=>{class t{constructor(r){this.store=r}getOpenpgpKey(){return this.store.select(mp).pipe((0,Qt.z)(r=>this.isString(r)?(0,ur.of)(r):(this.store.dispatch(Pc()),w1.E)),(0,_s.R)(this.store.select(bp).pipe((0,If.h)(r=>r))),(0,Tl.q)(1))}encrypt(r){return this.getOpenpgpKey().pipe((0,Qt.z)(n=>(0,nr.D)(e0({armoredKey:n}))),(0,A1.M)((0,nr.D)(r2({text:r}))),(0,Qt.z)(([n,i])=>(0,nr.D)(function(t){return b0.apply(this,arguments)}({message:i,encryptionKeys:n}))))}verify(r,n){return this.getOpenpgpKey().pipe((0,Qt.z)(i=>(0,nr.D)(e0({armoredKey:i}))),(0,A1.M)((0,nr.D)(r2({text:r}))),(0,A1.M)((0,nr.D)(function(t){return zu.apply(this,arguments)}({armoredSignature:n}))),(0,Qt.z)(([[i,a],s])=>(0,nr.D)(function(t){return w0.apply(this,arguments)}({message:a,signature:s,verificationKeys:i}))))}isString(r){return"string"==typeof r}}return t.\u0275fac=function(r){return new(r||t)(p.LFG(He.yh))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),t})();var vp=Ke(7384),_p=Ke(4250);class wp{constructor(e,r,n){this.contentType=e,this.boundary=r,this.protectedHeaders=n,this.parts=[],this.headers=[]}toString(){const e=[],r=this.boundary.padStart(50,"-");if(this.protectedHeaders){e.push(`Content-Type: ${this.contentType};boundary=${r};protected-headers="v1"`);for(let n of this.headers)e.push(n)}else e.push(`Content-Type: ${this.contentType};boundary=${r}`);e.push("");for(let n of this.parts)e.push(`--${r}`),e.push(n.toString());return e.push(`--${r}--`),e.join("\n")}}class Ap{constructor(e,r,n,i=!1,a,s){this.contentType=e,this.contentTransferEncoding=r,this.content=n,this.isAttachment=i,this.filename=a,this.name=s}toString(){const e=[];return e.push(`Content-Type: ${this.contentType}`),e.push(`Content-Transfer-Encoding: ${this.contentTransferEncoding}`),this.isAttachment&&e.push(`Content-Disposition: attachment; filename="${this.filename}"; name="${this.name}"`),e.push(""),e.push(this.content),e.join("\n")}}class kp{constructor(e){this.encodingService=e,this.protectedHeaders=!1,this.headers=[],this.parts=[]}setContentType(e){return this.contentType=e,this}setBoundary(e){return this.boundary=e,this}setProtectedHeaders(){return this.protectedHeaders=!0,this}addHeader(e,r){return this.headers.push(`${e}: ${r}`),this}useAutoGeneratedBoundary(){const e=new Uint8Array(20);crypto.getRandomValues(e);const r=this.encodingService.wrap(this.encodingService.base32(e));return this.boundary=r,this}addPart(e){return this.parts.push(e),this}build(){if(!this.contentType)throw new Error("contentType must be set!");if(!this.boundary)throw new Error("boundary must be set!");const e=new wp(this.contentType,this.boundary,this.protectedHeaders);return e.parts=[...this.parts],this.protectedHeaders&&(e.headers=[...this.headers]),e}}class Sp{constructor(e){this.encodingService=e}setContentType(e){return this.contentType=e,this}setContentTransferEncoding(e){return this.contentTransferEncoding=e,this}setContent(e){return this.content=e,this}setPlainTextContent(e){return this.contentType="text/plain;charset=utf-8",this.contentTransferEncoding="quoted-printable",this.content=e,this}setBinaryContent(e){return this.contentTransferEncoding="base64",this.content=this.encodingService.wrap(this.encodingService.base64(e)),this}attachment(){return this.isAttachment=!0,this}setFilename(e){return this.filename=e,this}setName(e){return this.name=e,this}build(){if(!this.contentType)throw new Error("contentType must be set!");if(!this.contentTransferEncoding)throw new Error("contentTransferEncoding must be set!");if(!this.content)throw new Error("content must be set!");if(this.isAttachment&&!this.filename)throw new Error("filename must be set for attachments");if(this.isAttachment&&!this.name)throw new Error("name must be set for attachments");return new Ap(this.contentType,this.contentTransferEncoding,this.content,this.isAttachment,this.filename,this.name)}}var Qo=(()=>(function(t){t.DEFAULT="abcdefghijklmnopqrstuvwxyz234567",t.Z="ybndrfg8ejkmcpqxot1uwisza345h769",t.CROCKFORD="0123456789ABCDEFGHJKMNPQRSTVWXYZ",t.WORD_SAFE="23456789CFGHJMPQRVWXcfghjmpqrvwx"}(Qo||(Qo={})),Qo))(),Xo=(()=>(function(t){t.DEFAULT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"}(Xo||(Xo={})),Xo))();let ec=(()=>{class t{base32(r,n=Qo.DEFAULT){const i=r instanceof ArrayBuffer?new Uint8Array(r):r;let a="";for(let o=0;o<i.length;o+=5)a+=n[i[o]>>3],a+=n[(7&i[o])<<2|i[o+1]>>6],a+=n[(63&i[o+1])>>1],a+=n[(1&i[o+1])<<4|i[o+2]>>4],a+=n[(15&i[o+2])<<1|i[o+3]>>7],a+=n[(127&i[o+3])>>2],a+=n[(3&i[o+3])<<3|i[o+4]>>5],a+=n[31&i[o+4]];const s=(8-Math.ceil(i.length%5/5*8))%8;return a.substring(0,a.length-s)}base64(r,n=Xo.DEFAULT){const i=r instanceof ArrayBuffer?new Uint8Array(r):r;let a="";for(let s=0;s<i.length;s+=3)a+=n[i[s]>>2],a+=n[(3&i[s])<<4|i[s+1]>>4],a+=n[(15&i[s+1])<<2|i[s+2]>>6],a+=n[63&i[s+2]];return i.length%3==2?a=a.substring(0,a.length-1)+"=":i.length%3==1&&(a=a.substring(0,a.length-2)+"=="),a}wrap(r){return r.replace(/(?![^\n]{1,76}$)([^\n]{1,76})/g,"$1\n")}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),t})(),tc=(()=>{class t{readFileContentsAsArrayBuffer(r){return this.readFileContents(r,"arraybuffer")}readFileContentsAsString(r){return this.readFileContents(r,"string")}readFileContents(r,n){return new T1.y(i=>{if(!r)return i.error("Parameter file must be given"),void i.complete();const a=new FileReader;switch(a.onload=()=>{a.result instanceof ArrayBuffer&&"arraybuffer"===n||"string"==typeof a.result&&"string"===n?(i.next(a.result),i.complete()):(i.error(`While reading ${r.name}, expected ${n}. Got ${typeof a.result}`),i.complete())},a.onerror=()=>{i.error(`Error occurred during reading file ${r.name}`),i.complete()},n){case"string":a.readAsText(r);break;case"arraybuffer":a.readAsArrayBuffer(r);break;default:throw new Error(`Invalid value for parameter outputAs: ${n}`)}})}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),t})(),Uf=(()=>{class t{constructor(r,n){this.encodingService=r,this.fileService=n}multipartDocumentFactory(){return new kp(this.encodingService)}mimeDocumentFactory(){return new Sp(this.encodingService)}createMultipartDocument(r,n){var i;const a=this.multipartDocumentFactory();a.setContentType("multipart/mixed").useAutoGeneratedBoundary().setProtectedHeaders().addHeader("Subject",r.subject).addHeader("From",`${r.fromName} <${r.fromEmail}>`).addHeader("Reply-To",`${r.fromName} <${r.fromEmail}>`).addHeader("To",ra.N.contact.to).addHeader("Message-ID",`<${n}>`).addPart(this.mimeDocumentFactory().setPlainTextContent(r.message).build());const s=null===(i=r.attachments)||void 0===i?void 0:i.filter(o=>o instanceof File);return s&&0!==s.length?(0,nr.D)(s).pipe((0,Qt.z)(o=>this.fileService.readFileContentsAsArrayBuffer(o).pipe((0,_r.U)(u=>({attachment:o,content:new Uint8Array(u)})))),(0,vp.b)(({attachment:o,content:u})=>{a.addPart(this.mimeDocumentFactory().attachment().setName(o.name).setFilename(o.name).setContentType(o.type).setBinaryContent(u).build())}),(0,_p.Z)(),(0,_r.U)(()=>a.build())):(0,ur.of)(a.build())}}return t.\u0275fac=function(r){return new(r||t)(p.LFG(ec),p.LFG(tc))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),t})();var x1=Ke(5740);let Rf=(()=>{class t{constructor(r,n,i,a,s,o){this.openPgpService=r,this.multipartDocumentService=n,this.store=i,this.encodingService=a,this.gm=s,this.fileService=o}send(r,n={}){if(r=this.fillTemplate(r,n),this.messageIsTooLarge(r))return void this.gm.add({type:"warn",message:"The message you're trying to send is too large. Try keeping it and the total size of the attachments below 2.5MB."});const i=this.encodingService.base32(crypto.getRandomValues(new Uint8Array(15)))+"@"+ra.N.contact.messageIdDomain;this.multipartDocumentService.createMultipartDocument(r,i).pipe((0,Qt.z)(a=>this.openPgpService.encrypt(a.toString())),(0,Qt.z)(a=>a.length<=ra.N.contact.maxEncryptedMessageSize?(0,ur.of)(a):(this.gm.add({type:"error",message:"The message you're trying to send is too large. Try reducing the size of the attachments."}),(0,hp._)(()=>new Error("Encrypted file size is too large"))))).subscribe(a=>{this.store.dispatch(Cc({encryptedMsg:a,messageId:i}))})}checkForPublicKey(r,n){const i=n.filter(a=>a instanceof File).filter(a=>a.size<=5e4).filter(a=>a.name.toLowerCase().endsWith(".asc"));return(0,nr.D)(i).pipe((0,Qt.z)(a=>this.fileService.readFileContentsAsString(a).pipe((0,os.K)(()=>w1.E))),(0,Qt.z)(a=>(0,nr.D)(e0({armoredKey:a})).pipe((0,os.K)(()=>w1.E))),(0,If.h)(a=>!a.isPrivate()&&a.users.some(s=>{var o;return(null===(o=s.userID)||void 0===o?void 0:o.email.trim().toLowerCase())===r.trim().toLowerCase()})),function(t){return function(t,e){return(0,pp.e)((0,fp.U)(t,e,arguments.length>=2,!1,!0))}((e,r,n)=>!t||t(r,n)?e+1:e,0)}(),(0,_r.U)(a=>a>0))}fillTemplate(r,n={}){const i=[`${r.fromName} <${r.fromEmail}> sent a message through the contact from.`];return r.requestEncryptedReply&&r.encryptionPassphrase&&!n.hasSuitablePublicKey?i.push(`Encrypted reply requested with passphrase "${r.encryptionPassphrase}"`):n.hasSuitablePublicKey&&i.push("The sender's public key is attached."),i.push("","--------------","",r.message),Object.assign(Object.assign({},r),{message:i.join("\n")})}messageIsTooLarge(r){let n=r.message.length;if(r.attachments)for(let i of r.attachments)i&&(n+=i.size);return n>ra.N.contact.maxMessageSize}}return t.\u0275fac=function(r){return new(r||t)(p.LFG(S1),p.LFG(Uf),p.LFG(He.yh),p.LFG(ec),p.LFG(x1.H),p.LFG(tc))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),t})();var Kf=Ke(4832);function xp(t,e){if(1&t){const r=p.EpF();p.TgZ(0,"div",2),p.NdJ("click",function(i){return p.CHM(r),p.oxw().closeHelp(i)}),p.TgZ(1,"div",3),p.NdJ("click",function(i){return p.CHM(r),p.oxw().preventDefault(i)}),p.TgZ(2,"div",4),p.Hsn(3),p.qZA(),p.TgZ(4,"button",5),p.NdJ("click",function(i){return p.CHM(r),p.oxw().closeHelp(i)}),p._uU(5," Close "),p.qZA(),p.qZA(),p.qZA()}}const Ep=["*"];let Cp=(()=>{class t{constructor(){this.isOpen=!1}ngOnInit(){}preventDefault(r){r.preventDefault(),r.stopPropagation()}openHelp(r){this.preventDefault(r),this.isOpen=!0}closeHelp(r){this.preventDefault(r),this.isOpen=!1}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=p.Xpm({type:t,selectors:[["nwie-help"]],ngContentSelectors:Ep,decls:3,vars:1,consts:[[1,"help-link",3,"click"],["class","backdrop",3,"click",4,"ngIf"],[1,"backdrop",3,"click"],[1,"help-modal",3,"click"],[1,"content"],["type","button",3,"click"]],template:function(r,n){1&r&&(p.F$t(),p.TgZ(0,"a",0),p.NdJ("click",function(a){return n.openHelp(a)}),p._uU(1,"[?]"),p.qZA(),p.YNc(2,xp,6,0,"div",1)),2&r&&(p.xp6(2),p.Q6J("ngIf",n.isOpen))},directives:[yt.O5],styles:['[_nghost-%COMP%]{white-space:initial}.help-link[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}.backdrop[_ngcontent-%COMP%]{position:fixed;z-index:1400;left:0;top:0;right:0;bottom:0;background-color:#00000080;display:flex;justify-content:center;align-items:center}.backdrop[_ngcontent-%COMP%]   .help-modal[_ngcontent-%COMP%]{border:1px solid #000;background-color:#fff;font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;font-size:1rem;padding:2em;max-width:650px;display:flex;flex-direction:column;justify-content:space-between;align-items:center}.backdrop[_ngcontent-%COMP%]   .help-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1em;border:1px solid #000}.backdrop[_ngcontent-%COMP%]   .help-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:none}']}),t})();function Mp(t,e){if(1&t&&(p.TgZ(0,"label",3),p._uU(1,"+ attachment"),p.qZA()),2&t){const r=p.oxw();p.Q6J("for",r.inputId)}}function Pp(t,e){if(1&t){const r=p.EpF();p.TgZ(0,"button",7),p.NdJ("click",function(){return p.CHM(r),p.oxw(2).onDelete()}),p._uU(1,"\xd7 delete"),p.qZA()}}function Dp(t,e){if(1&t&&(p.ynx(0),p.TgZ(1,"div",4),p._uU(2),p.qZA(),p._UZ(3,"div",5),p.YNc(4,Pp,2,0,"button",6),p.BQk()),2&t){const r=p.oxw();p.xp6(2),p.Oqu(r.file.name),p.xp6(2),p.Q6J("ngIf",r.control.value)}}let Tp=(()=>{class t{constructor(r){this.encodingService=r,this.addAttachment=new p.vpe,this.delete=new p.vpe,this.inputId=this.generateRandomId()}ngOnInit(){}generateRandomId(){const r=new Uint8Array(5);return crypto.getRandomValues(r),"nwie-attachment-"+this.encodingService.base32(r)}onChange(r){var n;const i=null===(n=r.target.files)||void 0===n?void 0:n.item(0);i&&(this.addAttachment.emit(i),this.control.setValue(i))}get file(){return this.control.value}onDelete(){this.delete.emit()}}return t.\u0275fac=function(r){return new(r||t)(p.Y36(ec))},t.\u0275cmp=p.Xpm({type:t,selectors:[["nwie-attachment"]],inputs:{control:"control"},outputs:{addAttachment:"addAttachment",delete:"delete"},decls:3,vars:3,consts:[["type","file",3,"id","change"],[3,"for",4,"ngIf"],[4,"ngIf"],[3,"for"],[1,"fileinfo"],[1,"spacer"],["type","button",3,"click",4,"ngIf"],["type","button",3,"click"]],template:function(r,n){1&r&&(p.TgZ(0,"input",0),p.NdJ("change",function(a){return n.onChange(a)}),p.qZA(),p.YNc(1,Mp,2,1,"label",1),p.YNc(2,Dp,5,2,"ng-container",2)),2&r&&(p.Q6J("id",n.inputId),p.xp6(1),p.Q6J("ngIf",!n.control.value),p.xp6(1),p.Q6J("ngIf",n.control.value))},directives:[yt.O5],styles:['[_nghost-%COMP%]{display:block;font-family:"Fira Code","Courier New",Courier,monospace;font-size:.75em;display:flex;flex-direction:row}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:fixed;left:-1000px;top:-1000px;visibility:none}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;padding:0;font-family:"Fira Code","Courier New",Courier,monospace;font-size:1em;cursor:pointer;white-space:nowrap}[_nghost-%COMP%]   .fileinfo[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   .spacer[_ngcontent-%COMP%]{flex-grow:1;border-bottom:1px dashed #000}']}),t})();const Ip=["*"];let Up=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=p.Xpm({type:t,selectors:[["nwie-loader"]],ngContentSelectors:Ip,decls:8,vars:0,consts:[[1,"backdrop"],[1,"loader"],[1,"loader-message"],[1,"loader-dots"],[1,"dot","dot1"],[1,"dot","dot2"],[1,"dot","dot3"]],template:function(r,n){1&r&&(p.F$t(),p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.Hsn(3),p.qZA(),p.TgZ(4,"div",3),p._UZ(5,"div",4),p._UZ(6,"div",5),p._UZ(7,"div",6),p.qZA(),p.qZA(),p.qZA())},styles:['.backdrop[_ngcontent-%COMP%]{position:fixed;z-index:1400;left:0;top:0;right:0;bottom:0;background-color:#00000080;display:flex;justify-content:center;align-items:center}.backdrop[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{flex-basis:200px;height:120px;border:1px solid #000;background-color:#fff;font-family:"Fira Code","Courier New",Courier,monospace;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly}.backdrop[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   .loader-dots[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100px}.backdrop[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   .loader-dots[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{height:10px;width:10px;animation-duration:2s;animation-timing-function:steps(4,end);animation-iteration-count:infinite}.backdrop[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   .loader-dots[_ngcontent-%COMP%]   .dot.dot1[_ngcontent-%COMP%]{animation-name:flash1}.backdrop[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   .loader-dots[_ngcontent-%COMP%]   .dot.dot2[_ngcontent-%COMP%]{animation-name:flash2}.backdrop[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   .loader-dots[_ngcontent-%COMP%]   .dot.dot3[_ngcontent-%COMP%]{animation-name:flash3}@keyframes flash1{0%{background-color:#fff}24%{background-color:#fff}25%{background-color:#101010}to{background-color:#101010}}@keyframes flash2{0%{background-color:#fff}49%{background-color:#fff}50%{background-color:#101010}to{background-color:#101010}}@keyframes flash3{0%{background-color:#fff}74%{background-color:#fff}75%{background-color:#101010}to{background-color:#101010}}']}),t})();function Rp(t,e){if(1&t&&(p.TgZ(0,"div",1),p.TgZ(1,"div",20),p._UZ(2,"input",21),p.TgZ(3,"label",22),p._uU(4," Request encrypted reply "),p.TgZ(5,"nwie-help"),p.TgZ(6,"p"),p._uU(7," Messages sent to me through this contact form are end-to-end encrypted, but my replies to you aren't by default. This is because in order to encrypt information, one needs either a public key of the recipient, or a shared secret. "),p.qZA(),p.TgZ(8,"p"),p._uU(9," If you want me send my reply to you end-to-end encrypted, you need to select the option "),p.TgZ(10,"em"),p._uU(11,"Request encrypted reply"),p.qZA(),p._uU(12,", and set up a passphrase which acts as shared secret. The passphrase will be exchanged in an encrypted manner just like the rest of the message. "),p.qZA(),p.TgZ(13,"p"),p._uU(14," When receiving my reply, you then need to enter the passphrase again to decrypt it. It is therefore important that you remember it or save it in a secure location, such as a USB drive or a password manager. "),p.qZA(),p.TgZ(15,"p"),p._uU(16," Alternatively, attach your armored public OpenPGP key to this message. "),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(17,"div",2),p._UZ(18,"input",23),p.TgZ(19,"label",24),p._uU(20,"Encryption passphrase (\u2265 8 characters)"),p.qZA(),p.qZA(),p.qZA()),2&t){const r=p.oxw();p.xp6(17),p.ekj("hidden",!r.requestEncryptedReply)}}function Kp(t,e){1&t&&(p.TgZ(0,"div",25),p.TgZ(1,"div"),p._uU(2,"My reply will be encrypted using your attached public key."),p.qZA(),p.qZA())}function Bp(t,e){if(1&t){const r=p.EpF();p.TgZ(0,"nwie-attachment",26),p.NdJ("addAttachment",function(){return p.CHM(r),p.oxw().addAttachmentField()})("delete",function(){const a=p.CHM(r).index;return p.oxw().deleteAttachment(a)}),p.qZA()}2&t&&p.Q6J("control",e.$implicit)}function Op(t,e){1&t&&(p.TgZ(0,"nwie-loader"),p._uU(1,"sending"),p.qZA())}let Fp=(()=>{class t{constructor(r,n,i){this.fb=r,this.store=n,this.contactFormService=i,this.contactForm=this.fb.group({subject:["",ni.required],fromName:["",ni.required],fromEmail:["",[ni.email,ni.required]],requestEncryptedReply:[!1,[]],encryptionPassphrase:["",[this.requiredIf(()=>{var a,s;return(null===(s=null===(a=this.contactForm)||void 0===a?void 0:a.get("requestEncryptedReply"))||void 0===s?void 0:s.value)&&!this.hasSuitablePublicKey}),ni.minLength(8)]],message:["",ni.required],attachments:this.createAttachmentsArray()}),this.sending=!1,this.hasSuitablePublicKey=!1,this.destroy$=new Dl.x}get requestEncryptedReply(){var r,n;return null!==(n=null===(r=this.contactForm.get("requestEncryptedReply"))||void 0===r?void 0:r.value)&&void 0!==n&&n}ngOnInit(){this.listenToChanges(),this.store.select(i5).pipe((0,Tl.q)(1)).subscribe(r=>{this.contactForm.setValue(Object.assign(Object.assign({},r),{attachments:[null]}))}),this.store.select(a5).pipe((0,_s.R)(this.destroy$)).subscribe(r=>this.sending=r)}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}createAttachmentsArray(){return this.attachmentFields=this.fb.array([[null]]),this.attachmentFields}addAttachmentField(){this.attachmentFields.push(this.fb.control(null))}deleteAttachment(r){this.attachmentFields.removeAt(r)}listenToChanges(){this.contactForm.valueChanges.pipe((0,L3.b)(300),(0,_s.R)(this.destroy$)).subscribe(r=>{var n;r.fromEmail&&r.attachments&&this.contactFormService.checkForPublicKey(r.fromEmail,r.attachments).subscribe(i=>this.hasSuitablePublicKey=i),null===(n=this.contactForm.get("encryptionPassphrase"))||void 0===n||n.updateValueAndValidity(),this.store.dispatch(Il({subject:r.subject,fromName:r.fromName,fromEmail:r.fromEmail,requestEncryptedReply:r.requestEncryptedReply,encryptionPassphrase:r.encryptionPassphrase,message:r.message}))})}reset(){this.contactForm.setControl("attachments",this.createAttachmentsArray())}onSubmit(){this.contactFormService.send(this.contactForm.value,{hasSuitablePublicKey:this.hasSuitablePublicKey})}requiredIf(r){return n=>r()?ni.required(n):null}}return t.\u0275fac=function(r){return new(r||t)(p.Y36(j3),p.Y36(He.yh),p.Y36(Rf))},t.\u0275cmp=p.Xpm({type:t,selectors:[["nwie-contact"]],decls:35,vars:6,consts:[[3,"formGroup","ngSubmit"],[1,"input-row"],[1,"input-group"],["type","text","id","subject","formControlName","subject"],["for","subject"],["type","text","id","fromName","formControlName","fromName","autocomplete","name"],["for","fromName"],["type","email","id","fromEmail","formControlName","fromEmail","autocomplete","email"],["for","fromEmail"],["class","input-row",4,"ngIf"],["class","message-row",4,"ngIf"],[1,"textarea-group"],["id","message","formControlName","message","rows","10"],["for","message"],[1,"attachments"],[3,"control","addAttachment","delete",4,"ngFor","ngForOf"],[1,"button-row"],["type","submit",3,"disabled"],["type","reset",3,"click"],[4,"ngIf"],[1,"checkbox-group"],["type","checkbox","id","requestEncryptedReply","formControlName","requestEncryptedReply"],["for","requestEncryptedReply"],["type","text","id","encryptionPassphrase","formControlName","encryptionPassphrase"],["for","encryptionPassphrase"],[1,"message-row"],[3,"control","addAttachment","delete"]],template:function(r,n){1&r&&(p.TgZ(0,"nwie-content-page"),p.TgZ(1,"h2"),p._uU(2,"Contact"),p.qZA(),p.TgZ(3,"p"),p._uU(4," Messages sent through this form are end-to-end encrypted. Unlike with regular e-mails, no nosy government, evil corporation or power-hungry sysadmin is able to intercept and read them. "),p.qZA(),p.TgZ(5,"form",0),p.NdJ("ngSubmit",function(){return n.onSubmit()}),p.TgZ(6,"div",1),p.TgZ(7,"div",2),p._UZ(8,"input",3),p.TgZ(9,"label",4),p._uU(10,"Subject"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(11,"div",1),p.TgZ(12,"div",2),p._UZ(13,"input",5),p.TgZ(14,"label",6),p._uU(15,"Your name"),p.qZA(),p.qZA(),p.TgZ(16,"div",2),p._UZ(17,"input",7),p.TgZ(18,"label",8),p._uU(19,"Your e-mail address"),p.qZA(),p.qZA(),p.qZA(),p.YNc(20,Rp,21,2,"div",9),p.YNc(21,Kp,3,0,"div",10),p.TgZ(22,"div",1),p.TgZ(23,"div",11),p._UZ(24,"textarea",12),p.TgZ(25,"label",13),p._uU(26,"Message"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(27,"div",14),p.YNc(28,Bp,1,1,"nwie-attachment",15),p.qZA(),p.TgZ(29,"div",16),p.TgZ(30,"button",17),p._uU(31,"Send"),p.qZA(),p.TgZ(32,"button",18),p.NdJ("click",function(){return n.reset()}),p._uU(33,"Clear form"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.YNc(34,Op,2,0,"nwie-loader",19)),2&r&&(p.xp6(5),p.Q6J("formGroup",n.contactForm),p.xp6(15),p.Q6J("ngIf",!n.hasSuitablePublicKey),p.xp6(1),p.Q6J("ngIf",n.hasSuitablePublicKey),p.xp6(7),p.Q6J("ngForOf",n.attachmentFields.controls),p.xp6(2),p.Q6J("disabled",!n.contactForm.valid),p.xp6(4),p.Q6J("ngIf",n.sending))},directives:[Kf.G,vc,oc,bs,us,rl,kc,yt.O5,yt.sg,nc,Cp,Tp,Up],styles:[".attachments[_ngcontent-%COMP%]{margin-bottom:1em}"]}),t})(),Bf=(()=>{class t{constructor(r,n){this.fileService=r,this.openPgpService=n}verify(r){return"message/rfc822"!==r.type?(0,ur.of)("not-an-eml-file"):this.fileService.readFileContentsAsString(r).pipe((0,_r.U)(n=>n.trim()),(0,_r.U)(n=>this.parseEmail(n)),(0,Qt.z)(n=>{var i;const a=n.headers.from.match(/^([^<]*<)?([^<]*@[^>]*).*$/);if(a&&a[2]!==ra.N.contact.senderVerificationAddress)return(0,ur.of)("not-from-me");if(!n.isMultipart)return(0,ur.of)("not-a-multipart-file");if("multipart/encrypted"===n.contentType.type)return(0,ur.of)("encrypted");if("multipart/signed"!==n.contentType.type||"application/pgp-signature"!==(null===(i=n.contentType.params)||void 0===i?void 0:i.protocol)||!n.parts||n.parts.length<2||"application/pgp-signature"!==n.parts[1].parsed.contentType.type)return(0,ur.of)("no-signature-present");const s=n.parts[0].raw.replace(/\r?\n/g,"\r\n");return this.openPgpService.verify(s,n.parts[1].parsed.content).pipe((0,Qt.z)(u=>(0,nr.D)(u.signatures[0].verified)),(0,_r.U)(u=>u?"good-signature":"bad-signature"),(0,os.K)(()=>(0,ur.of)("bad-signature")))}))}parseEmail(r){var n;const i=(r=r.trim()).split(/\r?\n/),a={};let s;for(s=0;s<i.length;s++){const l=i[s].trim();if(""===l)break;const d=l.match(/^([^:]*):(.*)$/);d&&(a[d[1].trim().toLowerCase()]=d[2].trim())}for(;!i[++s].trim(););const o=i.splice(s),u=o.join("\n"),c=this.parseContentType(a["content-type"]);if(c.type.startsWith("multipart/")){const l=null===(n=c.params)||void 0===n?void 0:n.boundary;if(!l)return{headers:a,content:u,contentType:c,isMultipart:!0};const d=[];let y=[],g=-1;for(let k=0;k<o.length;k++){const D=o[k],T=D.trim();if(T===`--${l}`||T===`--${l}--`){if(g++,g>0&&(d.push(y.join("\n")),y=[]),T===`--${l}--`)break}else g>=0&&y.push(D)}return{headers:a,content:u,contentType:c,parts:d.map(k=>({parsed:this.parseEmail(k),raw:k})),isMultipart:!0}}return{headers:a,content:u,contentType:c,isMultipart:!1}}parseContentType(r){const n=r.split(";").map(a=>a.trim());if(1===n.length)return{type:n[0]};const i={};for(let a=1;a<n.length;a++){const s=n[a].match(/^(\w+)=("?)(.*?)(\2)$/);s&&(i[s[1].trim()]=s[3].trim())}return{type:n[0],params:i}}}return t.\u0275fac=function(r){return new(r||t)(p.LFG(tc),p.LFG(S1))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),t})();const zp=["fileUploadBox"];function Vp(t,e){1&t&&(p.TgZ(0,"div",13),p.TgZ(1,"h3"),p._uU(2,"Not an .eml File"),p.qZA(),p.TgZ(3,"p"),p._uU(4," The file you uploaded does not appear to be an .eml file. "),p.qZA(),p.qZA())}function qp(t,e){1&t&&(p.TgZ(0,"div",14),p.TgZ(1,"h3"),p._uU(2,"Not from me"),p.qZA(),p.TgZ(3,"p"),p._uU(4," This tool can only check the legitimacy of e-mails sent by me. "),p.qZA(),p.qZA())}function Np(t,e){1&t&&(p.TgZ(0,"div",15),p.TgZ(1,"h3"),p._uU(2,"Could not verify legitimacy!"),p.qZA(),p.TgZ(3,"p"),p._uU(4," The e-mail appears to be sent by me, but it is not signed. There is no certainty about its legitimacy! "),p.qZA(),p.TgZ(5,"p"),p._uU(6," This could mean one or multiple of following things: "),p.qZA(),p.TgZ(7,"ul"),p.TgZ(8,"li"),p._uU(9,"I am the author, but a third party between me and you removed the signature from the original e-mail"),p.qZA(),p.TgZ(10,"li"),p._uU(11,"I am the author, but "),p.TgZ(12,"strong"),p._uU(13,"a third party altered the contents of the e-mail"),p.qZA(),p._uU(14,"."),p.qZA(),p.TgZ(15,"li"),p._uU(16,"I am "),p.TgZ(17,"strong"),p._uU(18,"not"),p.qZA(),p._uU(19," the author, and "),p.TgZ(20,"strong"),p._uU(21,"a third party sent you this e-mail pretending to be me"),p.qZA(),p._uU(22,"."),p.qZA(),p.qZA(),p.TgZ(23,"p"),p._uU(24," When in doubt: "),p.TgZ(25,"strong"),p._uU(26,"ignore this e-mail!"),p.qZA(),p._uU(27," If the legitimacy of the e-mail is crucial to you, contact me using "),p.TgZ(28,"a",16),p._uU(29,"the end-to-end encrypted contact form"),p.qZA(),p._uU(30," and request an end-to-end encrypted reply. "),p.qZA(),p.qZA())}function jp(t,e){1&t&&(p.TgZ(0,"div",14),p.TgZ(1,"h3"),p._uU(2,"Encrypted message"),p.qZA(),p.TgZ(3,"p"),p._uU(4," This message is encrypted and can only be opened by the recipient. If you are the recipient, use your decryption software to verify its legitimacy. "),p.qZA(),p.qZA())}function Lp(t,e){1&t&&(p.TgZ(0,"div",15),p.TgZ(1,"h3"),p._uU(2,"Could not verify legitimacy!"),p.qZA(),p.TgZ(3,"p"),p._uU(4," The e-mail appears to be sent by me, but the signature doesn't match. There is no certainty about its legitimacy! "),p.qZA(),p.TgZ(5,"p"),p._uU(6," This could mean one or multiple of following things: "),p.qZA(),p.TgZ(7,"ul"),p.TgZ(8,"li"),p._uU(9,"I am the author, but "),p.TgZ(10,"strong"),p._uU(11,"a third party altered the contents of the e-mail"),p.qZA(),p._uU(12,"."),p.qZA(),p.TgZ(13,"li"),p._uU(14,"I am "),p.TgZ(15,"strong"),p._uU(16,"not"),p.qZA(),p._uU(17," the author, and "),p.TgZ(18,"strong"),p._uU(19,"a third party sent you this e-mail pretending to be me"),p.qZA(),p._uU(20,"."),p.qZA(),p.qZA(),p.TgZ(21,"p"),p._uU(22," When in doubt: "),p.TgZ(23,"strong"),p._uU(24,"ignore this e-mail!"),p.qZA(),p._uU(25," If the legitimacy of the e-mail is crucial to you, contact me using "),p.TgZ(26,"a",16),p._uU(27,"the end-to-end encrypted contact form"),p.qZA(),p._uU(28," and request an end-to-end encrypted reply. "),p.qZA(),p.qZA())}function Gp(t,e){1&t&&(p.TgZ(0,"div",17),p.TgZ(1,"h3"),p._uU(2,"Legitimacy verified."),p.qZA(),p.TgZ(3,"p"),p._uU(4," Please check following things: "),p.qZA(),p.TgZ(5,"ul"),p.TgZ(6,"li"),p._uU(7,"Is your browser showing you a closed padlock symbol without any warnings next to the URL in the address bar?"),p.qZA(),p.TgZ(8,"li"),p._uU(9,"Were you able to enter this website without having to accept any warnings about an insecure connection?"),p.qZA(),p.TgZ(10,"li"),p._uU(11,"Do you own the device you're currently using?"),p.qZA(),p.qZA(),p.TgZ(12,"p"),p._uU(13,' If you were able to answer all of these questions with "yes", you can be certain about the e-mail\'s legitimacy. '),p.qZA(),p.TgZ(14,"p"),p._uU(15,' If you had to answer any of these questions with "no", it is possible that someone tampered with this tool to present you a wrong result. '),p.qZA(),p.qZA())}const Zp=[{path:"",component:Fp},{path:"verify",component:(()=>{class t{constructor(r){this.verificationService=r,this.emailFileName="",this.isDraggedOver=!1,this.destroy$=new Dl.x}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}ngAfterViewInit(){const r=this.fileUploadBox.nativeElement,n=i=>{i.preventDefault(),i.stopPropagation()};for(let i of["drag","dragstart","dragend","dragover","dragenter","dragleave","drop"])r.addEventListener(i,n)}selectFile(r){this.emailFile=r,this.emailFileName=r.name,this.verificationService.verify(r).pipe((0,_s.R)(this.destroy$)).subscribe(n=>{this.verificationResponse=n})}onInputChange(r){var n;const i=null===(n=r.target.files)||void 0===n?void 0:n.item(0);i&&this.selectFile(i)}onDrop(r){var n;const i=null===(n=r.dataTransfer)||void 0===n?void 0:n.files.item(0);i&&this.selectFile(i)}}return t.\u0275fac=function(r){return new(r||t)(p.Y36(Bf))},t.\u0275cmp=p.Xpm({type:t,selectors:[["nwie-verify-email"]],viewQuery:function(r,n){if(1&r&&p.Gf(zp,5),2&r){let i;p.iGM(i=p.CRH())&&(n.fileUploadBox=i.first)}},decls:38,vars:9,consts:[["routerLink","/sites/exporting-emails"],["href","https://ssd.eff.org/en/module/deep-dive-end-end-encryption-how-do-public-key-encryption-systems-work"],[1,"file-upload-box",3,"dragover","dragenter","dragleave","dragend","drop"],["fileUploadBox",""],["type","file","id","email-file","accept","message/rfc822",3,"change"],["for","email-file"],[1,"mock-input"],[1,"text-field"],[1,"button"],["class","verification-response warn",4,"ngIf"],["class","verification-response info",4,"ngIf"],["class","verification-response error",4,"ngIf"],["class","verification-response success",4,"ngIf"],[1,"verification-response","warn"],[1,"verification-response","info"],[1,"verification-response","error"],["routerLink","/contact"],[1,"verification-response","success"]],template:function(r,n){1&r&&(p.TgZ(0,"nwie-content-page"),p.TgZ(1,"h2"),p._uU(2,"Verify E-Mail Legitimacy"),p.qZA(),p.TgZ(3,"p"),p._uU(4," E-Mail messages sent by me, Sebastian Wieland, are always digitally signed with an OpenPGP signature. This signature can be verified with any OpenPGP software. Only if the signature can be successfully verified, the e-mail is legitimate. "),p.qZA(),p.TgZ(5,"p"),p._uU(6," If you do not use any OpenPGP software, the signature appears to you as an attachment called "),p.TgZ(7,"code"),p._uU(8,"signature.asc"),p.qZA(),p._uU(9,". In this case, you can verify the e-mail's signature using the verification tool below. This can be done with any e-mail message sent by me, as long as your e-mail client supports exporting messages as .eml files. "),p.qZA(),p.TgZ(10,"p"),p._uU(11," To verify the signature of an e-mail, export it as .eml file and open it here. You need to export the entire e-mail with all attachments; not just the text or the signature file. The verification happens on your device; no information is uploaded to the internet. "),p.qZA(),p.TgZ(12,"ul"),p.TgZ(13,"li"),p.TgZ(14,"a",0),p._uU(15,"How to export e-mails as .eml file"),p.qZA(),p.qZA(),p.TgZ(16,"li"),p.TgZ(17,"a",1),p._uU(18,"Learn more about OpenPGP"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(19,"form",2,3),p.NdJ("dragover",function(){return n.isDraggedOver=!0})("dragenter",function(){return n.isDraggedOver=!0})("dragleave",function(){return n.isDraggedOver=!1})("dragend",function(){return n.isDraggedOver=!1})("drop",function(a){return n.isDraggedOver=!1,n.onDrop(a)}),p.TgZ(21,"input",4),p.NdJ("change",function(a){return n.onInputChange(a)}),p.qZA(),p.TgZ(22,"label",5),p.TgZ(23,"p"),p._uU(24,"Open an e-mail file ..."),p.qZA(),p.TgZ(25,"div",6),p.TgZ(26,"div",7),p._uU(27),p.qZA(),p.TgZ(28,"div",8),p._uU(29,"Open"),p.qZA(),p.qZA(),p.TgZ(30,"p"),p._uU(31,"... or drop it here."),p.qZA(),p.qZA(),p.qZA(),p.YNc(32,Vp,5,0,"div",9),p.YNc(33,qp,5,0,"div",10),p.YNc(34,Np,31,0,"div",11),p.YNc(35,jp,5,0,"div",10),p.YNc(36,Lp,29,0,"div",11),p.YNc(37,Gp,16,0,"div",12),p.qZA()),2&r&&(p.xp6(19),p.ekj("is-dragged-over",n.isDraggedOver),p.xp6(8),p.Oqu(n.emailFileName),p.xp6(5),p.Q6J("ngIf","not-an-eml-file"===n.verificationResponse),p.xp6(1),p.Q6J("ngIf","not-from-me"===n.verificationResponse),p.xp6(1),p.Q6J("ngIf","not-a-multipart-file"===n.verificationResponse||"no-signature-present"===n.verificationResponse),p.xp6(1),p.Q6J("ngIf","encrypted"===n.verificationResponse),p.xp6(1),p.Q6J("ngIf","bad-signature"===n.verificationResponse),p.xp6(1),p.Q6J("ngIf","good-signature"===n.verificationResponse))},directives:[Kf.G,cs.yS,vc,oc,yt.O5],styles:['.file-upload-box[_ngcontent-%COMP%]{width:100%;border:3px dashed #101010;box-sizing:border-box;background-color:#ccc;text-align:center;transition:ease-in-out;transition-property:background-color;transition-duration:.2s}.file-upload-box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:space-around;height:150px}.file-upload-box[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:fixed;left:1000;top:1000;opacity:0}.file-upload-box.is-dragged-over[_ngcontent-%COMP%]{background-color:#f2f2f2}.file-upload-box[_ngcontent-%COMP%]   .mock-input[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:2.4em;box-sizing:border-box;width:100%;padding:0 2em}.file-upload-box[_ngcontent-%COMP%]   .mock-input[_ngcontent-%COMP%]   .text-field[_ngcontent-%COMP%]{flex-grow:1;background-color:#fff;border:2px solid #101010;height:100%;padding:0 .4em;box-sizing:border-box;display:flex;align-items:center}.file-upload-box[_ngcontent-%COMP%]   .mock-input[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:#101010;color:#fff;font-family:"Fira Code","Courier New",Courier,monospace;height:100%;padding:0 .8em;box-sizing:border-box;display:flex;align-items:center}.verification-response[_ngcontent-%COMP%]{margin-top:4px;padding:0 .5em;border:3px solid;box-sizing:border-box}@media screen and (min-width: 480px){.verification-response[_ngcontent-%COMP%]{padding:0 1em}}.verification-response.success[_ngcontent-%COMP%]{border-color:#0ce825;background-color:#acfbb5}.verification-response.info[_ngcontent-%COMP%]{border-color:#09cfcd;background-color:#91faf9}.verification-response.warn[_ngcontent-%COMP%]{border-color:#d5ce0a;background-color:#faf797}.verification-response.error[_ngcontent-%COMP%]{border-color:#c7081c;background-color:#fa8894}']}),t})()}];let Hp=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[cs.Bz.forChild(Zp)],cs.Bz]}),t})();var Wp=Ke(1050),bn=Ke(8017),E1=Ke(168);let Of=(()=>{class t{constructor(r){this.http=r}getPublicKey(){return this.http.get("/pgp-pubkey.asc",{responseType:"text"})}}return t.\u0275fac=function(r){return new(r||t)(p.LFG(E1.eN))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),t})(),$p=(()=>{class t{constructor(r,n,i){this.actions$=r,this.openpgpAdapter=n,this.globalMessagesService=i,this.loadPublicKey$=(0,bn.GW)(()=>this.actions$.pipe((0,bn.l4)(Pc),(0,Qt.z)(()=>this.openpgpAdapter.getPublicKey().pipe((0,_r.U)(a=>Kl({publicKey:a})),(0,os.K)(a=>(this.globalMessagesService.add({type:"error",message:"There was an error while retrieving the encryption key. Please try again later."}),(0,ur.of)(Bl({error:a}))))))))}}return t.\u0275fac=function(r){return new(r||t)(p.LFG(bn.eX),p.LFG(Of),p.LFG(x1.H))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),t})(),Ff=(()=>{class t{constructor(r){this.http=r}postMail(r,n){return this.http.post(ra.N.backendUrl+"/mail",r,{headers:{"X-Nwie-Message-Id":n},responseType:"text"})}}return t.\u0275fac=function(r){return new(r||t)(p.LFG(E1.eN))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),t})(),Yp=(()=>{class t{constructor(r,n,i,a){this.actions$=r,this.mailAdapter=n,this.router=i,this.gm=a,this.send$=(0,bn.GW)(()=>this.actions$.pipe((0,bn.l4)(Cc),(0,Qt.z)(({encryptedMsg:s,messageId:o})=>this.mailAdapter.postMail(s,o).pipe((0,_r.U)(()=>Mc()),(0,os.K)(u=>{switch(u.status){case 413:this.gm.add({type:"warn",message:"The message you're trying to send is too big! Try reducing the attachment size to about 2.5MB."});break;case 429:this.gm.add({type:"warn",message:"You have been sending a lot of messages through this form. Please wait a few hours before sending the next one."});break;default:this.gm.add({type:"error",message:"An unknown error occurred while sending the message."})}return(0,ur.of)(Rl(u))}))))),this.sendSuccess$=(0,bn.GW)(()=>this.actions$.pipe((0,bn.l4)(Mc),(0,_r.U)(()=>(this.gm.add({type:"success",message:"Message sent."}),this.router.navigate([""]),Ul()))))}}return t.\u0275fac=function(r){return new(r||t)(p.LFG(bn.eX),p.LFG(Ff),p.LFG(cs.F0),p.LFG(x1.H))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),t})(),Jp=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[yt.ez]]}),t})(),Qp=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[yt.ez]]}),t})(),Xp=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({providers:[Of,Ff,S1,ec,Uf,Rf,tc,Bf],imports:[[yt.ez,Hp,Wp.y,He.Aw.forFeature(Fl,n5),bn.sQ.forFeature([$p,Yp]),Pl,E1.JF,Jp,Qp]]}),t})()}}]);